function dw(n,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function pw(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),r}var zm={exports:{}},Wa={},Bm={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),mw=Symbol.for("react.portal"),gw=Symbol.for("react.fragment"),vw=Symbol.for("react.strict_mode"),yw=Symbol.for("react.profiler"),_w=Symbol.for("react.provider"),ww=Symbol.for("react.context"),xw=Symbol.for("react.forward_ref"),bw=Symbol.for("react.suspense"),Sw=Symbol.for("react.memo"),kw=Symbol.for("react.lazy"),Ef=Symbol.iterator;function Pw(n){return n===null||typeof n!="object"?null:(n=Ef&&n[Ef]||n["@@iterator"],typeof n=="function"?n:null)}var Um={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fm=Object.assign,Hm={};function bi(n,e,r){this.props=n,this.context=e,this.refs=Hm,this.updater=r||Um}bi.prototype.isReactComponent={};bi.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};bi.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Vm(){}Vm.prototype=bi.prototype;function Yc(n,e,r){this.props=n,this.context=e,this.refs=Hm,this.updater=r||Um}var Xc=Yc.prototype=new Vm;Xc.constructor=Yc;Fm(Xc,bi.prototype);Xc.isPureReactComponent=!0;var Cf=Array.isArray,Wm=Object.prototype.hasOwnProperty,eh={current:null},Zm={key:!0,ref:!0,__self:!0,__source:!0};function qm(n,e,r){var i,o={},a=null,u=null;if(e!=null)for(i in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)Wm.call(e,i)&&!Zm.hasOwnProperty(i)&&(o[i]=e[i]);var h=arguments.length-2;if(h===1)o.children=r;else if(1<h){for(var d=Array(h),f=0;f<h;f++)d[f]=arguments[f+2];o.children=d}if(n&&n.defaultProps)for(i in h=n.defaultProps,h)o[i]===void 0&&(o[i]=h[i]);return{$$typeof:Zs,type:n,key:a,ref:u,props:o,_owner:eh.current}}function Ew(n,e){return{$$typeof:Zs,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function th(n){return typeof n=="object"&&n!==null&&n.$$typeof===Zs}function Cw(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return e[r]})}var Tf=/\/+/g;function Zl(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Cw(""+n.key):e.toString(36)}function Jo(n,e,r,i,o){var a=typeof n;(a==="undefined"||a==="boolean")&&(n=null);var u=!1;if(n===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(n.$$typeof){case Zs:case mw:u=!0}}if(u)return u=n,o=o(u),n=i===""?"."+Zl(u,0):i,Cf(o)?(r="",n!=null&&(r=n.replace(Tf,"$&/")+"/"),Jo(o,e,r,"",function(f){return f})):o!=null&&(th(o)&&(o=Ew(o,r+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(Tf,"$&/")+"/")+n)),e.push(o)),1;if(u=0,i=i===""?".":i+":",Cf(n))for(var h=0;h<n.length;h++){a=n[h];var d=i+Zl(a,h);u+=Jo(a,e,r,d,o)}else if(d=Pw(n),typeof d=="function")for(n=d.call(n),h=0;!(a=n.next()).done;)a=a.value,d=i+Zl(a,h++),u+=Jo(a,e,r,d,o);else if(a==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function bo(n,e,r){if(n==null)return n;var i=[],o=0;return Jo(n,i,"","",function(a){return e.call(r,a,o++)}),i}function Tw(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var at={current:null},Qo={transition:null},Ow={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:Qo,ReactCurrentOwner:eh};function Km(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:bo,forEach:function(n,e,r){bo(n,function(){e.apply(this,arguments)},r)},count:function(n){var e=0;return bo(n,function(){e++}),e},toArray:function(n){return bo(n,function(e){return e})||[]},only:function(n){if(!th(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};se.Component=bi;se.Fragment=gw;se.Profiler=yw;se.PureComponent=Yc;se.StrictMode=vw;se.Suspense=bw;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ow;se.act=Km;se.cloneElement=function(n,e,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=Fm({},n.props),o=n.key,a=n.ref,u=n._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=eh.current),e.key!==void 0&&(o=""+e.key),n.type&&n.type.defaultProps)var h=n.type.defaultProps;for(d in e)Wm.call(e,d)&&!Zm.hasOwnProperty(d)&&(i[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)i.children=r;else if(1<d){h=Array(d);for(var f=0;f<d;f++)h[f]=arguments[f+2];i.children=h}return{$$typeof:Zs,type:n.type,key:o,ref:a,props:i,_owner:u}};se.createContext=function(n){return n={$$typeof:ww,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:_w,_context:n},n.Consumer=n};se.createElement=qm;se.createFactory=function(n){var e=qm.bind(null,n);return e.type=n,e};se.createRef=function(){return{current:null}};se.forwardRef=function(n){return{$$typeof:xw,render:n}};se.isValidElement=th;se.lazy=function(n){return{$$typeof:kw,_payload:{_status:-1,_result:n},_init:Tw}};se.memo=function(n,e){return{$$typeof:Sw,type:n,compare:e===void 0?null:e}};se.startTransition=function(n){var e=Qo.transition;Qo.transition={};try{n()}finally{Qo.transition=e}};se.unstable_act=Km;se.useCallback=function(n,e){return at.current.useCallback(n,e)};se.useContext=function(n){return at.current.useContext(n)};se.useDebugValue=function(){};se.useDeferredValue=function(n){return at.current.useDeferredValue(n)};se.useEffect=function(n,e){return at.current.useEffect(n,e)};se.useId=function(){return at.current.useId()};se.useImperativeHandle=function(n,e,r){return at.current.useImperativeHandle(n,e,r)};se.useInsertionEffect=function(n,e){return at.current.useInsertionEffect(n,e)};se.useLayoutEffect=function(n,e){return at.current.useLayoutEffect(n,e)};se.useMemo=function(n,e){return at.current.useMemo(n,e)};se.useReducer=function(n,e,r){return at.current.useReducer(n,e,r)};se.useRef=function(n){return at.current.useRef(n)};se.useState=function(n){return at.current.useState(n)};se.useSyncExternalStore=function(n,e,r){return at.current.useSyncExternalStore(n,e,r)};se.useTransition=function(){return at.current.useTransition()};se.version="18.3.1";Bm.exports=se;var T=Bm.exports;const Ru=Dm(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jw=T,Lw=Symbol.for("react.element"),Nw=Symbol.for("react.fragment"),Rw=Object.prototype.hasOwnProperty,Iw=jw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Aw={key:!0,ref:!0,__self:!0,__source:!0};function Gm(n,e,r){var i,o={},a=null,u=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(i in e)Rw.call(e,i)&&!Aw.hasOwnProperty(i)&&(o[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)o[i]===void 0&&(o[i]=e[i]);return{$$typeof:Lw,type:n,key:a,ref:u,props:o,_owner:Iw.current}}Wa.Fragment=Nw;Wa.jsx=Gm;Wa.jsxs=Gm;zm.exports=Wa;var m=zm.exports;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Of="popstate";function Mw(n={}){function e(i,o){let{pathname:a,search:u,hash:h}=i.location;return Iu("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:ws(o)}return Dw(e,r,null,n)}function Se(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $w(){return Math.random().toString(36).substring(2,10)}function jf(n,e){return{usr:n.state,key:n.key,idx:e}}function Iu(n,e,r=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Si(e):e,state:r,key:e&&e.key||i||$w()}}function ws({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Si(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Dw(n,e,r,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,h="POP",d=null,f=v();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function v(){return(u.state||{idx:null}).idx}function y(){h="POP";let O=v(),P=O==null?null:O-f;f=O,d&&d({action:h,location:E.location,delta:P})}function _(O,P){h="PUSH";let b=Iu(E.location,O,P);f=v()+1;let k=jf(b,f),j=E.createHref(b);try{u.pushState(k,"",j)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(j)}a&&d&&d({action:h,location:E.location,delta:1})}function x(O,P){h="REPLACE";let b=Iu(E.location,O,P);f=v();let k=jf(b,f),j=E.createHref(b);u.replaceState(k,"",j),a&&d&&d({action:h,location:E.location,delta:0})}function S(O){return zw(O)}let E={get action(){return h},get location(){return n(o,u)},listen(O){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Of,y),d=O,()=>{o.removeEventListener(Of,y),d=null}},createHref(O){return e(o,O)},createURL:S,encodeLocation(O){let P=S(O);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:_,replace:x,go(O){return u.go(O)}};return E}function zw(n,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Se(r,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:ws(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function Jm(n,e,r="/"){return Bw(n,e,r,!1)}function Bw(n,e,r,i){let o=typeof e=="string"?Si(e):e,a=yn(o.pathname||"/",r);if(a==null)return null;let u=Qm(n);Uw(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let f=Yw(a);h=Jw(u[d],f,i)}return h}function Qm(n,e=[],r=[],i="",o=!1){let a=(u,h,d=o,f)=>{let v={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&d)return;Se(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let y=gn([i,v.relativePath]),_=r.concat(v);u.children&&u.children.length>0&&(Se(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Qm(u.children,e,_,y,d)),!(u.path==null&&!u.index)&&e.push({path:y,score:Kw(y,u.index),routesMeta:_})};return n.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))a(u,h);else for(let f of Ym(u.path))a(u,h,!0,f)}),e}function Ym(n){let e=n.split("/");if(e.length===0)return[];let[r,...i]=e,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=Ym(i.join("/")),h=[];return h.push(...u.map(d=>d===""?a:[a,d].join("/"))),o&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function Uw(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:Gw(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var Fw=/^:[\w-]+$/,Hw=3,Vw=2,Ww=1,Zw=10,qw=-2,Lf=n=>n==="*";function Kw(n,e){let r=n.split("/"),i=r.length;return r.some(Lf)&&(i+=qw),e&&(i+=Vw),r.filter(o=>!Lf(o)).reduce((o,a)=>o+(Fw.test(a)?Hw:a===""?Ww:Zw),i)}function Gw(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function Jw(n,e,r=!1){let{routesMeta:i}=n,o={},a="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],f=h===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",y=ca({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},v),_=d.route;if(!y&&f&&r&&!i[i.length-1].route.index&&(y=ca({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:gn([a,y.pathname]),pathnameBase:nx(gn([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=gn([a,y.pathnameBase]))}return u}function ca(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,i]=Qw(n.path,n.caseSensitive,n.end),o=e.match(r);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((f,{paramName:v,isOptional:y},_)=>{if(v==="*"){let S=h[_]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const x=h[_];return y&&!x?f[v]=void 0:f[v]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:u,pattern:n}}function Qw(n,e=!1,r=!0){Zt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Yw(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function yn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=n.charAt(r);return i&&i!=="/"?null:n.slice(r)||"/"}function Xw(n,e="/"){let{pathname:r,search:i="",hash:o=""}=typeof n=="string"?Si(n):n;return{pathname:r?r.startsWith("/")?r:ex(r,e):e,search:rx(i),hash:ix(o)}}function ex(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function ql(n,e,r,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tx(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function nh(n){let e=tx(n);return e.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase)}function rh(n,e,r,i=!1){let o;typeof n=="string"?o=Si(n):(o={...n},Se(!o.pathname||!o.pathname.includes("?"),ql("?","pathname","search",o)),Se(!o.pathname||!o.pathname.includes("#"),ql("#","pathname","hash",o)),Se(!o.search||!o.search.includes("#"),ql("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=r;else{let y=e.length-1;if(!i&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),y-=1;o.pathname=_.join("/")}h=y>=0?e[y]:"/"}let d=Xw(o,h),f=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||v)&&(d.pathname+="/"),d}var gn=n=>n.join("/").replace(/\/\/+/g,"/"),nx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ix=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xm=["POST","PUT","PATCH","DELETE"];new Set(Xm);var ox=["GET",...Xm];new Set(ox);var ki=T.createContext(null);ki.displayName="DataRouter";var Za=T.createContext(null);Za.displayName="DataRouterState";T.createContext(!1);var eg=T.createContext({isTransitioning:!1});eg.displayName="ViewTransition";var ax=T.createContext(new Map);ax.displayName="Fetchers";var lx=T.createContext(null);lx.displayName="Await";var Kt=T.createContext(null);Kt.displayName="Navigation";var qs=T.createContext(null);qs.displayName="Location";var on=T.createContext({outlet:null,matches:[],isDataRoute:!1});on.displayName="Route";var ih=T.createContext(null);ih.displayName="RouteError";function ux(n,{relative:e}={}){Se(Pi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=T.useContext(Kt),{hash:o,pathname:a,search:u}=Gs(n,{relative:e}),h=a;return r!=="/"&&(h=a==="/"?r:gn([r,a])),i.createHref({pathname:h,search:u,hash:o})}function Pi(){return T.useContext(qs)!=null}function qn(){return Se(Pi(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(qs).location}var tg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ng(n){T.useContext(Kt).static||T.useLayoutEffect(n)}function Ks(){let{isDataRoute:n}=T.useContext(on);return n?bx():cx()}function cx(){Se(Pi(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(ki),{basename:e,navigator:r}=T.useContext(Kt),{matches:i}=T.useContext(on),{pathname:o}=qn(),a=JSON.stringify(nh(i)),u=T.useRef(!1);return ng(()=>{u.current=!0}),T.useCallback((d,f={})=>{if(Zt(u.current,tg),!u.current)return;if(typeof d=="number"){r.go(d);return}let v=rh(d,JSON.parse(a),o,f.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:gn([e,v.pathname])),(f.replace?r.replace:r.push)(v,f.state,f)},[e,r,a,o,n])}T.createContext(null);function Gs(n,{relative:e}={}){let{matches:r}=T.useContext(on),{pathname:i}=qn(),o=JSON.stringify(nh(r));return T.useMemo(()=>rh(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function hx(n,e){return rg(n,e)}function rg(n,e,r,i,o){var b;Se(Pi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(Kt),{matches:u}=T.useContext(on),h=u[u.length-1],d=h?h.params:{},f=h?h.pathname:"/",v=h?h.pathnameBase:"/",y=h&&h.route;{let k=y&&y.path||"";ig(f,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let _=qn(),x;if(e){let k=typeof e=="string"?Si(e):e;Se(v==="/"||((b=k.pathname)==null?void 0:b.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${k.pathname}" was given in the \`location\` prop.`),x=k}else x=_;let S=x.pathname||"/",E=S;if(v!=="/"){let k=v.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(k.length).join("/")}let O=Jm(n,{pathname:E});Zt(y||O!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Zt(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=gx(O&&O.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:gn([v,a.encodeLocation?a.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?v:gn([v,a.encodeLocation?a.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),u,r,i,o);return e&&P?T.createElement(qs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},P):P}function dx(){let n=xx(),e=sx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=T.createElement(T.Fragment,null,T.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:o},r):null,u)}var fx=T.createElement(dx,null),px=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?T.createElement(on.Provider,{value:this.props.routeContext},T.createElement(ih.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mx({routeContext:n,match:e,children:r}){let i=T.useContext(ki);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(on.Provider,{value:n},r)}function gx(n,e=[],r=null,i=null,o=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let a=n,u=r==null?void 0:r.errors;if(u!=null){let f=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Se(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let h=!1,d=-1;if(r)for(let f=0;f<a.length;f++){let v=a[f];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=f),v.route.id){let{loaderData:y,errors:_}=r,x=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||x){h=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,v,y)=>{let _,x=!1,S=null,E=null;r&&(_=u&&v.route.id?u[v.route.id]:void 0,S=v.route.errorElement||fx,h&&(d<0&&y===0?(ig("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):d===y&&(x=!0,E=v.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,y+1)),P=()=>{let b;return _?b=S:x?b=E:v.route.Component?b=T.createElement(v.route.Component,null):v.route.element?b=v.route.element:b=f,T.createElement(mx,{match:v,routeContext:{outlet:f,matches:O,isDataRoute:r!=null},children:b})};return r&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?T.createElement(px,{location:r.location,revalidation:r.revalidation,component:S,error:_,children:P(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:i}):P()},null)}function sh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vx(n){let e=T.useContext(ki);return Se(e,sh(n)),e}function yx(n){let e=T.useContext(Za);return Se(e,sh(n)),e}function _x(n){let e=T.useContext(on);return Se(e,sh(n)),e}function oh(n){let e=_x(n),r=e.matches[e.matches.length-1];return Se(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function wx(){return oh("useRouteId")}function xx(){var i;let n=T.useContext(ih),e=yx("useRouteError"),r=oh("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[r]}function bx(){let{router:n}=vx("useNavigate"),e=oh("useNavigate"),r=T.useRef(!1);return ng(()=>{r.current=!0}),T.useCallback(async(o,a={})=>{Zt(r.current,tg),r.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Nf={};function ig(n,e,r){!e&&!Nf[n]&&(Nf[n]=!0,Zt(!1,r))}T.memo(Sx);function Sx({routes:n,future:e,state:r,unstable_onError:i}){return rg(n,void 0,r,i,e)}function kx({to:n,replace:e,state:r,relative:i}){Se(Pi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=T.useContext(Kt);Zt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(on),{pathname:u}=qn(),h=Ks(),d=rh(n,nh(a),u,i==="path"),f=JSON.stringify(d);return T.useEffect(()=>{h(JSON.parse(f),{replace:e,state:r,relative:i})},[h,f,i,e,r]),null}function ze(n){Se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Px({basename:n="/",children:e=null,location:r,navigationType:i="POP",navigator:o,static:a=!1}){Se(!Pi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=T.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof r=="string"&&(r=Si(r));let{pathname:d="/",search:f="",hash:v="",state:y=null,key:_="default"}=r,x=T.useMemo(()=>{let S=yn(d,u);return S==null?null:{location:{pathname:S,search:f,hash:v,state:y,key:_},navigationType:i}},[u,d,f,v,y,_,i]);return Zt(x!=null,`<Router basename="${u}"> is not able to match the URL "${d}${f}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:T.createElement(Kt.Provider,{value:h},T.createElement(qs.Provider,{children:e,value:x}))}function Ex({children:n,location:e}){return hx(Au(n),e)}function Au(n,e=[]){let r=[];return T.Children.forEach(n,(i,o)=>{if(!T.isValidElement(i))return;let a=[...e,o];if(i.type===T.Fragment){r.push.apply(r,Au(i.props.children,a));return}Se(i.type===ze,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Se(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Au(i.props.children,a)),r.push(u)}),r}var Yo="get",Xo="application/x-www-form-urlencoded";function qa(n){return n!=null&&typeof n.tagName=="string"}function Cx(n){return qa(n)&&n.tagName.toLowerCase()==="button"}function Tx(n){return qa(n)&&n.tagName.toLowerCase()==="form"}function Ox(n){return qa(n)&&n.tagName.toLowerCase()==="input"}function jx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Lx(n,e){return n.button===0&&(!e||e==="_self")&&!jx(n)}var So=null;function Nx(){if(So===null)try{new FormData(document.createElement("form"),0),So=!1}catch{So=!0}return So}var Rx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kl(n){return n!=null&&!Rx.has(n)?(Zt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xo}"`),null):n}function Ix(n,e){let r,i,o,a,u;if(Tx(n)){let h=n.getAttribute("action");i=h?yn(h,e):null,r=n.getAttribute("method")||Yo,o=Kl(n.getAttribute("enctype"))||Xo,a=new FormData(n)}else if(Cx(n)||Ox(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(i=d?yn(d,e):null,r=n.getAttribute("formmethod")||h.getAttribute("method")||Yo,o=Kl(n.getAttribute("formenctype"))||Kl(h.getAttribute("enctype"))||Xo,a=new FormData(h,n),!Nx()){let{name:f,type:v,value:y}=n;if(v==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,y)}}else{if(qa(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Yo,i=null,o=Xo,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ah(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ax(n,e,r){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${r}`:e&&yn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function Mx(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $x(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Dx(n,e,r){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await Mx(a,r);return u.links?u.links():[]}return[]}));return Fx(i.flat(1).filter($x).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Rf(n,e,r,i,o,a){let u=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,h=(d,f)=>{var v;return r[f].pathname!==d.pathname||((v=r[f].route.path)==null?void 0:v.endsWith("*"))&&r[f].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,f)=>u(d,f)||h(d,f)):a==="data"?e.filter((d,f)=>{var y;let v=i.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(u(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=r[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function zx(n,e,{includeHydrateFallback:r}={}){return Bx(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function Bx(n){return[...new Set(n)]}function Ux(n){let e={},r=Object.keys(n).sort();for(let i of r)e[i]=n[i];return e}function Fx(n,e){let r=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(Ux(o));return r.has(a)||(r.add(a),i.push({key:a,link:o})),i},[])}function sg(){let n=T.useContext(ki);return ah(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Hx(){let n=T.useContext(Za);return ah(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var lh=T.createContext(void 0);lh.displayName="FrameworkContext";function og(){let n=T.useContext(lh);return ah(n,"You must render this element inside a <HydratedRouter> element"),n}function Vx(n,e){let r=T.useContext(lh),[i,o]=T.useState(!1),[a,u]=T.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:v,onTouchStart:y}=e,_=T.useRef(null);T.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let E=P=>{P.forEach(b=>{u(b.isIntersecting)})},O=new IntersectionObserver(E,{threshold:.5});return _.current&&O.observe(_.current),()=>{O.disconnect()}}},[n]),T.useEffect(()=>{if(i){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[i]);let x=()=>{o(!0)},S=()=>{o(!1),u(!1)};return r?n!=="intent"?[a,_,{}]:[a,_,{onFocus:Zi(h,x),onBlur:Zi(d,S),onMouseEnter:Zi(f,x),onMouseLeave:Zi(v,S),onTouchStart:Zi(y,x)}]:[!1,_,{}]}function Zi(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function Wx({page:n,...e}){let{router:r}=sg(),i=T.useMemo(()=>Jm(r.routes,n,r.basename),[r.routes,n,r.basename]);return i?T.createElement(qx,{page:n,matches:i,...e}):null}function Zx(n){let{manifest:e,routeModules:r}=og(),[i,o]=T.useState([]);return T.useEffect(()=>{let a=!1;return Dx(n,e,r).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,r]),i}function qx({page:n,matches:e,...r}){let i=qn(),{manifest:o,routeModules:a}=og(),{basename:u}=sg(),{loaderData:h,matches:d}=Hx(),f=T.useMemo(()=>Rf(n,e,d,o,i,"data"),[n,e,d,o,i]),v=T.useMemo(()=>Rf(n,e,d,o,i,"assets"),[n,e,d,o,i]),y=T.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,E=!1;if(e.forEach(P=>{var k;let b=o.routes[P.route.id];!b||!b.hasLoader||(!f.some(j=>j.route.id===P.route.id)&&P.route.id in h&&((k=a[P.route.id])!=null&&k.shouldRevalidate)||b.hasClientLoader?E=!0:S.add(P.route.id))}),S.size===0)return[];let O=Ax(n,u,"data");return E&&S.size>0&&O.searchParams.set("_routes",e.filter(P=>S.has(P.route.id)).map(P=>P.route.id).join(",")),[O.pathname+O.search]},[u,h,i,o,f,e,n,a]),_=T.useMemo(()=>zx(v,o),[v,o]),x=Zx(v);return T.createElement(T.Fragment,null,y.map(S=>T.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),_.map(S=>T.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),x.map(({key:S,link:E})=>T.createElement("link",{key:S,nonce:r.nonce,...E})))}function Kx(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var ag=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ag&&(window.__reactRouterVersion="7.9.5")}catch{}function Gx({basename:n,children:e,window:r}){let i=T.useRef();i.current==null&&(i.current=Mw({window:r,v5Compat:!0}));let o=i.current,[a,u]=T.useState({action:o.action,location:o.location}),h=T.useCallback(d=>{T.startTransition(()=>u(d))},[u]);return T.useLayoutEffect(()=>o.listen(h),[o,h]),T.createElement(Px,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var lg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ug=T.forwardRef(function({onClick:e,discover:r="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:h,target:d,to:f,preventScrollReset:v,viewTransition:y,..._},x){let{basename:S}=T.useContext(Kt),E=typeof f=="string"&&lg.test(f),O,P=!1;if(typeof f=="string"&&E&&(O=f,ag))try{let F=new URL(window.location.href),V=f.startsWith("//")?new URL(F.protocol+f):new URL(f),ae=yn(V.pathname,S);V.origin===F.origin&&ae!=null?f=ae+V.search+V.hash:P=!0}catch{Zt(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=ux(f,{relative:o}),[k,j,A]=Vx(i,_),I=Yx(f,{replace:u,state:h,target:d,preventScrollReset:v,relative:o,viewTransition:y});function M(F){e&&e(F),F.defaultPrevented||I(F)}let U=T.createElement("a",{..._,...A,href:O||b,onClick:P||a?e:M,ref:Kx(x,j),target:d,"data-discover":!E&&r==="render"?"true":void 0});return k&&!E?T.createElement(T.Fragment,null,U,T.createElement(Wx,{page:b})):U});ug.displayName="Link";var cg=T.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:h,children:d,...f},v){let y=Gs(u,{relative:f.relative}),_=qn(),x=T.useContext(Za),{navigator:S,basename:E}=T.useContext(Kt),O=x!=null&&rb(y)&&h===!0,P=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,b=_.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(b=b.toLowerCase(),k=k?k.toLowerCase():null,P=P.toLowerCase()),k&&E&&(k=yn(k,E)||k);const j=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let A=b===P||!o&&b.startsWith(P)&&b.charAt(j)==="/",I=k!=null&&(k===P||!o&&k.startsWith(P)&&k.charAt(P.length)==="/"),M={isActive:A,isPending:I,isTransitioning:O},U=A?e:void 0,F;typeof i=="function"?F=i(M):F=[i,A?"active":null,I?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(M):a;return T.createElement(ug,{...f,"aria-current":U,className:F,ref:v,style:V,to:u,viewTransition:h},typeof d=="function"?d(M):d)});cg.displayName="NavLink";var Jx=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:i,replace:o,state:a,method:u=Yo,action:h,onSubmit:d,relative:f,preventScrollReset:v,viewTransition:y,..._},x)=>{let S=tb(),E=nb(h,{relative:f}),O=u.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&lg.test(h),b=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let j=k.nativeEvent.submitter,A=(j==null?void 0:j.getAttribute("formmethod"))||u;S(j||k.currentTarget,{fetcherKey:e,method:A,navigate:r,replace:o,state:a,relative:f,preventScrollReset:v,viewTransition:y})};return T.createElement("form",{ref:x,method:O,action:E,onSubmit:i?d:b,..._,"data-discover":!P&&n==="render"?"true":void 0})});Jx.displayName="Form";function Qx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hg(n){let e=T.useContext(ki);return Se(e,Qx(n)),e}function Yx(n,{target:e,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=Ks(),d=qn(),f=Gs(n,{relative:a});return T.useCallback(v=>{if(Lx(v,e)){v.preventDefault();let y=r!==void 0?r:ws(d)===ws(f);h(n,{replace:y,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[d,h,f,r,i,e,n,o,a,u])}var Xx=0,eb=()=>`__${String(++Xx)}__`;function tb(){let{router:n}=hg("useSubmit"),{basename:e}=T.useContext(Kt),r=wx();return T.useCallback(async(i,o={})=>{let{action:a,method:u,encType:h,formData:d,body:f}=Ix(i,e);if(o.navigate===!1){let v=o.fetcherKey||eb();await n.fetch(v,r,o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,r])}function nb(n,{relative:e}={}){let{basename:r}=T.useContext(Kt),i=T.useContext(on);Se(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Gs(n||".",{relative:e})},u=qn();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),d=h.getAll("index");if(d.some(v=>v==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let v=h.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:gn([r,a.pathname])),ws(a)}function rb(n,{relative:e}={}){let r=T.useContext(eg);Se(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=hg("useViewTransitionState"),o=Gs(n,{relative:e});if(!r.isTransitioning)return!1;let a=yn(r.currentLocation.pathname,i)||r.currentLocation.pathname,u=yn(r.nextLocation.pathname,i)||r.nextLocation.pathname;return ca(o.pathname,u)!=null||ca(o.pathname,a)!=null}var dg={exports:{}},bt={},fg={exports:{}},pg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e($,J){var B=$.length;$.push(J);e:for(;0<B;){var q=B-1>>>1,ne=$[q];if(0<o(ne,J))$[q]=J,$[B]=ne,B=q;else break e}}function r($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var J=$[0],B=$.pop();if(B!==J){$[0]=B;e:for(var q=0,ne=$.length,ye=ne>>>1;q<ye;){var he=2*(q+1)-1,oe=$[he],ee=he+1,ut=$[ee];if(0>o(oe,B))ee<ne&&0>o(ut,oe)?($[q]=ut,$[ee]=B,q=ee):($[q]=oe,$[he]=B,q=he);else if(ee<ne&&0>o(ut,B))$[q]=ut,$[ee]=B,q=ee;else break e}}return J}function o($,J){var B=$.sortIndex-J.sortIndex;return B!==0?B:$.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],f=[],v=1,y=null,_=3,x=!1,S=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k($){for(var J=r(f);J!==null;){if(J.callback===null)i(f);else if(J.startTime<=$)i(f),J.sortIndex=J.expirationTime,e(d,J);else break;J=r(f)}}function j($){if(E=!1,k($),!S)if(r(d)!==null)S=!0,fe(A);else{var J=r(f);J!==null&&De(j,J.startTime-$)}}function A($,J){S=!1,E&&(E=!1,P(U),U=-1),x=!0;var B=_;try{for(k(J),y=r(d);y!==null&&(!(y.expirationTime>J)||$&&!ae());){var q=y.callback;if(typeof q=="function"){y.callback=null,_=y.priorityLevel;var ne=q(y.expirationTime<=J);J=n.unstable_now(),typeof ne=="function"?y.callback=ne:y===r(d)&&i(d),k(J)}else i(d);y=r(d)}if(y!==null)var ye=!0;else{var he=r(f);he!==null&&De(j,he.startTime-J),ye=!1}return ye}finally{y=null,_=B,x=!1}}var I=!1,M=null,U=-1,F=5,V=-1;function ae(){return!(n.unstable_now()-V<F)}function Oe(){if(M!==null){var $=n.unstable_now();V=$;var J=!0;try{J=M(!0,$)}finally{J?He():(I=!1,M=null)}}else I=!1}var He;if(typeof b=="function")He=function(){b(Oe)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Pr=xe.port2;xe.port1.onmessage=Oe,He=function(){Pr.postMessage(null)}}else He=function(){O(Oe,0)};function fe($){M=$,I||(I=!0,He())}function De($,J){U=O(function(){$(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){S||x||(S=!0,fe(A))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return r(d)},n.unstable_next=function($){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var B=_;_=J;try{return $()}finally{_=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,J){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var B=_;_=$;try{return J()}finally{_=B}},n.unstable_scheduleCallback=function($,J,B){var q=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,$){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=B+ne,$={id:v++,callback:J,priorityLevel:$,startTime:B,expirationTime:ne,sortIndex:-1},B>q?($.sortIndex=B,e(f,$),r(d)===null&&$===r(f)&&(E?(P(U),U=-1):E=!0,De(j,B-q))):($.sortIndex=ne,e(d,$),S||x||(S=!0,fe(A))),$},n.unstable_shouldYield=ae,n.unstable_wrapCallback=function($){var J=_;return function(){var B=_;_=J;try{return $.apply(this,arguments)}finally{_=B}}}})(pg);fg.exports=pg;var ib=fg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb=T,xt=ib;function z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mg=new Set,xs={};function Sr(n,e){di(n,e),di(n+"Capture",e)}function di(n,e){for(xs[n]=e,n=0;n<e.length;n++)mg.add(e[n])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=Object.prototype.hasOwnProperty,ob=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,If={},Af={};function ab(n){return Mu.call(Af,n)?!0:Mu.call(If,n)?!1:ob.test(n)?Af[n]=!0:(If[n]=!0,!1)}function lb(n,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function ub(n,e,r,i){if(e===null||typeof e>"u"||lb(n,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(n,e,r,i,o,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=n,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Je[n]=new lt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Je[e]=new lt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Je[n]=new lt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Je[n]=new lt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Je[n]=new lt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Je[n]=new lt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Je[n]=new lt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Je[n]=new lt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Je[n]=new lt(n,5,!1,n.toLowerCase(),null,!1,!1)});var uh=/[\-:]([a-z])/g;function ch(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(uh,ch);Je[e]=new lt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(uh,ch);Je[e]=new lt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(uh,ch);Je[e]=new lt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Je[n]=new lt(n,1,!1,n.toLowerCase(),null,!1,!1)});Je.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Je[n]=new lt(n,1,!1,n.toLowerCase(),null,!0,!0)});function hh(n,e,r,i){var o=Je.hasOwnProperty(e)?Je[e]:null;(o!==null?o.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ub(e,r,o,i)&&(r=null),i||o===null?ab(e)&&(r===null?n.removeAttribute(e):n.setAttribute(e,""+r)):o.mustUseProperty?n[o.propertyName]=r===null?o.type===3?!1:"":r:(e=o.attributeName,i=o.attributeNamespace,r===null?n.removeAttribute(e):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,i?n.setAttributeNS(i,e,r):n.setAttribute(e,r))))}var Sn=sb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ko=Symbol.for("react.element"),qr=Symbol.for("react.portal"),Kr=Symbol.for("react.fragment"),dh=Symbol.for("react.strict_mode"),$u=Symbol.for("react.profiler"),gg=Symbol.for("react.provider"),vg=Symbol.for("react.context"),fh=Symbol.for("react.forward_ref"),Du=Symbol.for("react.suspense"),zu=Symbol.for("react.suspense_list"),ph=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),yg=Symbol.for("react.offscreen"),Mf=Symbol.iterator;function qi(n){return n===null||typeof n!="object"?null:(n=Mf&&n[Mf]||n["@@iterator"],typeof n=="function"?n:null)}var Te=Object.assign,Gl;function ns(n){if(Gl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Gl=e&&e[1]||""}return`
`+Gl+n}var Jl=!1;function Ql(n,e){if(!n||Jl)return"";Jl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(n,[],e)}else{try{e.call()}catch(f){i=f}n.call(e.prototype)}else{try{throw Error()}catch(f){i=f}n()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),a=i.stack.split(`
`),u=o.length-1,h=a.length-1;1<=u&&0<=h&&o[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(o[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||o[u]!==a[h]){var d=`
`+o[u].replace(" at new "," at ");return n.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",n.displayName)),d}while(1<=u&&0<=h);break}}}finally{Jl=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?ns(n):""}function cb(n){switch(n.tag){case 5:return ns(n.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return n=Ql(n.type,!1),n;case 11:return n=Ql(n.type.render,!1),n;case 1:return n=Ql(n.type,!0),n;default:return""}}function Bu(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Kr:return"Fragment";case qr:return"Portal";case $u:return"Profiler";case dh:return"StrictMode";case Du:return"Suspense";case zu:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case vg:return(n.displayName||"Context")+".Consumer";case gg:return(n._context.displayName||"Context")+".Provider";case fh:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ph:return e=n.displayName||null,e!==null?e:Bu(n.type)||"Memo";case On:e=n._payload,n=n._init;try{return Bu(n(e))}catch{}}return null}function hb(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bu(e);case 8:return e===dh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vn(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _g(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function db(n){var e=_g(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,a=r.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(u){i=""+u,a.call(this,u)}}),Object.defineProperty(n,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Po(n){n._valueTracker||(n._valueTracker=db(n))}function wg(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return n&&(i=_g(n)?n.checked?"true":"false":n.value),n=i,n!==r?(e.setValue(n),!0):!1}function ha(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Uu(n,e){var r=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function $f(n,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=Vn(e.value!=null?e.value:r),n._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xg(n,e){e=e.checked,e!=null&&hh(n,"checked",e,!1)}function Fu(n,e){xg(n,e);var r=Vn(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Hu(n,e.type,r):e.hasOwnProperty("defaultValue")&&Hu(n,e.type,Vn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Df(n,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,r||e===n.value||(n.value=e),n.defaultValue=e}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function Hu(n,e,r){(e!=="number"||ha(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var rs=Array.isArray;function si(n,e,r,i){if(n=n.options,e){e={};for(var o=0;o<r.length;o++)e["$"+r[o]]=!0;for(r=0;r<n.length;r++)o=e.hasOwnProperty("$"+n[r].value),n[r].selected!==o&&(n[r].selected=o),o&&i&&(n[r].defaultSelected=!0)}else{for(r=""+Vn(r),e=null,o=0;o<n.length;o++){if(n[o].value===r){n[o].selected=!0,i&&(n[o].defaultSelected=!0);return}e!==null||n[o].disabled||(e=n[o])}e!==null&&(e.selected=!0)}}function Vu(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function zf(n,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(z(92));if(rs(r)){if(1<r.length)throw Error(z(93));r=r[0]}e=r}e==null&&(e=""),r=e}n._wrapperState={initialValue:Vn(r)}}function bg(n,e){var r=Vn(e.value),i=Vn(e.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),e.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),i!=null&&(n.defaultValue=""+i)}function Bf(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Sg(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wu(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Sg(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Eo,kg=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,o){MSApp.execUnsafeLocalFunction(function(){return n(e,r,i,o)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Eo=Eo||document.createElement("div"),Eo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Eo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function bs(n,e){if(e){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=e;return}}n.textContent=e}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fb=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(n){fb.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),as[e]=as[n]})});function Pg(n,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||as.hasOwnProperty(n)&&as[n]?(""+e).trim():e+"px"}function Eg(n,e){n=n.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,o=Pg(r,e[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,o):n[r]=o}}var pb=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zu(n,e){if(e){if(pb[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function qu(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=null;function mh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Gu=null,oi=null,ai=null;function Uf(n){if(n=Ys(n)){if(typeof Gu!="function")throw Error(z(280));var e=n.stateNode;e&&(e=Ya(e),Gu(n.stateNode,n.type,e))}}function Cg(n){oi?ai?ai.push(n):ai=[n]:oi=n}function Tg(){if(oi){var n=oi,e=ai;if(ai=oi=null,Uf(n),e)for(n=0;n<e.length;n++)Uf(e[n])}}function Og(n,e){return n(e)}function jg(){}var Yl=!1;function Lg(n,e,r){if(Yl)return n(e,r);Yl=!0;try{return Og(n,e,r)}finally{Yl=!1,(oi!==null||ai!==null)&&(jg(),Tg())}}function Ss(n,e){var r=n.stateNode;if(r===null)return null;var i=Ya(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(z(231,e,typeof r));return r}var Ju=!1;if(_n)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Ju=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{Ju=!1}function mb(n,e,r,i,o,a,u,h,d){var f=Array.prototype.slice.call(arguments,3);try{e.apply(r,f)}catch(v){this.onError(v)}}var ls=!1,da=null,fa=!1,Qu=null,gb={onError:function(n){ls=!0,da=n}};function vb(n,e,r,i,o,a,u,h,d){ls=!1,da=null,mb.apply(gb,arguments)}function yb(n,e,r,i,o,a,u,h,d){if(vb.apply(this,arguments),ls){if(ls){var f=da;ls=!1,da=null}else throw Error(z(198));fa||(fa=!0,Qu=f)}}function kr(n){var e=n,r=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(r=e.return),n=e.return;while(n)}return e.tag===3?r:null}function Ng(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Ff(n){if(kr(n)!==n)throw Error(z(188))}function _b(n){var e=n.alternate;if(!e){if(e=kr(n),e===null)throw Error(z(188));return e!==n?null:n}for(var r=n,i=e;;){var o=r.return;if(o===null)break;var a=o.alternate;if(a===null){if(i=o.return,i!==null){r=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return Ff(o),n;if(a===i)return Ff(o),e;a=a.sibling}throw Error(z(188))}if(r.return!==i.return)r=o,i=a;else{for(var u=!1,h=o.child;h;){if(h===r){u=!0,r=o,i=a;break}if(h===i){u=!0,i=o,r=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===r){u=!0,r=a,i=o;break}if(h===i){u=!0,i=a,r=o;break}h=h.sibling}if(!u)throw Error(z(189))}}if(r.alternate!==i)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?n:e}function Rg(n){return n=_b(n),n!==null?Ig(n):null}function Ig(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Ig(n);if(e!==null)return e;n=n.sibling}return null}var Ag=xt.unstable_scheduleCallback,Hf=xt.unstable_cancelCallback,wb=xt.unstable_shouldYield,xb=xt.unstable_requestPaint,Re=xt.unstable_now,bb=xt.unstable_getCurrentPriorityLevel,gh=xt.unstable_ImmediatePriority,Mg=xt.unstable_UserBlockingPriority,pa=xt.unstable_NormalPriority,Sb=xt.unstable_LowPriority,$g=xt.unstable_IdlePriority,Ka=null,rn=null;function kb(n){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Ka,n,void 0,(n.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:Cb,Pb=Math.log,Eb=Math.LN2;function Cb(n){return n>>>=0,n===0?32:31-(Pb(n)/Eb|0)|0}var Co=64,To=4194304;function is(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ma(n,e){var r=n.pendingLanes;if(r===0)return 0;var i=0,o=n.suspendedLanes,a=n.pingedLanes,u=r&268435455;if(u!==0){var h=u&~o;h!==0?i=is(h):(a&=u,a!==0&&(i=is(a)))}else u=r&~o,u!==0?i=is(u):a!==0&&(i=is(a));if(i===0)return 0;if(e!==0&&e!==i&&!(e&o)&&(o=i&-i,a=e&-e,o>=a||o===16&&(a&4194240)!==0))return e;if(i&4&&(i|=r&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)r=31-Vt(e),o=1<<r,i|=n[r],e&=~o;return i}function Tb(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ob(n,e){for(var r=n.suspendedLanes,i=n.pingedLanes,o=n.expirationTimes,a=n.pendingLanes;0<a;){var u=31-Vt(a),h=1<<u,d=o[u];d===-1?(!(h&r)||h&i)&&(o[u]=Tb(h,e)):d<=e&&(n.expiredLanes|=h),a&=~h}}function Yu(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Dg(){var n=Co;return Co<<=1,!(Co&4194240)&&(Co=64),n}function Xl(n){for(var e=[],r=0;31>r;r++)e.push(n);return e}function Js(n,e,r){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Vt(e),n[e]=r}function jb(n,e){var r=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<r;){var o=31-Vt(r),a=1<<o;e[o]=0,i[o]=-1,n[o]=-1,r&=~a}}function vh(n,e){var r=n.entangledLanes|=e;for(n=n.entanglements;r;){var i=31-Vt(r),o=1<<i;o&e|n[i]&e&&(n[i]|=e),r&=~o}}var de=0;function zg(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Bg,yh,Ug,Fg,Hg,Xu=!1,Oo=[],Mn=null,$n=null,Dn=null,ks=new Map,Ps=new Map,Ln=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vf(n,e){switch(n){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":ks.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(e.pointerId)}}function Gi(n,e,r,i,o,a){return n===null||n.nativeEvent!==a?(n={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:a,targetContainers:[o]},e!==null&&(e=Ys(e),e!==null&&yh(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),n)}function Nb(n,e,r,i,o){switch(e){case"focusin":return Mn=Gi(Mn,n,e,r,i,o),!0;case"dragenter":return $n=Gi($n,n,e,r,i,o),!0;case"mouseover":return Dn=Gi(Dn,n,e,r,i,o),!0;case"pointerover":var a=o.pointerId;return ks.set(a,Gi(ks.get(a)||null,n,e,r,i,o)),!0;case"gotpointercapture":return a=o.pointerId,Ps.set(a,Gi(Ps.get(a)||null,n,e,r,i,o)),!0}return!1}function Vg(n){var e=cr(n.target);if(e!==null){var r=kr(e);if(r!==null){if(e=r.tag,e===13){if(e=Ng(r),e!==null){n.blockedOn=e,Hg(n.priority,function(){Ug(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ea(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var r=ec(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var i=new r.constructor(r.type,r);Ku=i,r.target.dispatchEvent(i),Ku=null}else return e=Ys(r),e!==null&&yh(e),n.blockedOn=r,!1;e.shift()}return!0}function Wf(n,e,r){ea(n)&&r.delete(e)}function Rb(){Xu=!1,Mn!==null&&ea(Mn)&&(Mn=null),$n!==null&&ea($n)&&($n=null),Dn!==null&&ea(Dn)&&(Dn=null),ks.forEach(Wf),Ps.forEach(Wf)}function Ji(n,e){n.blockedOn===e&&(n.blockedOn=null,Xu||(Xu=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,Rb)))}function Es(n){function e(o){return Ji(o,n)}if(0<Oo.length){Ji(Oo[0],n);for(var r=1;r<Oo.length;r++){var i=Oo[r];i.blockedOn===n&&(i.blockedOn=null)}}for(Mn!==null&&Ji(Mn,n),$n!==null&&Ji($n,n),Dn!==null&&Ji(Dn,n),ks.forEach(e),Ps.forEach(e),r=0;r<Ln.length;r++)i=Ln[r],i.blockedOn===n&&(i.blockedOn=null);for(;0<Ln.length&&(r=Ln[0],r.blockedOn===null);)Vg(r),r.blockedOn===null&&Ln.shift()}var li=Sn.ReactCurrentBatchConfig,ga=!0;function Ib(n,e,r,i){var o=de,a=li.transition;li.transition=null;try{de=1,_h(n,e,r,i)}finally{de=o,li.transition=a}}function Ab(n,e,r,i){var o=de,a=li.transition;li.transition=null;try{de=4,_h(n,e,r,i)}finally{de=o,li.transition=a}}function _h(n,e,r,i){if(ga){var o=ec(n,e,r,i);if(o===null)uu(n,e,i,va,r),Vf(n,i);else if(Nb(o,n,e,r,i))i.stopPropagation();else if(Vf(n,i),e&4&&-1<Lb.indexOf(n)){for(;o!==null;){var a=Ys(o);if(a!==null&&Bg(a),a=ec(n,e,r,i),a===null&&uu(n,e,i,va,r),a===o)break;o=a}o!==null&&i.stopPropagation()}else uu(n,e,i,null,r)}}var va=null;function ec(n,e,r,i){if(va=null,n=mh(i),n=cr(n),n!==null)if(e=kr(n),e===null)n=null;else if(r=e.tag,r===13){if(n=Ng(e),n!==null)return n;n=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return va=n,null}function Wg(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bb()){case gh:return 1;case Mg:return 4;case pa:case Sb:return 16;case $g:return 536870912;default:return 16}default:return 16}}var In=null,wh=null,ta=null;function Zg(){if(ta)return ta;var n,e=wh,r=e.length,i,o="value"in In?In.value:In.textContent,a=o.length;for(n=0;n<r&&e[n]===o[n];n++);var u=r-n;for(i=1;i<=u&&e[r-i]===o[a-i];i++);return ta=o.slice(n,1<i?1-i:void 0)}function na(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function jo(){return!0}function Zf(){return!1}function St(n){function e(r,i,o,a,u){this._reactName=r,this._targetInst=o,this.type=i,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in n)n.hasOwnProperty(h)&&(r=n[h],this[h]=r?r(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?jo:Zf,this.isPropagationStopped=Zf,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),e}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xh=St(Ei),Qs=Te({},Ei,{view:0,detail:0}),Mb=St(Qs),eu,tu,Qi,Ga=Te({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bh,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qi&&(Qi&&n.type==="mousemove"?(eu=n.screenX-Qi.screenX,tu=n.screenY-Qi.screenY):tu=eu=0,Qi=n),eu)},movementY:function(n){return"movementY"in n?n.movementY:tu}}),qf=St(Ga),$b=Te({},Ga,{dataTransfer:0}),Db=St($b),zb=Te({},Qs,{relatedTarget:0}),nu=St(zb),Bb=Te({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Ub=St(Bb),Fb=Te({},Ei,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Hb=St(Fb),Vb=Te({},Ei,{data:0}),Kf=St(Vb),Wb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kb(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=qb[n])?!!e[n]:!1}function bh(){return Kb}var Gb=Te({},Qs,{key:function(n){if(n.key){var e=Wb[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=na(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bh,charCode:function(n){return n.type==="keypress"?na(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?na(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Jb=St(Gb),Qb=Te({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=St(Qb),Yb=Te({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bh}),Xb=St(Yb),e1=Te({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),t1=St(e1),n1=Te({},Ga,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),r1=St(n1),i1=[9,13,27,32],Sh=_n&&"CompositionEvent"in window,us=null;_n&&"documentMode"in document&&(us=document.documentMode);var s1=_n&&"TextEvent"in window&&!us,qg=_n&&(!Sh||us&&8<us&&11>=us),Jf=" ",Qf=!1;function Kg(n,e){switch(n){case"keyup":return i1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gr=!1;function o1(n,e){switch(n){case"compositionend":return Gg(e);case"keypress":return e.which!==32?null:(Qf=!0,Jf);case"textInput":return n=e.data,n===Jf&&Qf?null:n;default:return null}}function a1(n,e){if(Gr)return n==="compositionend"||!Sh&&Kg(n,e)?(n=Zg(),ta=wh=In=null,Gr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qg&&e.locale!=="ko"?null:e.data;default:return null}}var l1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yf(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!l1[n.type]:e==="textarea"}function Jg(n,e,r,i){Cg(i),e=ya(e,"onChange"),0<e.length&&(r=new xh("onChange","change",null,r,i),n.push({event:r,listeners:e}))}var cs=null,Cs=null;function u1(n){av(n,0)}function Ja(n){var e=Yr(n);if(wg(e))return n}function c1(n,e){if(n==="change")return e}var Qg=!1;if(_n){var ru;if(_n){var iu="oninput"in document;if(!iu){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),iu=typeof Xf.oninput=="function"}ru=iu}else ru=!1;Qg=ru&&(!document.documentMode||9<document.documentMode)}function ep(){cs&&(cs.detachEvent("onpropertychange",Yg),Cs=cs=null)}function Yg(n){if(n.propertyName==="value"&&Ja(Cs)){var e=[];Jg(e,Cs,n,mh(n)),Lg(u1,e)}}function h1(n,e,r){n==="focusin"?(ep(),cs=e,Cs=r,cs.attachEvent("onpropertychange",Yg)):n==="focusout"&&ep()}function d1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ja(Cs)}function f1(n,e){if(n==="click")return Ja(e)}function p1(n,e){if(n==="input"||n==="change")return Ja(e)}function m1(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var qt=typeof Object.is=="function"?Object.is:m1;function Ts(n,e){if(qt(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var o=r[i];if(!Mu.call(e,o)||!qt(n[o],e[o]))return!1}return!0}function tp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function np(n,e){var r=tp(n);n=0;for(var i;r;){if(r.nodeType===3){if(i=n+r.textContent.length,n<=e&&i>=e)return{node:r,offset:e-n};n=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tp(r)}}function Xg(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Xg(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function ev(){for(var n=window,e=ha();e instanceof n.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)n=e.contentWindow;else break;e=ha(n.document)}return e}function kh(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function g1(n){var e=ev(),r=n.focusedElem,i=n.selectionRange;if(e!==r&&r&&r.ownerDocument&&Xg(r.ownerDocument.documentElement,r)){if(i!==null&&kh(r)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(n,r.value.length);else if(n=(e=r.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=r.textContent.length,a=Math.min(i.start,o);i=i.end===void 0?a:Math.min(i.end,o),!n.extend&&a>i&&(o=i,i=a,a=o),o=np(r,a);var u=np(r,i);o&&u&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==u.node||n.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),a>i?(n.addRange(e),n.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),n.addRange(e)))}}for(e=[],n=r;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)n=e[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var v1=_n&&"documentMode"in document&&11>=document.documentMode,Jr=null,tc=null,hs=null,nc=!1;function rp(n,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nc||Jr==null||Jr!==ha(i)||(i=Jr,"selectionStart"in i&&kh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),hs&&Ts(hs,i)||(hs=i,i=ya(tc,"onSelect"),0<i.length&&(e=new xh("onSelect","select",null,e,r),n.push({event:e,listeners:i}),e.target=Jr)))}function Lo(n,e){var r={};return r[n.toLowerCase()]=e.toLowerCase(),r["Webkit"+n]="webkit"+e,r["Moz"+n]="moz"+e,r}var Qr={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionend:Lo("Transition","TransitionEnd")},su={},tv={};_n&&(tv=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function Qa(n){if(su[n])return su[n];if(!Qr[n])return n;var e=Qr[n],r;for(r in e)if(e.hasOwnProperty(r)&&r in tv)return su[n]=e[r];return n}var nv=Qa("animationend"),rv=Qa("animationiteration"),iv=Qa("animationstart"),sv=Qa("transitionend"),ov=new Map,ip="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(n,e){ov.set(n,e),Sr(e,[n])}for(var ou=0;ou<ip.length;ou++){var au=ip[ou],y1=au.toLowerCase(),_1=au[0].toUpperCase()+au.slice(1);Kn(y1,"on"+_1)}Kn(nv,"onAnimationEnd");Kn(rv,"onAnimationIteration");Kn(iv,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(sv,"onTransitionEnd");di("onMouseEnter",["mouseout","mouseover"]);di("onMouseLeave",["mouseout","mouseover"]);di("onPointerEnter",["pointerout","pointerover"]);di("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function sp(n,e,r){var i=n.type||"unknown-event";n.currentTarget=r,yb(i,e,void 0,n),n.currentTarget=null}function av(n,e){e=(e&4)!==0;for(var r=0;r<n.length;r++){var i=n[r],o=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var u=i.length-1;0<=u;u--){var h=i[u],d=h.instance,f=h.currentTarget;if(h=h.listener,d!==a&&o.isPropagationStopped())break e;sp(o,h,f),a=d}else for(u=0;u<i.length;u++){if(h=i[u],d=h.instance,f=h.currentTarget,h=h.listener,d!==a&&o.isPropagationStopped())break e;sp(o,h,f),a=d}}}if(fa)throw n=Qu,fa=!1,Qu=null,n}function _e(n,e){var r=e[ac];r===void 0&&(r=e[ac]=new Set);var i=n+"__bubble";r.has(i)||(lv(e,n,2,!1),r.add(i))}function lu(n,e,r){var i=0;e&&(i|=4),lv(r,n,i,e)}var No="_reactListening"+Math.random().toString(36).slice(2);function Os(n){if(!n[No]){n[No]=!0,mg.forEach(function(r){r!=="selectionchange"&&(w1.has(r)||lu(r,!1,n),lu(r,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[No]||(e[No]=!0,lu("selectionchange",!1,e))}}function lv(n,e,r,i){switch(Wg(e)){case 1:var o=Ib;break;case 4:o=Ab;break;default:o=_h}r=o.bind(null,e,r,n),o=void 0,!Ju||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?n.addEventListener(e,r,{capture:!0,passive:o}):n.addEventListener(e,r,!0):o!==void 0?n.addEventListener(e,r,{passive:o}):n.addEventListener(e,r,!1)}function uu(n,e,r,i,o){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var h=i.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(u===4)for(u=i.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;u=u.return}for(;h!==null;){if(u=cr(h),u===null)return;if(d=u.tag,d===5||d===6){i=a=u;continue e}h=h.parentNode}}i=i.return}Lg(function(){var f=a,v=mh(r),y=[];e:{var _=ov.get(n);if(_!==void 0){var x=xh,S=n;switch(n){case"keypress":if(na(r)===0)break e;case"keydown":case"keyup":x=Jb;break;case"focusin":S="focus",x=nu;break;case"focusout":S="blur",x=nu;break;case"beforeblur":case"afterblur":x=nu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Db;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Xb;break;case nv:case rv:case iv:x=Ub;break;case sv:x=t1;break;case"scroll":x=Mb;break;case"wheel":x=r1;break;case"copy":case"cut":case"paste":x=Hb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Gf}var E=(e&4)!==0,O=!E&&n==="scroll",P=E?_!==null?_+"Capture":null:_;E=[];for(var b=f,k;b!==null;){k=b;var j=k.stateNode;if(k.tag===5&&j!==null&&(k=j,P!==null&&(j=Ss(b,P),j!=null&&E.push(js(b,j,k)))),O)break;b=b.return}0<E.length&&(_=new x(_,S,null,r,v),y.push({event:_,listeners:E}))}}if(!(e&7)){e:{if(_=n==="mouseover"||n==="pointerover",x=n==="mouseout"||n==="pointerout",_&&r!==Ku&&(S=r.relatedTarget||r.fromElement)&&(cr(S)||S[wn]))break e;if((x||_)&&(_=v.window===v?v:(_=v.ownerDocument)?_.defaultView||_.parentWindow:window,x?(S=r.relatedTarget||r.toElement,x=f,S=S?cr(S):null,S!==null&&(O=kr(S),S!==O||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=f),x!==S)){if(E=qf,j="onMouseLeave",P="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(E=Gf,j="onPointerLeave",P="onPointerEnter",b="pointer"),O=x==null?_:Yr(x),k=S==null?_:Yr(S),_=new E(j,b+"leave",x,r,v),_.target=O,_.relatedTarget=k,j=null,cr(v)===f&&(E=new E(P,b+"enter",S,r,v),E.target=k,E.relatedTarget=O,j=E),O=j,x&&S)t:{for(E=x,P=S,b=0,k=E;k;k=Ar(k))b++;for(k=0,j=P;j;j=Ar(j))k++;for(;0<b-k;)E=Ar(E),b--;for(;0<k-b;)P=Ar(P),k--;for(;b--;){if(E===P||P!==null&&E===P.alternate)break t;E=Ar(E),P=Ar(P)}E=null}else E=null;x!==null&&op(y,_,x,E,!1),S!==null&&O!==null&&op(y,O,S,E,!0)}}e:{if(_=f?Yr(f):window,x=_.nodeName&&_.nodeName.toLowerCase(),x==="select"||x==="input"&&_.type==="file")var A=c1;else if(Yf(_))if(Qg)A=p1;else{A=d1;var I=h1}else(x=_.nodeName)&&x.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(A=f1);if(A&&(A=A(n,f))){Jg(y,A,r,v);break e}I&&I(n,_,f),n==="focusout"&&(I=_._wrapperState)&&I.controlled&&_.type==="number"&&Hu(_,"number",_.value)}switch(I=f?Yr(f):window,n){case"focusin":(Yf(I)||I.contentEditable==="true")&&(Jr=I,tc=f,hs=null);break;case"focusout":hs=tc=Jr=null;break;case"mousedown":nc=!0;break;case"contextmenu":case"mouseup":case"dragend":nc=!1,rp(y,r,v);break;case"selectionchange":if(v1)break;case"keydown":case"keyup":rp(y,r,v)}var M;if(Sh)e:{switch(n){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Gr?Kg(n,r)&&(U="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(qg&&r.locale!=="ko"&&(Gr||U!=="onCompositionStart"?U==="onCompositionEnd"&&Gr&&(M=Zg()):(In=v,wh="value"in In?In.value:In.textContent,Gr=!0)),I=ya(f,U),0<I.length&&(U=new Kf(U,n,null,r,v),y.push({event:U,listeners:I}),M?U.data=M:(M=Gg(r),M!==null&&(U.data=M)))),(M=s1?o1(n,r):a1(n,r))&&(f=ya(f,"onBeforeInput"),0<f.length&&(v=new Kf("onBeforeInput","beforeinput",null,r,v),y.push({event:v,listeners:f}),v.data=M))}av(y,e)})}function js(n,e,r){return{instance:n,listener:e,currentTarget:r}}function ya(n,e){for(var r=e+"Capture",i=[];n!==null;){var o=n,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Ss(n,r),a!=null&&i.unshift(js(n,a,o)),a=Ss(n,e),a!=null&&i.push(js(n,a,o))),n=n.return}return i}function Ar(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function op(n,e,r,i,o){for(var a=e._reactName,u=[];r!==null&&r!==i;){var h=r,d=h.alternate,f=h.stateNode;if(d!==null&&d===i)break;h.tag===5&&f!==null&&(h=f,o?(d=Ss(r,a),d!=null&&u.unshift(js(r,d,h))):o||(d=Ss(r,a),d!=null&&u.push(js(r,d,h)))),r=r.return}u.length!==0&&n.push({event:e,listeners:u})}var x1=/\r\n?/g,b1=/\u0000|\uFFFD/g;function ap(n){return(typeof n=="string"?n:""+n).replace(x1,`
`).replace(b1,"")}function Ro(n,e,r){if(e=ap(e),ap(n)!==e&&r)throw Error(z(425))}function _a(){}var rc=null,ic=null;function sc(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oc=typeof setTimeout=="function"?setTimeout:void 0,S1=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,k1=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(n){return lp.resolve(null).then(n).catch(P1)}:oc;function P1(n){setTimeout(function(){throw n})}function cu(n,e){var r=e,i=0;do{var o=r.nextSibling;if(n.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(i===0){n.removeChild(o),Es(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=o}while(r);Es(e)}function zn(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function up(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return n;e--}else r==="/$"&&e++}n=n.previousSibling}return null}var Ci=Math.random().toString(36).slice(2),tn="__reactFiber$"+Ci,Ls="__reactProps$"+Ci,wn="__reactContainer$"+Ci,ac="__reactEvents$"+Ci,E1="__reactListeners$"+Ci,C1="__reactHandles$"+Ci;function cr(n){var e=n[tn];if(e)return e;for(var r=n.parentNode;r;){if(e=r[wn]||r[tn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(n=up(n);n!==null;){if(r=n[tn])return r;n=up(n)}return e}n=r,r=n.parentNode}return null}function Ys(n){return n=n[tn]||n[wn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Yr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(z(33))}function Ya(n){return n[Ls]||null}var lc=[],Xr=-1;function Gn(n){return{current:n}}function we(n){0>Xr||(n.current=lc[Xr],lc[Xr]=null,Xr--)}function ve(n,e){Xr++,lc[Xr]=n.current,n.current=e}var Wn={},tt=Gn(Wn),ft=Gn(!1),gr=Wn;function fi(n,e){var r=n.type.contextTypes;if(!r)return Wn;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in r)o[a]=e[a];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=o),o}function pt(n){return n=n.childContextTypes,n!=null}function wa(){we(ft),we(tt)}function cp(n,e,r){if(tt.current!==Wn)throw Error(z(168));ve(tt,e),ve(ft,r)}function uv(n,e,r){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var o in i)if(!(o in e))throw Error(z(108,hb(n)||"Unknown",o));return Te({},r,i)}function xa(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Wn,gr=tt.current,ve(tt,n),ve(ft,ft.current),!0}function hp(n,e,r){var i=n.stateNode;if(!i)throw Error(z(169));r?(n=uv(n,e,gr),i.__reactInternalMemoizedMergedChildContext=n,we(ft),we(tt),ve(tt,n)):we(ft),ve(ft,r)}var fn=null,Xa=!1,hu=!1;function cv(n){fn===null?fn=[n]:fn.push(n)}function T1(n){Xa=!0,cv(n)}function Jn(){if(!hu&&fn!==null){hu=!0;var n=0,e=de;try{var r=fn;for(de=1;n<r.length;n++){var i=r[n];do i=i(!0);while(i!==null)}fn=null,Xa=!1}catch(o){throw fn!==null&&(fn=fn.slice(n+1)),Ag(gh,Jn),o}finally{de=e,hu=!1}}return null}var ei=[],ti=0,ba=null,Sa=0,Ct=[],Tt=0,vr=null,pn=1,mn="";function sr(n,e){ei[ti++]=Sa,ei[ti++]=ba,ba=n,Sa=e}function hv(n,e,r){Ct[Tt++]=pn,Ct[Tt++]=mn,Ct[Tt++]=vr,vr=n;var i=pn;n=mn;var o=32-Vt(i)-1;i&=~(1<<o),r+=1;var a=32-Vt(e)+o;if(30<a){var u=o-o%5;a=(i&(1<<u)-1).toString(32),i>>=u,o-=u,pn=1<<32-Vt(e)+o|r<<o|i,mn=a+n}else pn=1<<a|r<<o|i,mn=n}function Ph(n){n.return!==null&&(sr(n,1),hv(n,1,0))}function Eh(n){for(;n===ba;)ba=ei[--ti],ei[ti]=null,Sa=ei[--ti],ei[ti]=null;for(;n===vr;)vr=Ct[--Tt],Ct[Tt]=null,mn=Ct[--Tt],Ct[Tt]=null,pn=Ct[--Tt],Ct[Tt]=null}var wt=null,_t=null,be=!1,Ht=null;function dv(n,e){var r=Ot(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=n,e=n.deletions,e===null?(n.deletions=[r],n.flags|=16):e.push(r)}function dp(n,e){switch(n.tag){case 5:var r=n.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,wt=n,_t=zn(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,wt=n,_t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=vr!==null?{id:pn,overflow:mn}:null,n.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ot(18,null,null,0),r.stateNode=e,r.return=n,n.child=r,wt=n,_t=null,!0):!1;default:return!1}}function uc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function cc(n){if(be){var e=_t;if(e){var r=e;if(!dp(n,e)){if(uc(n))throw Error(z(418));e=zn(r.nextSibling);var i=wt;e&&dp(n,e)?dv(i,r):(n.flags=n.flags&-4097|2,be=!1,wt=n)}}else{if(uc(n))throw Error(z(418));n.flags=n.flags&-4097|2,be=!1,wt=n}}}function fp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;wt=n}function Io(n){if(n!==wt)return!1;if(!be)return fp(n),be=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!sc(n.type,n.memoizedProps)),e&&(e=_t)){if(uc(n))throw fv(),Error(z(418));for(;e;)dv(n,e),e=zn(e.nextSibling)}if(fp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(e===0){_t=zn(n.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}n=n.nextSibling}_t=null}}else _t=wt?zn(n.stateNode.nextSibling):null;return!0}function fv(){for(var n=_t;n;)n=zn(n.nextSibling)}function pi(){_t=wt=null,be=!1}function Ch(n){Ht===null?Ht=[n]:Ht.push(n)}var O1=Sn.ReactCurrentBatchConfig;function Yi(n,e,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var i=r.stateNode}if(!i)throw Error(z(147,n));var o=i,a=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var h=o.refs;u===null?delete h[a]:h[a]=u},e._stringRef=a,e)}if(typeof n!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,n))}return n}function Ao(n,e){throw n=Object.prototype.toString.call(e),Error(z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function pp(n){var e=n._init;return e(n._payload)}function pv(n){function e(P,b){if(n){var k=P.deletions;k===null?(P.deletions=[b],P.flags|=16):k.push(b)}}function r(P,b){if(!n)return null;for(;b!==null;)e(P,b),b=b.sibling;return null}function i(P,b){for(P=new Map;b!==null;)b.key!==null?P.set(b.key,b):P.set(b.index,b),b=b.sibling;return P}function o(P,b){return P=Hn(P,b),P.index=0,P.sibling=null,P}function a(P,b,k){return P.index=k,n?(k=P.alternate,k!==null?(k=k.index,k<b?(P.flags|=2,b):k):(P.flags|=2,b)):(P.flags|=1048576,b)}function u(P){return n&&P.alternate===null&&(P.flags|=2),P}function h(P,b,k,j){return b===null||b.tag!==6?(b=yu(k,P.mode,j),b.return=P,b):(b=o(b,k),b.return=P,b)}function d(P,b,k,j){var A=k.type;return A===Kr?v(P,b,k.props.children,j,k.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===On&&pp(A)===b.type)?(j=o(b,k.props),j.ref=Yi(P,b,k),j.return=P,j):(j=ua(k.type,k.key,k.props,null,P.mode,j),j.ref=Yi(P,b,k),j.return=P,j)}function f(P,b,k,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==k.containerInfo||b.stateNode.implementation!==k.implementation?(b=_u(k,P.mode,j),b.return=P,b):(b=o(b,k.children||[]),b.return=P,b)}function v(P,b,k,j,A){return b===null||b.tag!==7?(b=mr(k,P.mode,j,A),b.return=P,b):(b=o(b,k),b.return=P,b)}function y(P,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return b=yu(""+b,P.mode,k),b.return=P,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ko:return k=ua(b.type,b.key,b.props,null,P.mode,k),k.ref=Yi(P,null,b),k.return=P,k;case qr:return b=_u(b,P.mode,k),b.return=P,b;case On:var j=b._init;return y(P,j(b._payload),k)}if(rs(b)||qi(b))return b=mr(b,P.mode,k,null),b.return=P,b;Ao(P,b)}return null}function _(P,b,k,j){var A=b!==null?b.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return A!==null?null:h(P,b,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ko:return k.key===A?d(P,b,k,j):null;case qr:return k.key===A?f(P,b,k,j):null;case On:return A=k._init,_(P,b,A(k._payload),j)}if(rs(k)||qi(k))return A!==null?null:v(P,b,k,j,null);Ao(P,k)}return null}function x(P,b,k,j,A){if(typeof j=="string"&&j!==""||typeof j=="number")return P=P.get(k)||null,h(b,P,""+j,A);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ko:return P=P.get(j.key===null?k:j.key)||null,d(b,P,j,A);case qr:return P=P.get(j.key===null?k:j.key)||null,f(b,P,j,A);case On:var I=j._init;return x(P,b,k,I(j._payload),A)}if(rs(j)||qi(j))return P=P.get(k)||null,v(b,P,j,A,null);Ao(b,j)}return null}function S(P,b,k,j){for(var A=null,I=null,M=b,U=b=0,F=null;M!==null&&U<k.length;U++){M.index>U?(F=M,M=null):F=M.sibling;var V=_(P,M,k[U],j);if(V===null){M===null&&(M=F);break}n&&M&&V.alternate===null&&e(P,M),b=a(V,b,U),I===null?A=V:I.sibling=V,I=V,M=F}if(U===k.length)return r(P,M),be&&sr(P,U),A;if(M===null){for(;U<k.length;U++)M=y(P,k[U],j),M!==null&&(b=a(M,b,U),I===null?A=M:I.sibling=M,I=M);return be&&sr(P,U),A}for(M=i(P,M);U<k.length;U++)F=x(M,P,U,k[U],j),F!==null&&(n&&F.alternate!==null&&M.delete(F.key===null?U:F.key),b=a(F,b,U),I===null?A=F:I.sibling=F,I=F);return n&&M.forEach(function(ae){return e(P,ae)}),be&&sr(P,U),A}function E(P,b,k,j){var A=qi(k);if(typeof A!="function")throw Error(z(150));if(k=A.call(k),k==null)throw Error(z(151));for(var I=A=null,M=b,U=b=0,F=null,V=k.next();M!==null&&!V.done;U++,V=k.next()){M.index>U?(F=M,M=null):F=M.sibling;var ae=_(P,M,V.value,j);if(ae===null){M===null&&(M=F);break}n&&M&&ae.alternate===null&&e(P,M),b=a(ae,b,U),I===null?A=ae:I.sibling=ae,I=ae,M=F}if(V.done)return r(P,M),be&&sr(P,U),A;if(M===null){for(;!V.done;U++,V=k.next())V=y(P,V.value,j),V!==null&&(b=a(V,b,U),I===null?A=V:I.sibling=V,I=V);return be&&sr(P,U),A}for(M=i(P,M);!V.done;U++,V=k.next())V=x(M,P,U,V.value,j),V!==null&&(n&&V.alternate!==null&&M.delete(V.key===null?U:V.key),b=a(V,b,U),I===null?A=V:I.sibling=V,I=V);return n&&M.forEach(function(Oe){return e(P,Oe)}),be&&sr(P,U),A}function O(P,b,k,j){if(typeof k=="object"&&k!==null&&k.type===Kr&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case ko:e:{for(var A=k.key,I=b;I!==null;){if(I.key===A){if(A=k.type,A===Kr){if(I.tag===7){r(P,I.sibling),b=o(I,k.props.children),b.return=P,P=b;break e}}else if(I.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===On&&pp(A)===I.type){r(P,I.sibling),b=o(I,k.props),b.ref=Yi(P,I,k),b.return=P,P=b;break e}r(P,I);break}else e(P,I);I=I.sibling}k.type===Kr?(b=mr(k.props.children,P.mode,j,k.key),b.return=P,P=b):(j=ua(k.type,k.key,k.props,null,P.mode,j),j.ref=Yi(P,b,k),j.return=P,P=j)}return u(P);case qr:e:{for(I=k.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===k.containerInfo&&b.stateNode.implementation===k.implementation){r(P,b.sibling),b=o(b,k.children||[]),b.return=P,P=b;break e}else{r(P,b);break}else e(P,b);b=b.sibling}b=_u(k,P.mode,j),b.return=P,P=b}return u(P);case On:return I=k._init,O(P,b,I(k._payload),j)}if(rs(k))return S(P,b,k,j);if(qi(k))return E(P,b,k,j);Ao(P,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,b!==null&&b.tag===6?(r(P,b.sibling),b=o(b,k),b.return=P,P=b):(r(P,b),b=yu(k,P.mode,j),b.return=P,P=b),u(P)):r(P,b)}return O}var mi=pv(!0),mv=pv(!1),ka=Gn(null),Pa=null,ni=null,Th=null;function Oh(){Th=ni=Pa=null}function jh(n){var e=ka.current;we(ka),n._currentValue=e}function hc(n,e,r){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===r)break;n=n.return}}function ui(n,e){Pa=n,Th=ni=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(dt=!0),n.firstContext=null)}function Lt(n){var e=n._currentValue;if(Th!==n)if(n={context:n,memoizedValue:e,next:null},ni===null){if(Pa===null)throw Error(z(308));ni=n,Pa.dependencies={lanes:0,firstContext:n}}else ni=ni.next=n;return e}var hr=null;function Lh(n){hr===null?hr=[n]:hr.push(n)}function gv(n,e,r,i){var o=e.interleaved;return o===null?(r.next=r,Lh(e)):(r.next=o.next,o.next=r),e.interleaved=r,xn(n,i)}function xn(n,e){n.lanes|=e;var r=n.alternate;for(r!==null&&(r.lanes|=e),r=n,n=n.return;n!==null;)n.childLanes|=e,r=n.alternate,r!==null&&(r.childLanes|=e),r=n,n=n.return;return r.tag===3?r.stateNode:null}var jn=!1;function Nh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vv(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function vn(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Bn(n,e,r){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,ue&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,xn(n,r)}return o=i.interleaved,o===null?(e.next=e,Lh(i)):(e.next=o.next,o.next=e),i.interleaved=e,xn(n,r)}function ra(n,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,vh(n,r)}}function mp(n,e){var r=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var o=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?o=a=u:a=a.next=u,r=r.next}while(r!==null);a===null?o=a=e:a=a.next=e}else o=a=e;r={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=e:n.next=e,r.lastBaseUpdate=e}function Ea(n,e,r,i){var o=n.updateQueue;jn=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var d=h,f=d.next;d.next=null,u===null?a=f:u.next=f,u=d;var v=n.alternate;v!==null&&(v=v.updateQueue,h=v.lastBaseUpdate,h!==u&&(h===null?v.firstBaseUpdate=f:h.next=f,v.lastBaseUpdate=d))}if(a!==null){var y=o.baseState;u=0,v=f=d=null,h=a;do{var _=h.lane,x=h.eventTime;if((i&_)===_){v!==null&&(v=v.next={eventTime:x,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var S=n,E=h;switch(_=e,x=r,E.tag){case 1:if(S=E.payload,typeof S=="function"){y=S.call(x,y,_);break e}y=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,_=typeof S=="function"?S.call(x,y,_):S,_==null)break e;y=Te({},y,_);break e;case 2:jn=!0}}h.callback!==null&&h.lane!==0&&(n.flags|=64,_=o.effects,_===null?o.effects=[h]:_.push(h))}else x={eventTime:x,lane:_,tag:h.tag,payload:h.payload,callback:h.callback,next:null},v===null?(f=v=x,d=y):v=v.next=x,u|=_;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;_=h,h=_.next,_.next=null,o.lastBaseUpdate=_,o.shared.pending=null}}while(!0);if(v===null&&(d=y),o.baseState=d,o.firstBaseUpdate=f,o.lastBaseUpdate=v,e=o.shared.interleaved,e!==null){o=e;do u|=o.lane,o=o.next;while(o!==e)}else a===null&&(o.shared.lanes=0);_r|=u,n.lanes=u,n.memoizedState=y}}function gp(n,e,r){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],o=i.callback;if(o!==null){if(i.callback=null,i=r,typeof o!="function")throw Error(z(191,o));o.call(i)}}}var Xs={},sn=Gn(Xs),Ns=Gn(Xs),Rs=Gn(Xs);function dr(n){if(n===Xs)throw Error(z(174));return n}function Rh(n,e){switch(ve(Rs,e),ve(Ns,n),ve(sn,Xs),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wu(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Wu(e,n)}we(sn),ve(sn,e)}function gi(){we(sn),we(Ns),we(Rs)}function yv(n){dr(Rs.current);var e=dr(sn.current),r=Wu(e,n.type);e!==r&&(ve(Ns,n),ve(sn,r))}function Ih(n){Ns.current===n&&(we(sn),we(Ns))}var Ee=Gn(0);function Ca(n){for(var e=n;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var du=[];function Ah(){for(var n=0;n<du.length;n++)du[n]._workInProgressVersionPrimary=null;du.length=0}var ia=Sn.ReactCurrentDispatcher,fu=Sn.ReactCurrentBatchConfig,yr=0,Ce=null,Ue=null,We=null,Ta=!1,ds=!1,Is=0,j1=0;function Qe(){throw Error(z(321))}function Mh(n,e){if(e===null)return!1;for(var r=0;r<e.length&&r<n.length;r++)if(!qt(n[r],e[r]))return!1;return!0}function $h(n,e,r,i,o,a){if(yr=a,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ia.current=n===null||n.memoizedState===null?I1:A1,n=r(i,o),ds){a=0;do{if(ds=!1,Is=0,25<=a)throw Error(z(301));a+=1,We=Ue=null,e.updateQueue=null,ia.current=M1,n=r(i,o)}while(ds)}if(ia.current=Oa,e=Ue!==null&&Ue.next!==null,yr=0,We=Ue=Ce=null,Ta=!1,e)throw Error(z(300));return n}function Dh(){var n=Is!==0;return Is=0,n}function en(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ce.memoizedState=We=n:We=We.next=n,We}function Nt(){if(Ue===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Ue.next;var e=We===null?Ce.memoizedState:We.next;if(e!==null)We=e,Ue=n;else{if(n===null)throw Error(z(310));Ue=n,n={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},We===null?Ce.memoizedState=We=n:We=We.next=n}return We}function As(n,e){return typeof e=="function"?e(n):e}function pu(n){var e=Nt(),r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=n;var i=Ue,o=i.baseQueue,a=r.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}i.baseQueue=o=a,r.pending=null}if(o!==null){a=o.next,i=i.baseState;var h=u=null,d=null,f=a;do{var v=f.lane;if((yr&v)===v)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:n(i,f.action);else{var y={lane:v,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(h=d=y,u=i):d=d.next=y,Ce.lanes|=v,_r|=v}f=f.next}while(f!==null&&f!==a);d===null?u=i:d.next=h,qt(i,e.memoizedState)||(dt=!0),e.memoizedState=i,e.baseState=u,e.baseQueue=d,r.lastRenderedState=i}if(n=r.interleaved,n!==null){o=n;do a=o.lane,Ce.lanes|=a,_r|=a,o=o.next;while(o!==n)}else o===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function mu(n){var e=Nt(),r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=n;var i=r.dispatch,o=r.pending,a=e.memoizedState;if(o!==null){r.pending=null;var u=o=o.next;do a=n(a,u.action),u=u.next;while(u!==o);qt(a,e.memoizedState)||(dt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,i]}function _v(){}function wv(n,e){var r=Ce,i=Nt(),o=e(),a=!qt(i.memoizedState,o);if(a&&(i.memoizedState=o,dt=!0),i=i.queue,zh(Sv.bind(null,r,i,n),[n]),i.getSnapshot!==e||a||We!==null&&We.memoizedState.tag&1){if(r.flags|=2048,Ms(9,bv.bind(null,r,i,o,e),void 0,null),Ze===null)throw Error(z(349));yr&30||xv(r,e,o)}return o}function xv(n,e,r){n.flags|=16384,n={getSnapshot:e,value:r},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[n]):(r=e.stores,r===null?e.stores=[n]:r.push(n))}function bv(n,e,r,i){e.value=r,e.getSnapshot=i,kv(e)&&Pv(n)}function Sv(n,e,r){return r(function(){kv(e)&&Pv(n)})}function kv(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!qt(n,r)}catch{return!0}}function Pv(n){var e=xn(n,1);e!==null&&Wt(e,n,1,-1)}function vp(n){var e=en();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:n},e.queue=n,n=n.dispatch=R1.bind(null,Ce,n),[e.memoizedState,n]}function Ms(n,e,r,i){return n={tag:n,create:e,destroy:r,deps:i,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=n.next=n):(r=e.lastEffect,r===null?e.lastEffect=n.next=n:(i=r.next,r.next=n,n.next=i,e.lastEffect=n)),n}function Ev(){return Nt().memoizedState}function sa(n,e,r,i){var o=en();Ce.flags|=n,o.memoizedState=Ms(1|e,r,void 0,i===void 0?null:i)}function el(n,e,r,i){var o=Nt();i=i===void 0?null:i;var a=void 0;if(Ue!==null){var u=Ue.memoizedState;if(a=u.destroy,i!==null&&Mh(i,u.deps)){o.memoizedState=Ms(e,r,a,i);return}}Ce.flags|=n,o.memoizedState=Ms(1|e,r,a,i)}function yp(n,e){return sa(8390656,8,n,e)}function zh(n,e){return el(2048,8,n,e)}function Cv(n,e){return el(4,2,n,e)}function Tv(n,e){return el(4,4,n,e)}function Ov(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function jv(n,e,r){return r=r!=null?r.concat([n]):null,el(4,4,Ov.bind(null,e,n),r)}function Bh(){}function Lv(n,e){var r=Nt();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&Mh(e,i[1])?i[0]:(r.memoizedState=[n,e],n)}function Nv(n,e){var r=Nt();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&Mh(e,i[1])?i[0]:(n=n(),r.memoizedState=[n,e],n)}function Rv(n,e,r){return yr&21?(qt(r,e)||(r=Dg(),Ce.lanes|=r,_r|=r,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,dt=!0),n.memoizedState=r)}function L1(n,e){var r=de;de=r!==0&&4>r?r:4,n(!0);var i=fu.transition;fu.transition={};try{n(!1),e()}finally{de=r,fu.transition=i}}function Iv(){return Nt().memoizedState}function N1(n,e,r){var i=Fn(n);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Av(n))Mv(e,r);else if(r=gv(n,e,r,i),r!==null){var o=ot();Wt(r,n,i,o),$v(r,e,i)}}function R1(n,e,r){var i=Fn(n),o={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Av(n))Mv(e,o);else{var a=n.alternate;if(n.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,h=a(u,r);if(o.hasEagerState=!0,o.eagerState=h,qt(h,u)){var d=e.interleaved;d===null?(o.next=o,Lh(e)):(o.next=d.next,d.next=o),e.interleaved=o;return}}catch{}finally{}r=gv(n,e,o,i),r!==null&&(o=ot(),Wt(r,n,i,o),$v(r,e,i))}}function Av(n){var e=n.alternate;return n===Ce||e!==null&&e===Ce}function Mv(n,e){ds=Ta=!0;var r=n.pending;r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e}function $v(n,e,r){if(r&4194240){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,vh(n,r)}}var Oa={readContext:Lt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},I1={readContext:Lt,useCallback:function(n,e){return en().memoizedState=[n,e===void 0?null:e],n},useContext:Lt,useEffect:yp,useImperativeHandle:function(n,e,r){return r=r!=null?r.concat([n]):null,sa(4194308,4,Ov.bind(null,e,n),r)},useLayoutEffect:function(n,e){return sa(4194308,4,n,e)},useInsertionEffect:function(n,e){return sa(4,2,n,e)},useMemo:function(n,e){var r=en();return e=e===void 0?null:e,n=n(),r.memoizedState=[n,e],n},useReducer:function(n,e,r){var i=en();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=N1.bind(null,Ce,n),[i.memoizedState,n]},useRef:function(n){var e=en();return n={current:n},e.memoizedState=n},useState:vp,useDebugValue:Bh,useDeferredValue:function(n){return en().memoizedState=n},useTransition:function(){var n=vp(!1),e=n[0];return n=L1.bind(null,n[1]),en().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,r){var i=Ce,o=en();if(be){if(r===void 0)throw Error(z(407));r=r()}else{if(r=e(),Ze===null)throw Error(z(349));yr&30||xv(i,e,r)}o.memoizedState=r;var a={value:r,getSnapshot:e};return o.queue=a,yp(Sv.bind(null,i,a,n),[n]),i.flags|=2048,Ms(9,bv.bind(null,i,a,r,e),void 0,null),r},useId:function(){var n=en(),e=Ze.identifierPrefix;if(be){var r=mn,i=pn;r=(i&~(1<<32-Vt(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=Is++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=j1++,e=":"+e+"r"+r.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},A1={readContext:Lt,useCallback:Lv,useContext:Lt,useEffect:zh,useImperativeHandle:jv,useInsertionEffect:Cv,useLayoutEffect:Tv,useMemo:Nv,useReducer:pu,useRef:Ev,useState:function(){return pu(As)},useDebugValue:Bh,useDeferredValue:function(n){var e=Nt();return Rv(e,Ue.memoizedState,n)},useTransition:function(){var n=pu(As)[0],e=Nt().memoizedState;return[n,e]},useMutableSource:_v,useSyncExternalStore:wv,useId:Iv,unstable_isNewReconciler:!1},M1={readContext:Lt,useCallback:Lv,useContext:Lt,useEffect:zh,useImperativeHandle:jv,useInsertionEffect:Cv,useLayoutEffect:Tv,useMemo:Nv,useReducer:mu,useRef:Ev,useState:function(){return mu(As)},useDebugValue:Bh,useDeferredValue:function(n){var e=Nt();return Ue===null?e.memoizedState=n:Rv(e,Ue.memoizedState,n)},useTransition:function(){var n=mu(As)[0],e=Nt().memoizedState;return[n,e]},useMutableSource:_v,useSyncExternalStore:wv,useId:Iv,unstable_isNewReconciler:!1};function zt(n,e){if(n&&n.defaultProps){e=Te({},e),n=n.defaultProps;for(var r in n)e[r]===void 0&&(e[r]=n[r]);return e}return e}function dc(n,e,r,i){e=n.memoizedState,r=r(i,e),r=r==null?e:Te({},e,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var tl={isMounted:function(n){return(n=n._reactInternals)?kr(n)===n:!1},enqueueSetState:function(n,e,r){n=n._reactInternals;var i=ot(),o=Fn(n),a=vn(i,o);a.payload=e,r!=null&&(a.callback=r),e=Bn(n,a,o),e!==null&&(Wt(e,n,o,i),ra(e,n,o))},enqueueReplaceState:function(n,e,r){n=n._reactInternals;var i=ot(),o=Fn(n),a=vn(i,o);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Bn(n,a,o),e!==null&&(Wt(e,n,o,i),ra(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var r=ot(),i=Fn(n),o=vn(r,i);o.tag=2,e!=null&&(o.callback=e),e=Bn(n,o,i),e!==null&&(Wt(e,n,i,r),ra(e,n,i))}};function _p(n,e,r,i,o,a,u){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,a,u):e.prototype&&e.prototype.isPureReactComponent?!Ts(r,i)||!Ts(o,a):!0}function Dv(n,e,r){var i=!1,o=Wn,a=e.contextType;return typeof a=="object"&&a!==null?a=Lt(a):(o=pt(e)?gr:tt.current,i=e.contextTypes,a=(i=i!=null)?fi(n,o):Wn),e=new e(r,a),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tl,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=a),e}function wp(n,e,r,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==n&&tl.enqueueReplaceState(e,e.state,null)}function fc(n,e,r,i){var o=n.stateNode;o.props=r,o.state=n.memoizedState,o.refs={},Nh(n);var a=e.contextType;typeof a=="object"&&a!==null?o.context=Lt(a):(a=pt(e)?gr:tt.current,o.context=fi(n,a)),o.state=n.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(dc(n,e,a,r),o.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&tl.enqueueReplaceState(o,o.state,null),Ea(n,r,o,i),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function vi(n,e){try{var r="",i=e;do r+=cb(i),i=i.return;while(i);var o=r}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:n,source:e,stack:o,digest:null}}function gu(n,e,r){return{value:n,source:null,stack:r??null,digest:e??null}}function pc(n,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var $1=typeof WeakMap=="function"?WeakMap:Map;function zv(n,e,r){r=vn(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){La||(La=!0,kc=i),pc(n,e)},r}function Bv(n,e,r){r=vn(-1,r),r.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=e.value;r.payload=function(){return i(o)},r.callback=function(){pc(n,e)}}var a=n.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){pc(n,e),typeof i!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),r}function xp(n,e,r){var i=n.pingCache;if(i===null){i=n.pingCache=new $1;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(r)||(o.add(r),n=Q1.bind(null,n,e,r),e.then(n,n))}function bp(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Sp(n,e,r,i,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===e?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=vn(-1,1),e.tag=2,Bn(r,e,1))),r.lanes|=1),n)}var D1=Sn.ReactCurrentOwner,dt=!1;function it(n,e,r,i){e.child=n===null?mv(e,null,r,i):mi(e,n.child,r,i)}function kp(n,e,r,i,o){r=r.render;var a=e.ref;return ui(e,o),i=$h(n,e,r,i,a,o),r=Dh(),n!==null&&!dt?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,bn(n,e,o)):(be&&r&&Ph(e),e.flags|=1,it(n,e,i,o),e.child)}function Pp(n,e,r,i,o){if(n===null){var a=r.type;return typeof a=="function"&&!Kh(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,Uv(n,e,a,i,o)):(n=ua(r.type,null,i,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}if(a=n.child,!(n.lanes&o)){var u=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ts,r(u,i)&&n.ref===e.ref)return bn(n,e,o)}return e.flags|=1,n=Hn(a,i),n.ref=e.ref,n.return=e,e.child=n}function Uv(n,e,r,i,o){if(n!==null){var a=n.memoizedProps;if(Ts(a,i)&&n.ref===e.ref)if(dt=!1,e.pendingProps=i=a,(n.lanes&o)!==0)n.flags&131072&&(dt=!0);else return e.lanes=n.lanes,bn(n,e,o)}return mc(n,e,r,i,o)}function Fv(n,e,r){var i=e.pendingProps,o=i.children,a=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(ii,gt),gt|=r;else{if(!(r&1073741824))return n=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ve(ii,gt),gt|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:r,ve(ii,gt),gt|=i}else a!==null?(i=a.baseLanes|r,e.memoizedState=null):i=r,ve(ii,gt),gt|=i;return it(n,e,o,r),e.child}function Hv(n,e){var r=e.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function mc(n,e,r,i,o){var a=pt(r)?gr:tt.current;return a=fi(e,a),ui(e,o),r=$h(n,e,r,i,a,o),i=Dh(),n!==null&&!dt?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,bn(n,e,o)):(be&&i&&Ph(e),e.flags|=1,it(n,e,r,o),e.child)}function Ep(n,e,r,i,o){if(pt(r)){var a=!0;xa(e)}else a=!1;if(ui(e,o),e.stateNode===null)oa(n,e),Dv(e,r,i),fc(e,r,i,o),i=!0;else if(n===null){var u=e.stateNode,h=e.memoizedProps;u.props=h;var d=u.context,f=r.contextType;typeof f=="object"&&f!==null?f=Lt(f):(f=pt(r)?gr:tt.current,f=fi(e,f));var v=r.getDerivedStateFromProps,y=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function";y||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==i||d!==f)&&wp(e,u,i,f),jn=!1;var _=e.memoizedState;u.state=_,Ea(e,i,u,o),d=e.memoizedState,h!==i||_!==d||ft.current||jn?(typeof v=="function"&&(dc(e,r,v,i),d=e.memoizedState),(h=jn||_p(e,r,h,i,_,d,f))?(y||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=d),u.props=i,u.state=d,u.context=f,i=h):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{u=e.stateNode,vv(n,e),h=e.memoizedProps,f=e.type===e.elementType?h:zt(e.type,h),u.props=f,y=e.pendingProps,_=u.context,d=r.contextType,typeof d=="object"&&d!==null?d=Lt(d):(d=pt(r)?gr:tt.current,d=fi(e,d));var x=r.getDerivedStateFromProps;(v=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==y||_!==d)&&wp(e,u,i,d),jn=!1,_=e.memoizedState,u.state=_,Ea(e,i,u,o);var S=e.memoizedState;h!==y||_!==S||ft.current||jn?(typeof x=="function"&&(dc(e,r,x,i),S=e.memoizedState),(f=jn||_p(e,r,f,i,_,S,d)||!1)?(v||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,S,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,S,d)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===n.memoizedProps&&_===n.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===n.memoizedProps&&_===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=S),u.props=i,u.state=S,u.context=d,i=f):(typeof u.componentDidUpdate!="function"||h===n.memoizedProps&&_===n.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===n.memoizedProps&&_===n.memoizedState||(e.flags|=1024),i=!1)}return gc(n,e,r,i,a,o)}function gc(n,e,r,i,o,a){Hv(n,e);var u=(e.flags&128)!==0;if(!i&&!u)return o&&hp(e,r,!1),bn(n,e,a);i=e.stateNode,D1.current=e;var h=u&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&u?(e.child=mi(e,n.child,null,a),e.child=mi(e,null,h,a)):it(n,e,h,a),e.memoizedState=i.state,o&&hp(e,r,!0),e.child}function Vv(n){var e=n.stateNode;e.pendingContext?cp(n,e.pendingContext,e.pendingContext!==e.context):e.context&&cp(n,e.context,!1),Rh(n,e.containerInfo)}function Cp(n,e,r,i,o){return pi(),Ch(o),e.flags|=256,it(n,e,r,i),e.child}var vc={dehydrated:null,treeContext:null,retryLane:0};function yc(n){return{baseLanes:n,cachePool:null,transitions:null}}function Wv(n,e,r){var i=e.pendingProps,o=Ee.current,a=!1,u=(e.flags&128)!==0,h;if((h=u)||(h=n!==null&&n.memoizedState===null?!1:(o&2)!==0),h?(a=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),ve(Ee,o&1),n===null)return cc(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=i.children,n=i.fallback,a?(i=e.mode,a=e.child,u={mode:"hidden",children:u},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=il(u,i,0,null),n=mr(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,e.child.memoizedState=yc(r),e.memoizedState=vc,n):Uh(e,u));if(o=n.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return z1(n,e,u,i,h,o,r);if(a){a=i.fallback,u=e.mode,o=n.child,h=o.sibling;var d={mode:"hidden",children:i.children};return!(u&1)&&e.child!==o?(i=e.child,i.childLanes=0,i.pendingProps=d,e.deletions=null):(i=Hn(o,d),i.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=Hn(h,a):(a=mr(a,u,r,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,u=n.child.memoizedState,u=u===null?yc(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=n.childLanes&~r,e.memoizedState=vc,i}return a=n.child,n=a.sibling,i=Hn(a,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=i,e.memoizedState=null,i}function Uh(n,e){return e=il({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Mo(n,e,r,i){return i!==null&&Ch(i),mi(e,n.child,null,r),n=Uh(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function z1(n,e,r,i,o,a,u){if(r)return e.flags&256?(e.flags&=-257,i=gu(Error(z(422))),Mo(n,e,u,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(a=i.fallback,o=e.mode,i=il({mode:"visible",children:i.children},o,0,null),a=mr(a,o,u,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,e.mode&1&&mi(e,n.child,null,u),e.child.memoizedState=yc(u),e.memoizedState=vc,a);if(!(e.mode&1))return Mo(n,e,u,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var h=i.dgst;return i=h,a=Error(z(419)),i=gu(a,i,void 0),Mo(n,e,u,i)}if(h=(u&n.childLanes)!==0,dt||h){if(i=Ze,i!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,xn(n,o),Wt(i,n,o,-1))}return qh(),i=gu(Error(z(421))),Mo(n,e,u,i)}return o.data==="$?"?(e.flags|=128,e.child=n.child,e=Y1.bind(null,n),o._reactRetry=e,null):(n=a.treeContext,_t=zn(o.nextSibling),wt=e,be=!0,Ht=null,n!==null&&(Ct[Tt++]=pn,Ct[Tt++]=mn,Ct[Tt++]=vr,pn=n.id,mn=n.overflow,vr=e),e=Uh(e,i.children),e.flags|=4096,e)}function Tp(n,e,r){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),hc(n.return,e,r)}function vu(n,e,r,i,o){var a=n.memoizedState;a===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=r,a.tailMode=o)}function Zv(n,e,r){var i=e.pendingProps,o=i.revealOrder,a=i.tail;if(it(n,e,i.children,r),i=Ee.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Tp(n,r,e);else if(n.tag===19)Tp(n,r,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(ve(Ee,i),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(r=e.child,o=null;r!==null;)n=r.alternate,n!==null&&Ca(n)===null&&(o=r),r=r.sibling;r=o,r===null?(o=e.child,e.child=null):(o=r.sibling,r.sibling=null),vu(e,!1,o,r,a);break;case"backwards":for(r=null,o=e.child,e.child=null;o!==null;){if(n=o.alternate,n!==null&&Ca(n)===null){e.child=o;break}n=o.sibling,o.sibling=r,r=o,o=n}vu(e,!0,r,null,a);break;case"together":vu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oa(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function bn(n,e,r){if(n!==null&&(e.dependencies=n.dependencies),_r|=e.lanes,!(r&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(z(153));if(e.child!==null){for(n=e.child,r=Hn(n,n.pendingProps),e.child=r,r.return=e;n.sibling!==null;)n=n.sibling,r=r.sibling=Hn(n,n.pendingProps),r.return=e;r.sibling=null}return e.child}function B1(n,e,r){switch(e.tag){case 3:Vv(e),pi();break;case 5:yv(e);break;case 1:pt(e.type)&&xa(e);break;case 4:Rh(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,o=e.memoizedProps.value;ve(ka,i._currentValue),i._currentValue=o;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ve(Ee,Ee.current&1),e.flags|=128,null):r&e.child.childLanes?Wv(n,e,r):(ve(Ee,Ee.current&1),n=bn(n,e,r),n!==null?n.sibling:null);ve(Ee,Ee.current&1);break;case 19:if(i=(r&e.childLanes)!==0,n.flags&128){if(i)return Zv(n,e,r);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ve(Ee,Ee.current),i)break;return null;case 22:case 23:return e.lanes=0,Fv(n,e,r)}return bn(n,e,r)}var qv,_c,Kv,Gv;qv=function(n,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_c=function(){};Kv=function(n,e,r,i){var o=n.memoizedProps;if(o!==i){n=e.stateNode,dr(sn.current);var a=null;switch(r){case"input":o=Uu(n,o),i=Uu(n,i),a=[];break;case"select":o=Te({},o,{value:void 0}),i=Te({},i,{value:void 0}),a=[];break;case"textarea":o=Vu(n,o),i=Vu(n,i),a=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=_a)}Zu(r,i);var u;r=null;for(f in o)if(!i.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var h=o[f];for(u in h)h.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(xs.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in i){var d=i[f];if(h=o!=null?o[f]:void 0,i.hasOwnProperty(f)&&d!==h&&(d!=null||h!=null))if(f==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(r||(r={}),r[u]=d[u])}else r||(a||(a=[]),a.push(f,r)),r=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(xs.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&_e("scroll",n),a||h===d||(a=[])):(a=a||[]).push(f,d))}r&&(a=a||[]).push("style",r);var f=a;(e.updateQueue=f)&&(e.flags|=4)}};Gv=function(n,e,r,i){r!==i&&(e.flags|=4)};function Xi(n,e){if(!be)switch(n.tailMode){case"hidden":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Ye(n){var e=n.alternate!==null&&n.alternate.child===n.child,r=0,i=0;if(e)for(var o=n.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=i,n.childLanes=r,e}function U1(n,e,r){var i=e.pendingProps;switch(Eh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return pt(e.type)&&wa(),Ye(e),null;case 3:return i=e.stateNode,gi(),we(ft),we(tt),Ah(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Io(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ht!==null&&(Cc(Ht),Ht=null))),_c(n,e),Ye(e),null;case 5:Ih(e);var o=dr(Rs.current);if(r=e.type,n!==null&&e.stateNode!=null)Kv(n,e,r,i,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(z(166));return Ye(e),null}if(n=dr(sn.current),Io(e)){i=e.stateNode,r=e.type;var a=e.memoizedProps;switch(i[tn]=e,i[Ls]=a,n=(e.mode&1)!==0,r){case"dialog":_e("cancel",i),_e("close",i);break;case"iframe":case"object":case"embed":_e("load",i);break;case"video":case"audio":for(o=0;o<ss.length;o++)_e(ss[o],i);break;case"source":_e("error",i);break;case"img":case"image":case"link":_e("error",i),_e("load",i);break;case"details":_e("toggle",i);break;case"input":$f(i,a),_e("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},_e("invalid",i);break;case"textarea":zf(i,a),_e("invalid",i)}Zu(r,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?i.textContent!==h&&(a.suppressHydrationWarning!==!0&&Ro(i.textContent,h,n),o=["children",h]):typeof h=="number"&&i.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Ro(i.textContent,h,n),o=["children",""+h]):xs.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&_e("scroll",i)}switch(r){case"input":Po(i),Df(i,a,!0);break;case"textarea":Po(i),Bf(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=_a)}i=o,e.updateQueue=i,i!==null&&(e.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Sg(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=u.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=u.createElement(r,{is:i.is}):(n=u.createElement(r),r==="select"&&(u=n,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):n=u.createElementNS(n,r),n[tn]=e,n[Ls]=i,qv(n,e,!1,!1),e.stateNode=n;e:{switch(u=qu(r,i),r){case"dialog":_e("cancel",n),_e("close",n),o=i;break;case"iframe":case"object":case"embed":_e("load",n),o=i;break;case"video":case"audio":for(o=0;o<ss.length;o++)_e(ss[o],n);o=i;break;case"source":_e("error",n),o=i;break;case"img":case"image":case"link":_e("error",n),_e("load",n),o=i;break;case"details":_e("toggle",n),o=i;break;case"input":$f(n,i),o=Uu(n,i),_e("invalid",n);break;case"option":o=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},o=Te({},i,{value:void 0}),_e("invalid",n);break;case"textarea":zf(n,i),o=Vu(n,i),_e("invalid",n);break;default:o=i}Zu(r,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?Eg(n,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&kg(n,d)):a==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&bs(n,d):typeof d=="number"&&bs(n,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(xs.hasOwnProperty(a)?d!=null&&a==="onScroll"&&_e("scroll",n):d!=null&&hh(n,a,d,u))}switch(r){case"input":Po(n),Df(n,i,!1);break;case"textarea":Po(n),Bf(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Vn(i.value));break;case"select":n.multiple=!!i.multiple,a=i.value,a!=null?si(n,!!i.multiple,a,!1):i.defaultValue!=null&&si(n,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=_a)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(n&&e.stateNode!=null)Gv(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(z(166));if(r=dr(Rs.current),dr(sn.current),Io(e)){if(i=e.stateNode,r=e.memoizedProps,i[tn]=e,(a=i.nodeValue!==r)&&(n=wt,n!==null))switch(n.tag){case 3:Ro(i.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ro(i.nodeValue,r,(n.mode&1)!==0)}a&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[tn]=e,e.stateNode=i}return Ye(e),null;case 13:if(we(Ee),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(be&&_t!==null&&e.mode&1&&!(e.flags&128))fv(),pi(),e.flags|=98560,a=!1;else if(a=Io(e),i!==null&&i.dehydrated!==null){if(n===null){if(!a)throw Error(z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(z(317));a[tn]=e}else pi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),a=!1}else Ht!==null&&(Cc(Ht),Ht=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Ee.current&1?Fe===0&&(Fe=3):qh())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return gi(),_c(n,e),n===null&&Os(e.stateNode.containerInfo),Ye(e),null;case 10:return jh(e.type._context),Ye(e),null;case 17:return pt(e.type)&&wa(),Ye(e),null;case 19:if(we(Ee),a=e.memoizedState,a===null)return Ye(e),null;if(i=(e.flags&128)!==0,u=a.rendering,u===null)if(i)Xi(a,!1);else{if(Fe!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(u=Ca(n),u!==null){for(e.flags|=128,Xi(a,!1),i=u.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)a=r,n=i,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=n,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,n=u.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return ve(Ee,Ee.current&1|2),e.child}n=n.sibling}a.tail!==null&&Re()>yi&&(e.flags|=128,i=!0,Xi(a,!1),e.lanes=4194304)}else{if(!i)if(n=Ca(u),n!==null){if(e.flags|=128,i=!0,r=n.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Xi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!be)return Ye(e),null}else 2*Re()-a.renderingStartTime>yi&&r!==1073741824&&(e.flags|=128,i=!0,Xi(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(r=a.last,r!==null?r.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Re(),e.sibling=null,r=Ee.current,ve(Ee,i?r&1|2:r&1),e):(Ye(e),null);case 22:case 23:return Zh(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?gt&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function F1(n,e){switch(Eh(e),e.tag){case 1:return pt(e.type)&&wa(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return gi(),we(ft),we(tt),Ah(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Ih(e),null;case 13:if(we(Ee),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(z(340));pi()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return we(Ee),null;case 4:return gi(),null;case 10:return jh(e.type._context),null;case 22:case 23:return Zh(),null;case 24:return null;default:return null}}var $o=!1,et=!1,H1=typeof WeakSet=="function"?WeakSet:Set,W=null;function ri(n,e){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){je(n,e,i)}else r.current=null}function wc(n,e,r){try{r()}catch(i){je(n,e,i)}}var Op=!1;function V1(n,e){if(rc=ga,n=ev(),kh(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var u=0,h=-1,d=-1,f=0,v=0,y=n,_=null;t:for(;;){for(var x;y!==r||o!==0&&y.nodeType!==3||(h=u+o),y!==a||i!==0&&y.nodeType!==3||(d=u+i),y.nodeType===3&&(u+=y.nodeValue.length),(x=y.firstChild)!==null;)_=y,y=x;for(;;){if(y===n)break t;if(_===r&&++f===o&&(h=u),_===a&&++v===i&&(d=u),(x=y.nextSibling)!==null)break;y=_,_=y.parentNode}y=x}r=h===-1||d===-1?null:{start:h,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(ic={focusedElem:n,selectionRange:r},ga=!1,W=e;W!==null;)if(e=W,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,W=n;else for(;W!==null;){e=W;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,O=S.memoizedState,P=e.stateNode,b=P.getSnapshotBeforeUpdate(e.elementType===e.type?E:zt(e.type,E),O);P.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(j){je(e,e.return,j)}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}return S=Op,Op=!1,S}function fs(n,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&n)===n){var a=o.destroy;o.destroy=void 0,a!==void 0&&wc(e,r,a)}o=o.next}while(o!==i)}}function nl(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&n)===n){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function xc(n){var e=n.ref;if(e!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof e=="function"?e(n):e.current=n}}function Jv(n){var e=n.alternate;e!==null&&(n.alternate=null,Jv(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[tn],delete e[Ls],delete e[ac],delete e[E1],delete e[C1])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Qv(n){return n.tag===5||n.tag===3||n.tag===4}function jp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Qv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bc(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(n,e):r.insertBefore(n,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(n,r)):(e=r,e.appendChild(n)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=_a));else if(i!==4&&(n=n.child,n!==null))for(bc(n,e,r),n=n.sibling;n!==null;)bc(n,e,r),n=n.sibling}function Sc(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.insertBefore(n,e):r.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Sc(n,e,r),n=n.sibling;n!==null;)Sc(n,e,r),n=n.sibling}var Ke=null,Ut=!1;function Cn(n,e,r){for(r=r.child;r!==null;)Yv(n,e,r),r=r.sibling}function Yv(n,e,r){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Ka,r)}catch{}switch(r.tag){case 5:et||ri(r,e);case 6:var i=Ke,o=Ut;Ke=null,Cn(n,e,r),Ke=i,Ut=o,Ke!==null&&(Ut?(n=Ke,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):Ke.removeChild(r.stateNode));break;case 18:Ke!==null&&(Ut?(n=Ke,r=r.stateNode,n.nodeType===8?cu(n.parentNode,r):n.nodeType===1&&cu(n,r),Es(n)):cu(Ke,r.stateNode));break;case 4:i=Ke,o=Ut,Ke=r.stateNode.containerInfo,Ut=!0,Cn(n,e,r),Ke=i,Ut=o;break;case 0:case 11:case 14:case 15:if(!et&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&wc(r,e,u),o=o.next}while(o!==i)}Cn(n,e,r);break;case 1:if(!et&&(ri(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(h){je(r,e,h)}Cn(n,e,r);break;case 21:Cn(n,e,r);break;case 22:r.mode&1?(et=(i=et)||r.memoizedState!==null,Cn(n,e,r),et=i):Cn(n,e,r);break;default:Cn(n,e,r)}}function Lp(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new H1),e.forEach(function(i){var o=X1.bind(null,n,i);r.has(i)||(r.add(i),i.then(o,o))})}}function Mt(n,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];try{var a=n,u=e,h=u;e:for(;h!==null;){switch(h.tag){case 5:Ke=h.stateNode,Ut=!1;break e;case 3:Ke=h.stateNode.containerInfo,Ut=!0;break e;case 4:Ke=h.stateNode.containerInfo,Ut=!0;break e}h=h.return}if(Ke===null)throw Error(z(160));Yv(a,u,o),Ke=null,Ut=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(f){je(o,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xv(e,n),e=e.sibling}function Xv(n,e){var r=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Mt(e,n),Xt(n),i&4){try{fs(3,n,n.return),nl(3,n)}catch(E){je(n,n.return,E)}try{fs(5,n,n.return)}catch(E){je(n,n.return,E)}}break;case 1:Mt(e,n),Xt(n),i&512&&r!==null&&ri(r,r.return);break;case 5:if(Mt(e,n),Xt(n),i&512&&r!==null&&ri(r,r.return),n.flags&32){var o=n.stateNode;try{bs(o,"")}catch(E){je(n,n.return,E)}}if(i&4&&(o=n.stateNode,o!=null)){var a=n.memoizedProps,u=r!==null?r.memoizedProps:a,h=n.type,d=n.updateQueue;if(n.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&xg(o,a),qu(h,u);var f=qu(h,a);for(u=0;u<d.length;u+=2){var v=d[u],y=d[u+1];v==="style"?Eg(o,y):v==="dangerouslySetInnerHTML"?kg(o,y):v==="children"?bs(o,y):hh(o,v,y,f)}switch(h){case"input":Fu(o,a);break;case"textarea":bg(o,a);break;case"select":var _=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?si(o,!!a.multiple,x,!1):_!==!!a.multiple&&(a.defaultValue!=null?si(o,!!a.multiple,a.defaultValue,!0):si(o,!!a.multiple,a.multiple?[]:"",!1))}o[Ls]=a}catch(E){je(n,n.return,E)}}break;case 6:if(Mt(e,n),Xt(n),i&4){if(n.stateNode===null)throw Error(z(162));o=n.stateNode,a=n.memoizedProps;try{o.nodeValue=a}catch(E){je(n,n.return,E)}}break;case 3:if(Mt(e,n),Xt(n),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Es(e.containerInfo)}catch(E){je(n,n.return,E)}break;case 4:Mt(e,n),Xt(n);break;case 13:Mt(e,n),Xt(n),o=n.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Vh=Re())),i&4&&Lp(n);break;case 22:if(v=r!==null&&r.memoizedState!==null,n.mode&1?(et=(f=et)||v,Mt(e,n),et=f):Mt(e,n),Xt(n),i&8192){if(f=n.memoizedState!==null,(n.stateNode.isHidden=f)&&!v&&n.mode&1)for(W=n,v=n.child;v!==null;){for(y=W=v;W!==null;){switch(_=W,x=_.child,_.tag){case 0:case 11:case 14:case 15:fs(4,_,_.return);break;case 1:ri(_,_.return);var S=_.stateNode;if(typeof S.componentWillUnmount=="function"){i=_,r=_.return;try{e=i,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(E){je(i,r,E)}}break;case 5:ri(_,_.return);break;case 22:if(_.memoizedState!==null){Rp(y);continue}}x!==null?(x.return=_,W=x):Rp(y)}v=v.sibling}e:for(v=null,y=n;;){if(y.tag===5){if(v===null){v=y;try{o=y.stateNode,f?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=y.stateNode,d=y.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=Pg("display",u))}catch(E){je(n,n.return,E)}}}else if(y.tag===6){if(v===null)try{y.stateNode.nodeValue=f?"":y.memoizedProps}catch(E){je(n,n.return,E)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===n)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;v===y&&(v=null),y=y.return}v===y&&(v=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Mt(e,n),Xt(n),i&4&&Lp(n);break;case 21:break;default:Mt(e,n),Xt(n)}}function Xt(n){var e=n.flags;if(e&2){try{e:{for(var r=n.return;r!==null;){if(Qv(r)){var i=r;break e}r=r.return}throw Error(z(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(bs(o,""),i.flags&=-33);var a=jp(n);Sc(n,a,o);break;case 3:case 4:var u=i.stateNode.containerInfo,h=jp(n);bc(n,h,u);break;default:throw Error(z(161))}}catch(d){je(n,n.return,d)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function W1(n,e,r){W=n,ey(n)}function ey(n,e,r){for(var i=(n.mode&1)!==0;W!==null;){var o=W,a=o.child;if(o.tag===22&&i){var u=o.memoizedState!==null||$o;if(!u){var h=o.alternate,d=h!==null&&h.memoizedState!==null||et;h=$o;var f=et;if($o=u,(et=d)&&!f)for(W=o;W!==null;)u=W,d=u.child,u.tag===22&&u.memoizedState!==null?Ip(o):d!==null?(d.return=u,W=d):Ip(o);for(;a!==null;)W=a,ey(a),a=a.sibling;W=o,$o=h,et=f}Np(n)}else o.subtreeFlags&8772&&a!==null?(a.return=o,W=a):Np(n)}}function Np(n){for(;W!==null;){var e=W;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:et||nl(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!et)if(r===null)i.componentDidMount();else{var o=e.elementType===e.type?r.memoizedProps:zt(e.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&gp(e,a,i);break;case 3:var u=e.updateQueue;if(u!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}gp(e,u,r)}break;case 5:var h=e.stateNode;if(r===null&&e.flags&4){r=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var v=f.memoizedState;if(v!==null){var y=v.dehydrated;y!==null&&Es(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}et||e.flags&512&&xc(e)}catch(_){je(e,e.return,_)}}if(e===n){W=null;break}if(r=e.sibling,r!==null){r.return=e.return,W=r;break}W=e.return}}function Rp(n){for(;W!==null;){var e=W;if(e===n){W=null;break}var r=e.sibling;if(r!==null){r.return=e.return,W=r;break}W=e.return}}function Ip(n){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{nl(4,e)}catch(d){je(e,r,d)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var o=e.return;try{i.componentDidMount()}catch(d){je(e,o,d)}}var a=e.return;try{xc(e)}catch(d){je(e,a,d)}break;case 5:var u=e.return;try{xc(e)}catch(d){je(e,u,d)}}}catch(d){je(e,e.return,d)}if(e===n){W=null;break}var h=e.sibling;if(h!==null){h.return=e.return,W=h;break}W=e.return}}var Z1=Math.ceil,ja=Sn.ReactCurrentDispatcher,Fh=Sn.ReactCurrentOwner,jt=Sn.ReactCurrentBatchConfig,ue=0,Ze=null,$e=null,Ge=0,gt=0,ii=Gn(0),Fe=0,$s=null,_r=0,rl=0,Hh=0,ps=null,ht=null,Vh=0,yi=1/0,hn=null,La=!1,kc=null,Un=null,Do=!1,An=null,Na=0,ms=0,Pc=null,aa=-1,la=0;function ot(){return ue&6?Re():aa!==-1?aa:aa=Re()}function Fn(n){return n.mode&1?ue&2&&Ge!==0?Ge&-Ge:O1.transition!==null?(la===0&&(la=Dg()),la):(n=de,n!==0||(n=window.event,n=n===void 0?16:Wg(n.type)),n):1}function Wt(n,e,r,i){if(50<ms)throw ms=0,Pc=null,Error(z(185));Js(n,r,i),(!(ue&2)||n!==Ze)&&(n===Ze&&(!(ue&2)&&(rl|=r),Fe===4&&Nn(n,Ge)),mt(n,i),r===1&&ue===0&&!(e.mode&1)&&(yi=Re()+500,Xa&&Jn()))}function mt(n,e){var r=n.callbackNode;Ob(n,e);var i=ma(n,n===Ze?Ge:0);if(i===0)r!==null&&Hf(r),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(r!=null&&Hf(r),e===1)n.tag===0?T1(Ap.bind(null,n)):cv(Ap.bind(null,n)),k1(function(){!(ue&6)&&Jn()}),r=null;else{switch(zg(i)){case 1:r=gh;break;case 4:r=Mg;break;case 16:r=pa;break;case 536870912:r=$g;break;default:r=pa}r=ly(r,ty.bind(null,n))}n.callbackPriority=e,n.callbackNode=r}}function ty(n,e){if(aa=-1,la=0,ue&6)throw Error(z(327));var r=n.callbackNode;if(ci()&&n.callbackNode!==r)return null;var i=ma(n,n===Ze?Ge:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Ra(n,i);else{e=i;var o=ue;ue|=2;var a=ry();(Ze!==n||Ge!==e)&&(hn=null,yi=Re()+500,pr(n,e));do try{G1();break}catch(h){ny(n,h)}while(!0);Oh(),ja.current=a,ue=o,$e!==null?e=0:(Ze=null,Ge=0,e=Fe)}if(e!==0){if(e===2&&(o=Yu(n),o!==0&&(i=o,e=Ec(n,o))),e===1)throw r=$s,pr(n,0),Nn(n,i),mt(n,Re()),r;if(e===6)Nn(n,i);else{if(o=n.current.alternate,!(i&30)&&!q1(o)&&(e=Ra(n,i),e===2&&(a=Yu(n),a!==0&&(i=a,e=Ec(n,a))),e===1))throw r=$s,pr(n,0),Nn(n,i),mt(n,Re()),r;switch(n.finishedWork=o,n.finishedLanes=i,e){case 0:case 1:throw Error(z(345));case 2:or(n,ht,hn);break;case 3:if(Nn(n,i),(i&130023424)===i&&(e=Vh+500-Re(),10<e)){if(ma(n,0)!==0)break;if(o=n.suspendedLanes,(o&i)!==i){ot(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=oc(or.bind(null,n,ht,hn),e);break}or(n,ht,hn);break;case 4:if(Nn(n,i),(i&4194240)===i)break;for(e=n.eventTimes,o=-1;0<i;){var u=31-Vt(i);a=1<<u,u=e[u],u>o&&(o=u),i&=~a}if(i=o,i=Re()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Z1(i/1960))-i,10<i){n.timeoutHandle=oc(or.bind(null,n,ht,hn),i);break}or(n,ht,hn);break;case 5:or(n,ht,hn);break;default:throw Error(z(329))}}}return mt(n,Re()),n.callbackNode===r?ty.bind(null,n):null}function Ec(n,e){var r=ps;return n.current.memoizedState.isDehydrated&&(pr(n,e).flags|=256),n=Ra(n,e),n!==2&&(e=ht,ht=r,e!==null&&Cc(e)),n}function Cc(n){ht===null?ht=n:ht.push.apply(ht,n)}function q1(n){for(var e=n;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var o=r[i],a=o.getSnapshot;o=o.value;try{if(!qt(a(),o))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nn(n,e){for(e&=~Hh,e&=~rl,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var r=31-Vt(e),i=1<<r;n[r]=-1,e&=~i}}function Ap(n){if(ue&6)throw Error(z(327));ci();var e=ma(n,0);if(!(e&1))return mt(n,Re()),null;var r=Ra(n,e);if(n.tag!==0&&r===2){var i=Yu(n);i!==0&&(e=i,r=Ec(n,i))}if(r===1)throw r=$s,pr(n,0),Nn(n,e),mt(n,Re()),r;if(r===6)throw Error(z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,or(n,ht,hn),mt(n,Re()),null}function Wh(n,e){var r=ue;ue|=1;try{return n(e)}finally{ue=r,ue===0&&(yi=Re()+500,Xa&&Jn())}}function wr(n){An!==null&&An.tag===0&&!(ue&6)&&ci();var e=ue;ue|=1;var r=jt.transition,i=de;try{if(jt.transition=null,de=1,n)return n()}finally{de=i,jt.transition=r,ue=e,!(ue&6)&&Jn()}}function Zh(){gt=ii.current,we(ii)}function pr(n,e){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,S1(r)),$e!==null)for(r=$e.return;r!==null;){var i=r;switch(Eh(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&wa();break;case 3:gi(),we(ft),we(tt),Ah();break;case 5:Ih(i);break;case 4:gi();break;case 13:we(Ee);break;case 19:we(Ee);break;case 10:jh(i.type._context);break;case 22:case 23:Zh()}r=r.return}if(Ze=n,$e=n=Hn(n.current,null),Ge=gt=e,Fe=0,$s=null,Hh=rl=_r=0,ht=ps=null,hr!==null){for(e=0;e<hr.length;e++)if(r=hr[e],i=r.interleaved,i!==null){r.interleaved=null;var o=i.next,a=r.pending;if(a!==null){var u=a.next;a.next=o,i.next=u}r.pending=i}hr=null}return n}function ny(n,e){do{var r=$e;try{if(Oh(),ia.current=Oa,Ta){for(var i=Ce.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Ta=!1}if(yr=0,We=Ue=Ce=null,ds=!1,Is=0,Fh.current=null,r===null||r.return===null){Fe=1,$s=e,$e=null;break}e:{var a=n,u=r.return,h=r,d=e;if(e=Ge,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,v=h,y=v.tag;if(!(v.mode&1)&&(y===0||y===11||y===15)){var _=v.alternate;_?(v.updateQueue=_.updateQueue,v.memoizedState=_.memoizedState,v.lanes=_.lanes):(v.updateQueue=null,v.memoizedState=null)}var x=bp(u);if(x!==null){x.flags&=-257,Sp(x,u,h,a,e),x.mode&1&&xp(a,f,e),e=x,d=f;var S=e.updateQueue;if(S===null){var E=new Set;E.add(d),e.updateQueue=E}else S.add(d);break e}else{if(!(e&1)){xp(a,f,e),qh();break e}d=Error(z(426))}}else if(be&&h.mode&1){var O=bp(u);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Sp(O,u,h,a,e),Ch(vi(d,h));break e}}a=d=vi(d,h),Fe!==4&&(Fe=2),ps===null?ps=[a]:ps.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var P=zv(a,d,e);mp(a,P);break e;case 1:h=d;var b=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Un===null||!Un.has(k)))){a.flags|=65536,e&=-e,a.lanes|=e;var j=Bv(a,h,e);mp(a,j);break e}}a=a.return}while(a!==null)}sy(r)}catch(A){e=A,$e===r&&r!==null&&($e=r=r.return);continue}break}while(!0)}function ry(){var n=ja.current;return ja.current=Oa,n===null?Oa:n}function qh(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Ze===null||!(_r&268435455)&&!(rl&268435455)||Nn(Ze,Ge)}function Ra(n,e){var r=ue;ue|=2;var i=ry();(Ze!==n||Ge!==e)&&(hn=null,pr(n,e));do try{K1();break}catch(o){ny(n,o)}while(!0);if(Oh(),ue=r,ja.current=i,$e!==null)throw Error(z(261));return Ze=null,Ge=0,Fe}function K1(){for(;$e!==null;)iy($e)}function G1(){for(;$e!==null&&!wb();)iy($e)}function iy(n){var e=ay(n.alternate,n,gt);n.memoizedProps=n.pendingProps,e===null?sy(n):$e=e,Fh.current=null}function sy(n){var e=n;do{var r=e.alternate;if(n=e.return,e.flags&32768){if(r=F1(r,e),r!==null){r.flags&=32767,$e=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Fe=6,$e=null;return}}else if(r=U1(r,e,gt),r!==null){$e=r;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=n}while(e!==null);Fe===0&&(Fe=5)}function or(n,e,r){var i=de,o=jt.transition;try{jt.transition=null,de=1,J1(n,e,r,i)}finally{jt.transition=o,de=i}return null}function J1(n,e,r,i){do ci();while(An!==null);if(ue&6)throw Error(z(327));r=n.finishedWork;var o=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(z(177));n.callbackNode=null,n.callbackPriority=0;var a=r.lanes|r.childLanes;if(jb(n,a),n===Ze&&($e=Ze=null,Ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Do||(Do=!0,ly(pa,function(){return ci(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=jt.transition,jt.transition=null;var u=de;de=1;var h=ue;ue|=4,Fh.current=null,V1(n,r),Xv(r,n),g1(ic),ga=!!rc,ic=rc=null,n.current=r,W1(r),xb(),ue=h,de=u,jt.transition=a}else n.current=r;if(Do&&(Do=!1,An=n,Na=o),a=n.pendingLanes,a===0&&(Un=null),kb(r.stateNode),mt(n,Re()),e!==null)for(i=n.onRecoverableError,r=0;r<e.length;r++)o=e[r],i(o.value,{componentStack:o.stack,digest:o.digest});if(La)throw La=!1,n=kc,kc=null,n;return Na&1&&n.tag!==0&&ci(),a=n.pendingLanes,a&1?n===Pc?ms++:(ms=0,Pc=n):ms=0,Jn(),null}function ci(){if(An!==null){var n=zg(Na),e=jt.transition,r=de;try{if(jt.transition=null,de=16>n?16:n,An===null)var i=!1;else{if(n=An,An=null,Na=0,ue&6)throw Error(z(331));var o=ue;for(ue|=4,W=n.current;W!==null;){var a=W,u=a.child;if(W.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var f=h[d];for(W=f;W!==null;){var v=W;switch(v.tag){case 0:case 11:case 15:fs(8,v,a)}var y=v.child;if(y!==null)y.return=v,W=y;else for(;W!==null;){v=W;var _=v.sibling,x=v.return;if(Jv(v),v===f){W=null;break}if(_!==null){_.return=x,W=_;break}W=x}}}var S=a.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var O=E.sibling;E.sibling=null,E=O}while(E!==null)}}W=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,W=u;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:fs(9,a,a.return)}var P=a.sibling;if(P!==null){P.return=a.return,W=P;break e}W=a.return}}var b=n.current;for(W=b;W!==null;){u=W;var k=u.child;if(u.subtreeFlags&2064&&k!==null)k.return=u,W=k;else e:for(u=b;W!==null;){if(h=W,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:nl(9,h)}}catch(A){je(h,h.return,A)}if(h===u){W=null;break e}var j=h.sibling;if(j!==null){j.return=h.return,W=j;break e}W=h.return}}if(ue=o,Jn(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Ka,n)}catch{}i=!0}return i}finally{de=r,jt.transition=e}}return!1}function Mp(n,e,r){e=vi(r,e),e=zv(n,e,1),n=Bn(n,e,1),e=ot(),n!==null&&(Js(n,1,e),mt(n,e))}function je(n,e,r){if(n.tag===3)Mp(n,n,r);else for(;e!==null;){if(e.tag===3){Mp(e,n,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Un===null||!Un.has(i))){n=vi(r,n),n=Bv(e,n,1),e=Bn(e,n,1),n=ot(),e!==null&&(Js(e,1,n),mt(e,n));break}}e=e.return}}function Q1(n,e,r){var i=n.pingCache;i!==null&&i.delete(e),e=ot(),n.pingedLanes|=n.suspendedLanes&r,Ze===n&&(Ge&r)===r&&(Fe===4||Fe===3&&(Ge&130023424)===Ge&&500>Re()-Vh?pr(n,0):Hh|=r),mt(n,e)}function oy(n,e){e===0&&(n.mode&1?(e=To,To<<=1,!(To&130023424)&&(To=4194304)):e=1);var r=ot();n=xn(n,e),n!==null&&(Js(n,e,r),mt(n,r))}function Y1(n){var e=n.memoizedState,r=0;e!==null&&(r=e.retryLane),oy(n,r)}function X1(n,e){var r=0;switch(n.tag){case 13:var i=n.stateNode,o=n.memoizedState;o!==null&&(r=o.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(z(314))}i!==null&&i.delete(e),oy(n,r)}var ay;ay=function(n,e,r){if(n!==null)if(n.memoizedProps!==e.pendingProps||ft.current)dt=!0;else{if(!(n.lanes&r)&&!(e.flags&128))return dt=!1,B1(n,e,r);dt=!!(n.flags&131072)}else dt=!1,be&&e.flags&1048576&&hv(e,Sa,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;oa(n,e),n=e.pendingProps;var o=fi(e,tt.current);ui(e,r),o=$h(null,e,i,n,o,r);var a=Dh();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(i)?(a=!0,xa(e)):a=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Nh(e),o.updater=tl,e.stateNode=o,o._reactInternals=e,fc(e,i,n,r),e=gc(null,e,i,!0,a,r)):(e.tag=0,be&&a&&Ph(e),it(null,e,o,r),e=e.child),e;case 16:i=e.elementType;e:{switch(oa(n,e),n=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=tS(i),n=zt(i,n),o){case 0:e=mc(null,e,i,n,r);break e;case 1:e=Ep(null,e,i,n,r);break e;case 11:e=kp(null,e,i,n,r);break e;case 14:e=Pp(null,e,i,zt(i.type,n),r);break e}throw Error(z(306,i,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:zt(i,o),mc(n,e,i,o,r);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:zt(i,o),Ep(n,e,i,o,r);case 3:e:{if(Vv(e),n===null)throw Error(z(387));i=e.pendingProps,a=e.memoizedState,o=a.element,vv(n,e),Ea(e,i,null,r);var u=e.memoizedState;if(i=u.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){o=vi(Error(z(423)),e),e=Cp(n,e,i,r,o);break e}else if(i!==o){o=vi(Error(z(424)),e),e=Cp(n,e,i,r,o);break e}else for(_t=zn(e.stateNode.containerInfo.firstChild),wt=e,be=!0,Ht=null,r=mv(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pi(),i===o){e=bn(n,e,r);break e}it(n,e,i,r)}e=e.child}return e;case 5:return yv(e),n===null&&cc(e),i=e.type,o=e.pendingProps,a=n!==null?n.memoizedProps:null,u=o.children,sc(i,o)?u=null:a!==null&&sc(i,a)&&(e.flags|=32),Hv(n,e),it(n,e,u,r),e.child;case 6:return n===null&&cc(e),null;case 13:return Wv(n,e,r);case 4:return Rh(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=mi(e,null,i,r):it(n,e,i,r),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:zt(i,o),kp(n,e,i,o,r);case 7:return it(n,e,e.pendingProps,r),e.child;case 8:return it(n,e,e.pendingProps.children,r),e.child;case 12:return it(n,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,o=e.pendingProps,a=e.memoizedProps,u=o.value,ve(ka,i._currentValue),i._currentValue=u,a!==null)if(qt(a.value,u)){if(a.children===o.children&&!ft.current){e=bn(n,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===i){if(a.tag===1){d=vn(-1,r&-r),d.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var v=f.pending;v===null?d.next=d:(d.next=v.next,v.next=d),f.pending=d}}a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),hc(a.return,r,e),h.lanes|=r;break}d=d.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(z(341));u.lanes|=r,h=u.alternate,h!==null&&(h.lanes|=r),hc(u,r,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}it(n,e,o.children,r),e=e.child}return e;case 9:return o=e.type,i=e.pendingProps.children,ui(e,r),o=Lt(o),i=i(o),e.flags|=1,it(n,e,i,r),e.child;case 14:return i=e.type,o=zt(i,e.pendingProps),o=zt(i.type,o),Pp(n,e,i,o,r);case 15:return Uv(n,e,e.type,e.pendingProps,r);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:zt(i,o),oa(n,e),e.tag=1,pt(i)?(n=!0,xa(e)):n=!1,ui(e,r),Dv(e,i,o),fc(e,i,o,r),gc(null,e,i,!0,n,r);case 19:return Zv(n,e,r);case 22:return Fv(n,e,r)}throw Error(z(156,e.tag))};function ly(n,e){return Ag(n,e)}function eS(n,e,r,i){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(n,e,r,i){return new eS(n,e,r,i)}function Kh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function tS(n){if(typeof n=="function")return Kh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===fh)return 11;if(n===ph)return 14}return 2}function Hn(n,e){var r=n.alternate;return r===null?(r=Ot(n.tag,e,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=e,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,e=n.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function ua(n,e,r,i,o,a){var u=2;if(i=n,typeof n=="function")Kh(n)&&(u=1);else if(typeof n=="string")u=5;else e:switch(n){case Kr:return mr(r.children,o,a,e);case dh:u=8,o|=8;break;case $u:return n=Ot(12,r,e,o|2),n.elementType=$u,n.lanes=a,n;case Du:return n=Ot(13,r,e,o),n.elementType=Du,n.lanes=a,n;case zu:return n=Ot(19,r,e,o),n.elementType=zu,n.lanes=a,n;case yg:return il(r,o,a,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case gg:u=10;break e;case vg:u=9;break e;case fh:u=11;break e;case ph:u=14;break e;case On:u=16,i=null;break e}throw Error(z(130,n==null?n:typeof n,""))}return e=Ot(u,r,e,o),e.elementType=n,e.type=i,e.lanes=a,e}function mr(n,e,r,i){return n=Ot(7,n,i,e),n.lanes=r,n}function il(n,e,r,i){return n=Ot(22,n,i,e),n.elementType=yg,n.lanes=r,n.stateNode={isHidden:!1},n}function yu(n,e,r){return n=Ot(6,n,null,e),n.lanes=r,n}function _u(n,e,r){return e=Ot(4,n.children!==null?n.children:[],n.key,e),e.lanes=r,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function nS(n,e,r,i,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xl(0),this.expirationTimes=Xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xl(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Gh(n,e,r,i,o,a,u,h,d){return n=new nS(n,e,r,h,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ot(3,null,null,e),n.current=a,a.stateNode=n,a.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nh(a),n}function rS(n,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qr,key:i==null?null:""+i,children:n,containerInfo:e,implementation:r}}function uy(n){if(!n)return Wn;n=n._reactInternals;e:{if(kr(n)!==n||n.tag!==1)throw Error(z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(n.tag===1){var r=n.type;if(pt(r))return uv(n,r,e)}return e}function cy(n,e,r,i,o,a,u,h,d){return n=Gh(r,i,!0,n,o,a,u,h,d),n.context=uy(null),r=n.current,i=ot(),o=Fn(r),a=vn(i,o),a.callback=e??null,Bn(r,a,o),n.current.lanes=o,Js(n,o,i),mt(n,i),n}function sl(n,e,r,i){var o=e.current,a=ot(),u=Fn(o);return r=uy(r),e.context===null?e.context=r:e.pendingContext=r,e=vn(a,u),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Bn(o,e,u),n!==null&&(Wt(n,o,u,a),ra(n,o,u)),u}function Ia(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function $p(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<e?r:e}}function Jh(n,e){$p(n,e),(n=n.alternate)&&$p(n,e)}function iS(){return null}var hy=typeof reportError=="function"?reportError:function(n){console.error(n)};function Qh(n){this._internalRoot=n}ol.prototype.render=Qh.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(z(409));sl(n,e,null,null)};ol.prototype.unmount=Qh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;wr(function(){sl(null,n,null,null)}),e[wn]=null}};function ol(n){this._internalRoot=n}ol.prototype.unstable_scheduleHydration=function(n){if(n){var e=Fg();n={blockedOn:null,target:n,priority:e};for(var r=0;r<Ln.length&&e!==0&&e<Ln[r].priority;r++);Ln.splice(r,0,n),r===0&&Vg(n)}};function Yh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function al(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Dp(){}function sS(n,e,r,i,o){if(o){if(typeof i=="function"){var a=i;i=function(){var f=Ia(u);a.call(f)}}var u=cy(e,i,n,0,null,!1,!1,"",Dp);return n._reactRootContainer=u,n[wn]=u.current,Os(n.nodeType===8?n.parentNode:n),wr(),u}for(;o=n.lastChild;)n.removeChild(o);if(typeof i=="function"){var h=i;i=function(){var f=Ia(d);h.call(f)}}var d=Gh(n,0,!1,null,null,!1,!1,"",Dp);return n._reactRootContainer=d,n[wn]=d.current,Os(n.nodeType===8?n.parentNode:n),wr(function(){sl(e,d,r,i)}),d}function ll(n,e,r,i,o){var a=r._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var h=o;o=function(){var d=Ia(u);h.call(d)}}sl(e,u,n,o)}else u=sS(r,e,n,o,i);return Ia(u)}Bg=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var r=is(e.pendingLanes);r!==0&&(vh(e,r|1),mt(e,Re()),!(ue&6)&&(yi=Re()+500,Jn()))}break;case 13:wr(function(){var i=xn(n,1);if(i!==null){var o=ot();Wt(i,n,1,o)}}),Jh(n,1)}};yh=function(n){if(n.tag===13){var e=xn(n,134217728);if(e!==null){var r=ot();Wt(e,n,134217728,r)}Jh(n,134217728)}};Ug=function(n){if(n.tag===13){var e=Fn(n),r=xn(n,e);if(r!==null){var i=ot();Wt(r,n,e,i)}Jh(n,e)}};Fg=function(){return de};Hg=function(n,e){var r=de;try{return de=n,e()}finally{de=r}};Gu=function(n,e,r){switch(e){case"input":if(Fu(n,r),e=r.name,r.type==="radio"&&e!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==n&&i.form===n.form){var o=Ya(i);if(!o)throw Error(z(90));wg(i),Fu(i,o)}}}break;case"textarea":bg(n,r);break;case"select":e=r.value,e!=null&&si(n,!!r.multiple,e,!1)}};Og=Wh;jg=wr;var oS={usingClientEntryPoint:!1,Events:[Ys,Yr,Ya,Cg,Tg,Wh]},es={findFiberByHostInstance:cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aS={bundleType:es.bundleType,version:es.version,rendererPackageName:es.rendererPackageName,rendererConfig:es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Rg(n),n===null?null:n.stateNode},findFiberByHostInstance:es.findFiberByHostInstance||iS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zo.isDisabled&&zo.supportsFiber)try{Ka=zo.inject(aS),rn=zo}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oS;bt.createPortal=function(n,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yh(e))throw Error(z(200));return rS(n,e,null,r)};bt.createRoot=function(n,e){if(!Yh(n))throw Error(z(299));var r=!1,i="",o=hy;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Gh(n,1,!1,null,null,r,!1,i,o),n[wn]=e.current,Os(n.nodeType===8?n.parentNode:n),new Qh(e)};bt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(z(188)):(n=Object.keys(n).join(","),Error(z(268,n)));return n=Rg(e),n=n===null?null:n.stateNode,n};bt.flushSync=function(n){return wr(n)};bt.hydrate=function(n,e,r){if(!al(e))throw Error(z(200));return ll(null,n,e,!0,r)};bt.hydrateRoot=function(n,e,r){if(!Yh(n))throw Error(z(405));var i=r!=null&&r.hydratedSources||null,o=!1,a="",u=hy;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),e=cy(e,null,n,1,r??null,o,!1,a,u),n[wn]=e.current,Os(n),i)for(n=0;n<i.length;n++)r=i[n],o=r._getVersion,o=o(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,o]:e.mutableSourceEagerHydrationData.push(r,o);return new ol(e)};bt.render=function(n,e,r){if(!al(e))throw Error(z(200));return ll(null,n,e,!1,r)};bt.unmountComponentAtNode=function(n){if(!al(n))throw Error(z(40));return n._reactRootContainer?(wr(function(){ll(null,null,n,!1,function(){n._reactRootContainer=null,n[wn]=null})}),!0):!1};bt.unstable_batchedUpdates=Wh;bt.unstable_renderSubtreeIntoContainer=function(n,e,r,i){if(!al(r))throw Error(z(200));if(n==null||n._reactInternals===void 0)throw Error(z(38));return ll(n,e,r,!1,i)};bt.version="18.3.1-next-f1338f8080-20240426";function dy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dy)}catch(n){console.error(n)}}dy(),dg.exports=bt;var fy=dg.exports,py,zp=fy;py=zp.createRoot,zp.hydrateRoot;var Tc=function(n,e){return Tc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},Tc(n,e)};function my(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tc(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Aa=function(){return Aa=Object.assign||function(e){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Aa.apply(this,arguments)};function Ti(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r}function gy(n,e,r,i){var o=arguments.length,a=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,r,i);else for(var h=n.length-1;h>=0;h--)(u=n[h])&&(a=(o<3?u(a):o>3?u(e,r,a):u(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a}function vy(n,e){return function(r,i){e(r,i,n)}}function yy(n,e,r,i,o,a){function u(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var h=i.kind,d=h==="getter"?"get":h==="setter"?"set":"value",f=!e&&n?i.static?n:n.prototype:null,v=e||(f?Object.getOwnPropertyDescriptor(f,i.name):{}),y,_=!1,x=r.length-1;x>=0;x--){var S={};for(var E in i)S[E]=E==="access"?{}:i[E];for(var E in i.access)S.access[E]=i.access[E];S.addInitializer=function(P){if(_)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(P||null))};var O=(0,r[x])(h==="accessor"?{get:v.get,set:v.set}:v[d],S);if(h==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(y=u(O.get))&&(v.get=y),(y=u(O.set))&&(v.set=y),(y=u(O.init))&&o.unshift(y)}else(y=u(O))&&(h==="field"?o.unshift(y):v[d]=y)}f&&Object.defineProperty(f,i.name,v),_=!0}function _y(n,e,r){for(var i=arguments.length>2,o=0;o<e.length;o++)r=i?e[o].call(n,r):e[o].call(n);return i?r:void 0}function wy(n){return typeof n=="symbol"?n:"".concat(n)}function xy(n,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function by(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function Z(n,e,r,i){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function h(v){try{f(i.next(v))}catch(y){u(y)}}function d(v){try{f(i.throw(v))}catch(y){u(y)}}function f(v){v.done?a(v.value):o(v.value).then(h,d)}f((i=i.apply(n,e||[])).next())})}function Sy(n,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=h(0),u.throw=h(1),u.return=h(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(f){return function(v){return d([f,v])}}function d(f){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,f[0]&&(r=0)),r;)try{if(i=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,o=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(n,r)}catch(v){f=[6,v],o=0}finally{i=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var ul=Object.create?function(n,e,r,i){i===void 0&&(i=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(n,i,o)}:function(n,e,r,i){i===void 0&&(i=r),n[i]=e[r]};function ky(n,e){for(var r in n)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ul(e,n,r)}function Ma(n){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&n[e],i=0;if(r)return r.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xh(n,e){var r=typeof Symbol=="function"&&n[Symbol.iterator];if(!r)return n;var i=r.call(n),o,a=[],u;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(h){u={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return a}function Py(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Xh(arguments[e]));return n}function Ey(){for(var n=0,e=0,r=arguments.length;e<r;e++)n+=arguments[e].length;for(var i=Array(n),o=0,e=0;e<r;e++)for(var a=arguments[e],u=0,h=a.length;u<h;u++,o++)i[o]=a[u];return i}function Cy(n,e,r){if(r||arguments.length===2)for(var i=0,o=e.length,a;i<o;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}function _i(n){return this instanceof _i?(this.v=n,this):new _i(n)}function Ty(n,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(n,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(x){return function(S){return Promise.resolve(S).then(x,y)}}function h(x,S){i[x]&&(o[x]=function(E){return new Promise(function(O,P){a.push([x,E,O,P])>1||d(x,E)})},S&&(o[x]=S(o[x])))}function d(x,S){try{f(i[x](S))}catch(E){_(a[0][3],E)}}function f(x){x.value instanceof _i?Promise.resolve(x.value.v).then(v,y):_(a[0][2],x)}function v(x){d("next",x)}function y(x){d("throw",x)}function _(x,S){x(S),a.shift(),a.length&&d(a[0][0],a[0][1])}}function Oy(n){var e,r;return e={},i("next"),i("throw",function(o){throw o}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(o,a){e[o]=n[o]?function(u){return(r=!r)?{value:_i(n[o](u)),done:!1}:a?a(u):u}:a}}function jy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],r;return e?e.call(n):(n=typeof Ma=="function"?Ma(n):n[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(a){r[a]=n[a]&&function(u){return new Promise(function(h,d){u=n[a](u),o(h,d,u.done,u.value)})}}function o(a,u,h,d){Promise.resolve(d).then(function(f){a({value:f,done:h})},u)}}function Ly(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var lS=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e},Oc=function(n){return Oc=Object.getOwnPropertyNames||function(e){var r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[r.length]=i);return r},Oc(n)};function Ny(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var r=Oc(n),i=0;i<r.length;i++)r[i]!=="default"&&ul(e,n,r[i]);return lS(e,n),e}function Ry(n){return n&&n.__esModule?n:{default:n}}function Iy(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)}function Ay(n,e,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(n,r):o?o.value=r:e.set(n,r),r}function My(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function $y(n,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],r&&(o=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");o&&(i=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),n.stack.push({value:e,dispose:i,async:r})}else r&&n.stack.push({async:!0});return e}var uS=typeof SuppressedError=="function"?SuppressedError:function(n,e,r){var i=new Error(r);return i.name="SuppressedError",i.error=n,i.suppressed=e,i};function Dy(n){function e(a){n.error=n.hasError?new uS(a,n.error,"An error was suppressed during disposal."):a,n.hasError=!0}var r,i=0;function o(){for(;r=n.stack.pop();)try{if(!r.async&&i===1)return i=0,n.stack.push(r),Promise.resolve().then(o);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(a).then(o,function(u){return e(u),o()})}else i|=1}catch(u){e(u)}if(i===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function zy(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,o,a,u){return i?e?".jsx":".js":o&&(!a||!u)?r:o+a+"."+u.toLowerCase()+"js"}):n}const cS={__extends:my,__assign:Aa,__rest:Ti,__decorate:gy,__param:vy,__esDecorate:yy,__runInitializers:_y,__propKey:wy,__setFunctionName:xy,__metadata:by,__awaiter:Z,__generator:Sy,__createBinding:ul,__exportStar:ky,__values:Ma,__read:Xh,__spread:Py,__spreadArrays:Ey,__spreadArray:Cy,__await:_i,__asyncGenerator:Ty,__asyncDelegator:Oy,__asyncValues:jy,__makeTemplateObject:Ly,__importStar:Ny,__importDefault:Ry,__classPrivateFieldGet:Iy,__classPrivateFieldSet:Ay,__classPrivateFieldIn:My,__addDisposableResource:$y,__disposeResources:Dy,__rewriteRelativeImportExtension:zy},hS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:$y,get __assign(){return Aa},__asyncDelegator:Oy,__asyncGenerator:Ty,__asyncValues:jy,__await:_i,__awaiter:Z,__classPrivateFieldGet:Iy,__classPrivateFieldIn:My,__classPrivateFieldSet:Ay,__createBinding:ul,__decorate:gy,__disposeResources:Dy,__esDecorate:yy,__exportStar:ky,__extends:my,__generator:Sy,__importDefault:Ry,__importStar:Ny,__makeTemplateObject:Ly,__metadata:by,__param:vy,__propKey:wy,__read:Xh,__rest:Ti,__rewriteRelativeImportExtension:zy,__runInitializers:_y,__setFunctionName:xy,__spread:Py,__spreadArray:Cy,__spreadArrays:Ey,__values:Ma,default:cS},Symbol.toStringTag,{value:"Module"})),dS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class ed extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class Bp extends ed{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Up extends ed{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fp extends ed{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jc;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(jc||(jc={}));class fS{constructor(e,{headers:r={},customFetch:i,region:o=jc.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=dS(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Z(this,arguments,void 0,function*(r,i={}){var o;try{const{headers:a,method:u,body:h,signal:d}=i;let f={},{region:v}=i;v||(v=this.region);const y=new URL(`${this.url}/${r}`);v&&v!=="any"&&(f["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let _;h&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",_=h):typeof h=="string"?(f["Content-Type"]="text/plain",_=h):typeof FormData<"u"&&h instanceof FormData?_=h:(f["Content-Type"]="application/json",_=JSON.stringify(h)):_=h;const x=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:_,signal:d}).catch(P=>{throw P.name==="AbortError"?P:new Bp(P)}),S=x.headers.get("x-relay-error");if(S&&S==="true")throw new Up(x);if(!x.ok)throw new Fp(x);let E=((o=x.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),O;return E==="application/json"?O=yield x.json():E==="application/octet-stream"||E==="application/pdf"?O=yield x.blob():E==="text/event-stream"?O=x:E==="multipart/form-data"?O=yield x.formData():O=yield x.text(),{data:O,error:null,response:x}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Bp(a)}:{data:null,error:a,response:a instanceof Fp||a instanceof Up?a.context:void 0}}})}}var st={};const Oi=pw(hS);var Bo={},Uo={},Fo={},Ho={},Vo={},Wo={},Hp;function By(){if(Hp)return Wo;Hp=1,Object.defineProperty(Wo,"__esModule",{value:!0});class n extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Wo.default=n,Wo}var Vp;function Uy(){if(Vp)return Vo;Vp=1,Object.defineProperty(Vo,"__esModule",{value:!0});const e=Oi.__importDefault(By());class r{constructor(o){var a,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,v,y,_;let x=null,S=null,E=null,O=d.status,P=d.statusText;if(d.ok){if(this.method!=="HEAD"){const A=await d.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=A:S=JSON.parse(A))}const k=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),j=(y=d.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");k&&j&&j.length>1&&(E=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(x={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,E=null,O=406,P="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const k=await d.text();try{x=JSON.parse(k),Array.isArray(x)&&d.status===404&&(S=[],x=null,O=200,P="OK")}catch{d.status===404&&k===""?(O=204,P="No Content"):x={message:k}}if(x&&this.isMaybeSingle&&(!((_=x==null?void 0:x.details)===null||_===void 0)&&_.includes("0 rows"))&&(x=null,O=200,P="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:S,count:E,status:O,statusText:P}});return this.shouldThrowOnError||(h=h.catch(d=>{var f,v,y;return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(v=d==null?void 0:d.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(y=d==null?void 0:d.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,a)}returns(){return this}overrideTypes(){return this}}return Vo.default=r,Vo}var Wp;function Fy(){if(Wp)return Ho;Wp=1,Object.defineProperty(Ho,"__esModule",{value:!0});const e=Oi.__importDefault(Uy());class r extends e.default{select(o){let a=!1;const u=(o??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:u,foreignTable:h,referencedTable:d=h}={}){const f=d?`${d}.order`:"order",v=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${v?`${v},`:""}${o}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:u=a}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,a,{foreignTable:u,referencedTable:h=u}={}){const d=typeof h>"u"?"offset":`${h}.offset`,f=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(d,`${o}`),this.url.searchParams.set(f,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:u=!1,buffers:h=!1,wal:d=!1,format:f="text"}={}){var v;const y=[o?"analyze":null,a?"verbose":null,u?"settings":null,h?"buffers":null,d?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${_}"; options=${y};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Ho.default=r,Ho}var Zp;function td(){if(Zp)return Fo;Zp=1,Object.defineProperty(Fo,"__esModule",{value:!0});const e=Oi.__importDefault(Fy()),r=new RegExp("[,()]");class i extends e.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}in(a,u){const h=Array.from(new Set(u)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${h})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:h,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(a,`${f}fts${v}.${u}`),this}match(a){return Object.entries(a).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(a,u,h){return this.url.searchParams.append(a,`not.${u}.${h}`),this}or(a,{foreignTable:u,referencedTable:h=u}={}){const d=h?`${h}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,u,h){return this.url.searchParams.append(a,`${u}.${h}`),this}}return Fo.default=i,Fo}var qp;function Hy(){if(qp)return Uo;qp=1,Object.defineProperty(Uo,"__esModule",{value:!0});const e=Oi.__importDefault(td());class r{constructor(o,{headers:a={},schema:u,fetch:h}){this.url=o,this.headers=new Headers(a),this.schema=u,this.fetch=h}select(o,a){const{head:u=!1,count:h}=a??{},d=u?"HEAD":"GET";let f=!1;const v=(o??"*").split("").map(y=>/\s/.test(y)&&!f?"":(y==='"'&&(f=!f),y)).join("");return this.url.searchParams.set("select",v),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:u=!0}={}){var h;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const f=o.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(f.length>0){const v=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:u=!1,count:h,defaultToNull:d=!0}={}){var f;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),h&&this.headers.append("Prefer",`count=${h}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((_,x)=>_.concat(Object.keys(x)),[]);if(y.length>0){const _=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(o,{count:a}={}){var u;const h="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var a;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Uo.default=r,Uo}var Kp;function pS(){if(Kp)return Bo;Kp=1,Object.defineProperty(Bo,"__esModule",{value:!0});const n=Oi,e=n.__importDefault(Hy()),r=n.__importDefault(td());class i{constructor(a,{headers:u={},schema:h,fetch:d}={}){this.url=a,this.headers=new Headers(u),this.schemaName=h,this.fetch=d}from(a){const u=new URL(`${this.url}/${a}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new i(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,u={},{head:h=!1,get:d=!1,count:f}={}){var v;let y;const _=new URL(`${this.url}/rpc/${a}`);let x;h||d?(y=h?"HEAD":"GET",Object.entries(u).filter(([E,O])=>O!==void 0).map(([E,O])=>[E,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([E,O])=>{_.searchParams.append(E,O)})):(y="POST",x=u);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new r.default({method:y,url:_,headers:S,schema:this.schemaName,body:x,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Bo.default=i,Bo}Object.defineProperty(st,"__esModule",{value:!0});var Vy=st.PostgrestError=e_=st.PostgrestBuilder=Yy=st.PostgrestTransformBuilder=Jy=st.PostgrestFilterBuilder=Ky=st.PostgrestQueryBuilder=Zy=st.PostgrestClient=void 0;const ji=Oi,Wy=ji.__importDefault(pS());var Zy=st.PostgrestClient=Wy.default;const qy=ji.__importDefault(Hy());var Ky=st.PostgrestQueryBuilder=qy.default;const Gy=ji.__importDefault(td());var Jy=st.PostgrestFilterBuilder=Gy.default;const Qy=ji.__importDefault(Fy());var Yy=st.PostgrestTransformBuilder=Qy.default;const Xy=ji.__importDefault(Uy());var e_=st.PostgrestBuilder=Xy.default;const t_=ji.__importDefault(By());Vy=st.PostgrestError=t_.default;var n_=st.default={PostgrestClient:Wy.default,PostgrestQueryBuilder:qy.default,PostgrestFilterBuilder:Gy.default,PostgrestTransformBuilder:Qy.default,PostgrestBuilder:Xy.default,PostgrestError:t_.default};const mS=dw({__proto__:null,get PostgrestBuilder(){return e_},get PostgrestClient(){return Zy},get PostgrestError(){return Vy},get PostgrestFilterBuilder(){return Jy},get PostgrestQueryBuilder(){return Ky},get PostgrestTransformBuilder(){return Yy},default:n_},[st]),{PostgrestClient:gS,PostgrestQueryBuilder:ZC,PostgrestFilterBuilder:qC,PostgrestTransformBuilder:KC,PostgrestBuilder:GC,PostgrestError:JC}=n_||mS;class vS{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const yS="2.80.0",_S=`realtime-js/${yS}`,wS="1.0.0",Lc=1e4,xS=1e3,bS=100;var gs;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(gs||(gs={}));var Be;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Be||(Be={}));var Ft;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Ft||(Ft={}));var Nc;(function(n){n.websocket="websocket"})(Nc||(Nc={}));var lr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(lr||(lr={}));class SS{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,r,i)}_decodeBroadcast(e,r,i){const o=r.getUint8(1),a=r.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(e.slice(u,u+o));u=u+o;const d=i.decode(e.slice(u,u+a));u=u+a;const f=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:d,payload:f}}}class r_{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(ge||(ge={}));const Gp=(n,e,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((a,u)=>(a[u]=kS(u,n,e,o),a),{}):{}},kS=(n,e,r,i)=>{const o=e.find(h=>h.name===n),a=o==null?void 0:o.type,u=r[n];return a&&!i.includes(a)?i_(a,u):Rc(u)},i_=(n,e)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return TS(e,r)}switch(n){case ge.bool:return PS(e);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return ES(e);case ge.json:case ge.jsonb:return CS(e);case ge.timestamp:return OS(e);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return Rc(e);default:return Rc(e)}},Rc=n=>n,PS=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},ES=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},CS=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},TS=(n,e)=>{if(typeof n!="string")return n;const r=n.length-1,i=n[r];if(n[0]==="{"&&i==="}"){let a;const u=n.slice(1,r);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(h=>i_(e,h))}return n},OS=n=>typeof n=="string"?n.replace(" ","T"):n,s_=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class wu{constructor(e,r,i={},o=Lc){this.channel=e,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jp;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Jp||(Jp={}));class vs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vs.syncState(this.state,o,a,u),this.pendingDiffs.forEach(d=>{this.state=vs.syncDiff(this.state,d,a,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=vs.syncDiff(this.state,o,a,u),h())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,o){const a=this.cloneDeep(e),u=this.transformState(r),h={},d={};return this.map(a,(f,v)=>{u[f]||(d[f]=v)}),this.map(u,(f,v)=>{const y=a[f];if(y){const _=v.map(O=>O.presence_ref),x=y.map(O=>O.presence_ref),S=v.filter(O=>x.indexOf(O.presence_ref)<0),E=y.filter(O=>_.indexOf(O.presence_ref)<0);S.length>0&&(h[f]=S),E.length>0&&(d[f]=E)}else h[f]=v}),this.syncDiff(a,{joins:h,leaves:d},i,o)}static syncDiff(e,r,i,o){const{joins:a,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(a,(h,d)=>{var f;const v=(f=e[h])!==null&&f!==void 0?f:[];if(e[h]=this.cloneDeep(d),v.length>0){const y=e[h].map(x=>x.presence_ref),_=v.filter(x=>y.indexOf(x.presence_ref)<0);e[h].unshift(..._)}i(h,v,d)}),this.map(u,(h,d)=>{let f=e[h];if(!f)return;const v=d.map(y=>y.presence_ref);f=f.filter(y=>v.indexOf(y.presence_ref)<0),e[h]=f,o(h,f,d),f.length===0&&delete e[h]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const o=e[i];return"metas"in o?r[i]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[i]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qp;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Qp||(Qp={}));var ys;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ys||(ys={}));var dn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(dn||(dn={}));class nd{constructor(e,r={config:{}},i){var o,a;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wu(this,Ft.join,this.params,this.timeout),this.rejoinTimer=new r_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ft.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new vs(this),this.broadcastEndpointURL=s_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){const{config:{broadcast:u,presence:h,private:d}}=this.params,f=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(x=>x.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[ys.PRESENCE]&&this.bindings[ys.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},_={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(dn.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(dn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket.setAuth(),x===void 0){e==null||e(dn.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,O=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,P=[];for(let b=0;b<O;b++){const k=E[b],{filter:{event:j,schema:A,table:I,filter:M}}=k,U=x&&x[b];if(U&&U.event===j&&U.schema===A&&U.table===I&&U.filter===M)P.push(Object.assign(Object.assign({},k),{id:U.id}));else{this.unsubscribe(),this.state=Be.errored,e==null||e(dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(dn.SUBSCRIBED);return}}).receive("error",x=>{this.state=Be.errored,e==null||e(dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===Be.joined&&e===ys.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var o;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let d=h.statusText;try{const f=await h.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,h,d;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Be.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ft.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new wu(this,Ft.leave,{},e),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Be.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const o=new AbortController,a=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(a),u}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new wu(this,e,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>bS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var o,a;const u=e.toLocaleLowerCase(),{close:h,error:d,leave:f,join:v}=Ft;if(i&&[h,d,f,v].indexOf(u)>=0&&i!==this._joinRef())return;let _=this._onMessage(u,r,i);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var S,E,O;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((O=(E=x.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(x=>x.callback(_,i)):(a=this.bindings[u])===null||a===void 0||a.filter(x=>{var S,E,O,P,b,k;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in x){const j=x.id,A=(S=x.filter)===null||S===void 0?void 0:S.event;return j&&((E=r.ids)===null||E===void 0?void 0:E.includes(j))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((O=r.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const j=(b=(P=x==null?void 0:x.filter)===null||P===void 0?void 0:P.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===u}).map(x=>{if(typeof _=="object"&&"ids"in _){const S=_.data,{schema:E,table:O,commit_timestamp:P,type:b,errors:k}=S;_=Object.assign(Object.assign({},{schema:E,table:O,commit_timestamp:P,eventType:b,new:{},old:{},errors:k}),this._getPayloadRecords(S))}x.callback(_,i)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const o=e.toLocaleLowerCase(),a={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&nd.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ft.close,{},e)}_onError(e){this._on(Ft.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Gp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Gp(e.columns,e.old_record)),r}}const xu=()=>{},Zo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jS=[1e3,2e3,5e3,1e4],LS=1e4,NS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RS{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lc,this.transport=null,this.heartbeatIntervalMs=Zo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xu,this.ref=0,this.reconnectTimer=null,this.logger=xu,this.conn=null,this.sendBuffer=[],this.serializer=new SS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Nc.websocket}`,this.httpEndpoint=s_(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wS}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case gs.connecting:return lr.Connecting;case gs.open:return lr.Open;case gs.closing:return lr.Closing;default:return lr.Closed}}isConnected(){return this.connectionState()===lr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===i);if(o)return o;{const a=new nd(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:i,payload:o,ref:a}=e,u=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${r} ${i} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(xS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Zo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:a,ref:u}=r,h=u?`(${u})`:"",d=a.status||"";this.log("receive",`${d} ${i} ${o} ${h}`.trim(),a),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(o,a,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ft.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${i}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([NS],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:_S};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Ft.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new r_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,o,a,u,h,d,f,v;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Lc,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Zo.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:xu,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:y=>jS[y-1]||LS,this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:(y,_)=>_(JSON.stringify(y)),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class rd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pe(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class IS extends rd{constructor(e,r,i){super(e),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ic extends rd{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const id=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),AS=()=>Response,Ac=n=>{if(Array.isArray(n))return n.map(r=>Ac(r));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Ac(i)}),e},MS=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},bu=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},$S=(n,e,r)=>Z(void 0,void 0,void 0,function*(){const i=yield AS();n instanceof i&&!(r!=null&&r.noResolveJson)?n.json().then(o=>{const a=n.status||500,u=(o==null?void 0:o.statusCode)||a+"";e(new IS(bu(o),a,u))}).catch(o=>{e(new Ic(bu(o),o))}):e(new Ic(bu(n),n))}),DS=(n,e,r,i)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!i?o:(MS(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function eo(n,e,r,i,o,a){return Z(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(r,DS(e,i,o,a)).then(d=>{if(!d.ok)throw d;return i!=null&&i.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>$S(d,h,i))})})}function Ds(n,e,r,i){return Z(this,void 0,void 0,function*(){return eo(n,"GET",e,r,i)})}function Bt(n,e,r,i,o){return Z(this,void 0,void 0,function*(){return eo(n,"POST",e,i,o,r)})}function Mc(n,e,r,i,o){return Z(this,void 0,void 0,function*(){return eo(n,"PUT",e,i,o,r)})}function zS(n,e,r,i){return Z(this,void 0,void 0,function*(){return eo(n,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function sd(n,e,r,i,o){return Z(this,void 0,void 0,function*(){return eo(n,"DELETE",e,i,o,r)})}class BS{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Z(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pe(e))return{data:null,error:e};throw e}})}}var o_;class US{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[o_]="BlobDownloadBuilder",this.promise=null}asStream(){return new BS(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Z(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pe(e))return{data:null,error:e};throw e}})}}o_=Symbol.toStringTag;const FS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HS{constructor(e,r={},i,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=i,this.fetch=id(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,i,o){return Z(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Yp),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),d&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(d))):(a=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const f=this._removeEmptyFolders(r),v=this._getFinalPath(f),y=yield(e=="PUT"?Mc:Bt)(this.fetch,`${this.url}/object/${v}`,a,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:f,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}})}upload(e,r,i){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,o){return Z(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:Yp.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",f.cacheControl)):(d=i,v["cache-control"]=`max-age=${f.cacheControl}`,v["content-type"]=f.contentType);const y=yield Mc(this.fetch,h.toString(),d,{headers:v});return{data:{path:a,fullPath:y.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Pe(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return Z(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const a=yield Bt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+a.url),h=u.searchParams.get("token");if(!h)throw new rd("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}update(e,r,i){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return Z(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}copy(e,r,i){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield Bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,i){return Z(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Bt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,i){return Z(this,void 0,void 0,function*(){try{const o=yield Bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=a?`?${a}`:"",h=this._getFinalPath(e),d=()=>Ds(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new US(d,this.shouldThrowOnError)}info(e){return Z(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield Ds(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ac(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}exists(e){return Z(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield zS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i)&&i instanceof Ic){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),o=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&o.push(a);const h=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&o.push(d);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${f}`)}}}remove(e){return Z(this,void 0,void 0,function*(){try{return{data:yield sd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}list(e,r,i){return Z(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},FS),r),{prefix:e||""});return{data:yield Bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}listV2(e,r){return Z(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Bt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const a_="2.80.0",l_={"X-Client-Info":`storage-js/${a_}`};class VS{constructor(e,r={},i,o){this.shouldThrowOnError=!1;const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l_),r),this.fetch=id(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Z(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Ds(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}getBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}createBucket(e){return Z(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield Bt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return Z(this,void 0,void 0,function*(){try{return{data:yield Mc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield sd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class WS{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l_),r),this.fetch=id(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}listBuckets(e){return Z(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const i=r.toString(),o=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Ds(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield sd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}}const od={"X-Client-Info":`storage-js/${a_}`,"Content-Type":"application/json"};class u_ extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function vt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Su extends u_{constructor(e,r,i){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ZS extends u_{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Xp;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Xp||(Xp={}));const ad=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),qS=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},em=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),KS=(n,e,r)=>Z(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(r!=null&&r.noResolveJson)){const o=n.status||500,a=n;if(typeof a.json=="function")a.json().then(u=>{const h=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";e(new Su(em(u),o,h))}).catch(()=>{const u=o+"",h=a.statusText||`HTTP ${o} error`;e(new Su(h,o,u))});else{const u=o+"",h=a.statusText||`HTTP ${o} error`;e(new Su(h,o,u))}}else e(new ZS(em(n),n))}),GS=(n,e,r,i)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return i?(qS(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,Object.assign(Object.assign({},o),r)):o};function JS(n,e,r,i,o,a){return Z(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(r,GS(e,i,o,a)).then(d=>{if(!d.ok)throw d;if(i!=null&&i.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>u(d)).catch(d=>KS(d,h,i))})})}function yt(n,e,r,i,o){return Z(this,void 0,void 0,function*(){return JS(n,"POST",e,i,o,r)})}class QS{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},od),r),this.fetch=ad(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield yt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Z(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}listIndexes(e){return Z(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Z(this,void 0,void 0,function*(){try{return{data:(yield yt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}}class YS{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},od),r),this.fetch=ad(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield yt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}getVectors(e){return Z(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}listVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield yt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}queryVectors(e){return Z(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield yt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}}class XS{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},od),r),this.fetch=ad(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield yt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}getBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}listBuckets(){return Z(this,arguments,void 0,function*(e={}){try{return{data:yield yt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield yt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}}class ek extends XS{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new tk(this.url,this.headers,e,this.fetch)}}class tk extends QS{constructor(e,r,i,o){super(e,r,o),this.vectorBucketName=i}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Z(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Z(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Z(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Z(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new nk(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class nk extends YS{constructor(e,r,i,o,a){super(e,r,a),this.vectorBucketName=i,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Z(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Z(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Z(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Z(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Z(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class rk extends VS{constructor(e,r={},i,o){super(e,r,i,o)}from(e){return new HS(this.url,this.headers,e,this.fetch)}get vectors(){return new ek(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new WS(this.url+"/iceberg",this.headers,this.fetch)}}const ik="2.80.0";let os="";typeof Deno<"u"?os="deno":typeof document<"u"?os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?os="react-native":os="node";const sk={"X-Client-Info":`supabase-js-${os}/${ik}`},ok={headers:sk},ak={schema:"public"},lk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uk={},ck=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),hk=()=>Headers,dk=(n,e,r)=>{const i=ck(r),o=hk();return async(a,u)=>{var h;const d=(h=await e())!==null&&h!==void 0?h:n;let f=new o(u==null?void 0:u.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),i(a,Object.assign(Object.assign({},u),{headers:f}))}};function fk(n){return n.endsWith("/")?n:n+"/"}function pk(n,e){var r,i;const{db:o,auth:a,realtime:u,global:h}=n,{db:d,auth:f,realtime:v,global:y}=e,_={db:Object.assign(Object.assign({},d),o),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(r=y==null?void 0:y.headers)!==null&&r!==void 0?r:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?_.accessToken=n.accessToken:delete _.accessToken,_}function mk(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const c_="2.80.0",Wr=30*1e3,$c=3,ku=$c*Wr,gk="http://localhost:9999",vk="supabase.auth.token",yk={"X-Client-Info":`gotrue-js/${c_}`},Dc="X-Supabase-Api-Version",h_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_k=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wk=10*60*1e3;class zs extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function G(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class xk extends zs{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function bk(n){return G(n)&&n.name==="AuthApiError"}class ur extends zs{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Qn extends zs{constructor(e,r,i,o){super(e,i,o),this.name=r,this.status=i}}class $t extends Qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sk(n){return G(n)&&n.name==="AuthSessionMissingError"}class Mr extends Qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qo extends Qn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ko extends Qn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kk(n){return G(n)&&n.name==="AuthImplicitGrantRedirectError"}class tm extends Qn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zc extends Qn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Pu(n){return G(n)&&n.name==="AuthRetryableFetchError"}class nm extends Qn{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Bc extends Qn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rm=` 	
\r=`.split(""),Pk=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<rm.length;e+=1)n[rm[e].charCodeAt(0)]=-2;for(let e=0;e<$a.length;e+=1)n[$a[e].charCodeAt(0)]=e;return n})();function im(n,e,r){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r($a[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r($a[i]),e.queuedBits-=6}}function d_(n,e,r){const i=Pk[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function sm(n){const e=[],r=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{Tk(u,i,r)};for(let u=0;u<n.length;u+=1)d_(n.charCodeAt(u),o,a);return e.join("")}function Ek(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Ck(n,e){for(let r=0;r<n.length;r+=1){let i=n.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}Ek(i,e)}}function Tk(n,e,r){if(e.utf8seq===0){if(n<=127){r(n);return}for(let i=1;i<6;i+=1)if(!(n>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function hi(n){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)d_(n.charCodeAt(o),r,i);return new Uint8Array(e)}function Ok(n){const e=[];return Ck(n,r=>e.push(r)),new Uint8Array(e)}function fr(n){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};return n.forEach(o=>im(o,r,i)),im(null,r,i),e.join("")}function jk(n){return Math.round(Date.now()/1e3)+n}function Lk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Xe=()=>typeof window<"u"&&typeof document<"u",rr={tested:!1,writable:!1},f_=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rr.tested)return rr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),rr.tested=!0,rr.writable=!0}catch{rr.tested=!0,rr.writable=!1}return rr.writable};function Nk(n){const e={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return r.searchParams.forEach((i,o)=>{e[o]=i}),e}const p_=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Rk=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Zr=async(n,e,r)=>{await n.setItem(e,JSON.stringify(r))},ir=async(n,e)=>{const r=await n.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Tn=async(n,e)=>{await n.removeItem(e)};class cl{constructor(){this.promise=new cl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}cl.promiseConstructor=Promise;function Eu(n){const e=n.split(".");if(e.length!==3)throw new Bc("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!_k.test(e[i]))throw new Bc("JWT not in base64url format");return{header:JSON.parse(sm(e[0])),payload:JSON.parse(sm(e[1])),signature:hi(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ik(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Ak(n,e){return new Promise((i,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await n(a);if(!e(a,null,u)){i(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function Mk(n){return("0"+n.toString(16)).substr(-2)}function $k(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let a=0;a<56;a++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,Mk).join("")}async function Dk(n){const r=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function zk(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await Dk(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $r(n,e,r=!1){const i=$k();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await Zr(n,`${e}-code-verifier`,o);const a=await zk(i);return[a,i===a?"plain":"s256"]}const Bk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uk(n){const e=n.headers.get(Dc);if(!e||!e.match(Bk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Fk(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Hk(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Dr(n){if(!Vk.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cu(){const n={};return new Proxy(n,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wk(n,e){return new Proxy(n,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,o)}})}function om(n){return JSON.parse(JSON.stringify(n))}const ar=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Zk=[502,503,504];async function am(n){var e;if(!Rk(n))throw new zc(ar(n),0);if(Zk.includes(n.status))throw new zc(ar(n),n.status);let r;try{r=await n.json()}catch(a){throw new ur(ar(a),a)}let i;const o=Uk(n);if(o&&o.getTime()>=h_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new nm(ar(r),n.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new $t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new nm(ar(r),n.status,r.weak_password.reasons);throw new xk(ar(r),n.status||500,i)}const qk=(n,e,r,i)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function Y(n,e,r,i){var o;const a=Object.assign({},i==null?void 0:i.headers);a[Dc]||(a[Dc]=h_["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const u=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await Kk(n,e,r+h,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(d):{data:Object.assign({},d),error:null}}async function Kk(n,e,r,i,o,a){const u=qk(e,i,o,a);let h;try{h=await n(r,Object.assign({},u))}catch(d){throw console.error(d),new zc(ar(d),0)}if(h.ok||await am(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(d){await am(d)}}function Dt(n){var e;let r=null;Qk(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=jk(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:r,user:i},error:null}}function lm(n){const e=Dt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Rn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Gk(n){return{data:n,error:null}}function Jk(n){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:a}=n,u=Ti(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:a},d=Object.assign({},u);return{data:{properties:h,user:d},error:null}}function um(n){return n}function Qk(n){return n.access_token&&n.refresh_token&&n.expires_in}const Tu=["global","local","others"];class Yk{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=p_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Tu[0]){if(Tu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tu.join(", ")}`);try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(G(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rn})}catch(i){if(G(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=Ti(e,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Jk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(G(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rn})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,o,a,u,h,d;try{const f={nextPage:null,lastPage:0,total:0},v=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:um});if(v.error)throw v.error;const y=await v.json(),_=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(d=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(S.split(";")[1].split("=")[1]);f[`${O}Page`]=E}),f.total=parseInt(_)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(G(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Dr(e);try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rn})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Dr(e);try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Rn})}catch(i){if(G(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Dr(e);try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rn})}catch(i){if(G(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Dr(e.userId);try{const{data:r,error:i}=await Y(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Dr(e.userId),Dr(e.id);try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,o,a,u,h,d;try{const f={nextPage:null,lastPage:0,total:0},v=await Y(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:um});if(v.error)throw v.error;const y=await v.json(),_=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(d=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(S.split(";")[1].split("=")[1]);f[`${O}Page`]=E}),f.total=parseInt(_)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(G(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Y(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Y(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Y(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(G(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Y(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}}function cm(n={}){return{getItem:e=>n[e]||null,setItem:(e,r)=>{n[e]=r},removeItem:e=>{delete n[e]}}}const zr={debug:!!(globalThis&&f_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class m_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Xk extends m_{}async function eP(n,e,r){zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),zr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await r()}finally{zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Xk(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(zr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function tP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function g_(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function nP(n){return parseInt(n,16)}function rP(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function iP(n){var e;const{chainId:r,domain:i,expirationTime:o,issuedAt:a=new Date,nonce:u,notBefore:h,requestId:d,resources:f,scheme:v,uri:y,version:_}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const x=g_(n.address),S=v?`${v}://${i}`:i,E=n.statement?`${n.statement}
`:"",O=`${S} wants you to sign in with your Ethereum account:
${x}

${E}`;let P=`URI: ${y}
Version: ${_}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(o&&(P+=`
Expiration Time: ${o.toISOString()}`),h&&(P+=`
Not Before: ${h.toISOString()}`),d&&(P+=`
Request ID: ${d}`),f){let b=`
Resources:`;for(const k of f){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);b+=`
- ${k}`}P+=b}return`${O}
${P}`}class Me extends Error{constructor({message:e,code:r,cause:i,name:o}){var a;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(a=o??(i instanceof Error?i.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Da extends Me{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function sP({error:n,options:e}){var r,i,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Me({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return a.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(v_(u)){if(a.rp.id!==u)return new Me({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function oP({error:n,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Me({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(v_(i)){if(r.rpId!==i)return new Me({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class aP{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const lP=new aP;function uP(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:r,excludeCredentials:i}=n,o=Ti(n,["challenge","user","excludeCredentials"]),a=hi(e).buffer,u=Object.assign(Object.assign({},r),{id:hi(r.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:a,user:u});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const f=i[d];h.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:hi(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return h}function cP(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:r}=n,i=Ti(n,["challenge","allowCredentials"]),o=hi(e).buffer,a=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const h=r[u];a.allowCredentials[u]=Object.assign(Object.assign({},h),{id:hi(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return a}function hP(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:fr(new Uint8Array(n.response.attestationObject)),clientDataJSON:fr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dP(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,i=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:fr(new Uint8Array(o.authenticatorData)),clientDataJSON:fr(new Uint8Array(o.clientDataJSON)),signature:fr(new Uint8Array(o.signature)),userHandle:o.userHandle?fr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function v_(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function hm(){var n,e;return!!(Xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function fP(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Da("Browser returned unexpected credential type",e)}:{data:null,error:new Da("Empty credential response",e)}}catch(e){return{data:null,error:sP({error:e,options:n})}}}async function pP(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Da("Browser returned unexpected credential type",e)}:{data:null,error:new Da("Empty credential response",e)}}catch(e){return{data:null,error:oP({error:e,options:n})}}}const mP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},gP={userVerification:"preferred",hints:["security-key"]};function za(...n){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of n)if(o)for(const a in o){const u=o[a];if(u!==void 0)if(Array.isArray(u))i[a]=u;else if(r(u))i[a]=u;else if(e(u)){const h=i[a];e(h)?i[a]=za(h,u):i[a]=za(u)}else i[a]=u}return i}function vP(n,e){return za(mP,n,e||{})}function yP(n,e){return za(gP,n,e||{})}class _P{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:o},a){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:h};const d=o??lP.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:f}=u.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${i}`),f.displayName||(f.displayName=f.name)}switch(u.webauthn.type){case"create":{const f=vP(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:v,error:y}=await fP({publicKey:f,signal:d});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const f=yP(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:v,error:y}=await pP(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:f,signal:d}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(u){return G(u)?{data:null,error:u}:{data:null,error:new ur("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}},a){if(!r)return{data:null,error:new zs("rpId is required for WebAuthn authentication")};try{if(!hm())return{data:null,error:new ur("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:a});if(!u)return{data:null,error:h};const{webauthn:d}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:i,credential_response:d.credential_response}})}catch(u){return G(u)?{data:null,error:u}:{data:null,error:new ur("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o},a){if(!r)return{data:null,error:new zs("rpId is required for WebAuthn registration")};try{if(!hm())return{data:null,error:new ur("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:h};const{data:d,error:f}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:a});return d?this._verify({factorId:u.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:i,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(u){return G(u)?{data:null,error:u}:{data:null,error:new ur("Unexpected error in register",u)}}}}tP();const wP={url:gk,storageKey:vk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function dm(n,e,r){return await r()}const Br={};class Bs{get jwks(){var e,r;return(r=(e=Br[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Br[this.storageKey]=Object.assign(Object.assign({},Br[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Br[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Br[this.storageKey]=Object.assign(Object.assign({},Br[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},wP),e);if(this.storageKey=a.storageKey,this.instanceID=(r=Bs.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Bs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Xe()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Yk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=p_(a.fetch),this.lock=a.lock||dm,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Xe()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=eP:this.lock=dm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _P(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:f_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cm(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=cm(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${c_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(Xe()&&(r=Nk(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Xe()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:a}=await this._getSessionFromURL(r,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),kk(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return G(r)?this._returnResult({error:r}):this._returnResult({error:new ur("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,o;try{const a=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Dt}),{data:u,error:h}=a;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const d=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(G(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,i,o;try{let a;if("email"in e){const{email:v,password:y,options:_}=e;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await $r(this.storage,this.storageKey)),a=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:v,password:y,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:x,code_challenge_method:S},xform:Dt})}else if("phone"in e){const{phone:v,password:y,options:_}=e;a=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},channel:(o=_==null?void 0:_.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Dt})}else throw new qo("You must provide either an email or phone number and a password");const{data:u,error:h}=a;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const d=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(G(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:u,options:h}=e;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:lm})}else if("phone"in e){const{phone:a,password:u,options:h}=e;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:lm})}else throw new qo("You must provide either an email or phone number and a password");const{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const a=new Mr;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,o,a,u,h,d,f,v,y,_;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:E,wallet:O,statement:P,options:b}=e;let k;if(Xe())if(typeof O=="object")k=O;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")k=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=O}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),A=await k.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=g_(A[0]);let M=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!M){const F=await k.request({method:"eth_chainId"});M=nP(F)}const U={domain:j.host,address:I,statement:P,uri:j.href,version:"1",chainId:M,nonce:(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=b==null?void 0:b.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=b==null?void 0:b.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(v=b==null?void 0:b.signInWithEthereum)===null||v===void 0?void 0:v.resources};x=iP(U),S=await k.request({method:"personal_sign",params:[rP(x),I]})}try{const{data:E,error:O}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Dt});if(O)throw O;if(!E||!E.session||!E.user){const P=new Mr;return this._returnResult({data:{user:null,session:null},error:P})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:O})}catch(E){if(G(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var r,i,o,a,u,h,d,f,v,y,_,x;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:O,wallet:P,statement:b,options:k}=e;let j;if(Xe())if(typeof P=="object")j=P;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))j=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=P}const A=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const I=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),b?{statement:b}:null));let M;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")M=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)M=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)S=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),E=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${A.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(o=(i=k==null?void 0:k.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((f=k==null?void 0:k.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((y=(v=k==null?void 0:k.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...k.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const I=await j.signMessage(new TextEncoder().encode(S),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=I}}try{const{data:O,error:P}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:fr(E)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Dt});if(P)throw P;if(!O||!O.session||!O.user){const b=new Mr;return this._returnResult({data:{user:null,session:null},error:b})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:P})}catch(O){if(G(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(e){const r=await ir(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{const{data:a,error:u}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Dt});if(await Tn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const h=new Mr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(G(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:i,token:o,access_token:a,nonce:u}=e,h=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Dt}),{data:d,error:f}=h;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const v=new Mr;return this._returnResult({data:{user:null,session:null},error:v})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,o,a,u;try{if("email"in e){const{email:h,options:d}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await $r(this.storage,this.storageKey));const{error:y}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:v},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:h,options:d}=e,{data:f,error:v}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=d==null?void 0:d.data)!==null&&o!==void 0?o:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(u=d==null?void 0:d.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:v})}throw new qo("You must provide either an email or phone number.")}catch(h){if(G(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var r,i;try{let o,a;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Dt});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,f=u.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(G(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,i,o;try{let a=null,u=null;this.flowType==="pkce"&&([a,u]=await $r(this.storage,this.storageKey));const h=await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:Gk});return this._returnResult(h)}catch(a){if(G(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new $t;const{error:o}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:a}=e,{error:u}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:o,options:a}=e,{data:u,error:h}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new qo("You must provide either an email or phone number and a type")}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<ku:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await ir(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Cu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=Wk(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rn}):await this._useSession(async r=>{var i,o,a;const{data:u,error:h}=r;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Rn})})}catch(r){if(G(r))return Sk(r)&&(await this._removeSession(),await Tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new $t;const u=o.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await $r(this.storage,this.storageKey));const{data:f,error:v}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:u.access_token,xform:Rn});if(v)throw v;return u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(G(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $t;const r=Date.now()/1e3;let i=r,o=!0,a=null;const{payload:u}=Eu(e.access_token);if(u.exp&&(i=u.exp,o=i<=r),o){const{data:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(G(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:u,error:h}=r;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new $t;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Xe())throw new Ko("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ko(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new tm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ko("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new tm("No code detected.");const{data:b,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:h,expires_at:d,token_type:f}=e;if(!a||!h||!u||!f)throw new Ko("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(h);let _=v+y;d&&(_=parseInt(d));const x=_-v;x*1e3<=Wr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const S=_-y;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,_,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,_,v);const{data:E,error:O}=await this._getUser(a);if(O)throw O;const P={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:_,refresh_token:u,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:e.type},error:null})}catch(i){if(G(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ir(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:a}=r;if(a)return this._returnResult({error:a});const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(bk(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await Tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Lk(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{const{data:{session:a},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await $r(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(G(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:o}=await this._useSession(async a=>{var u,h,d,f,v;const{data:y,error:_}=a;if(_)throw _;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",x,{headers:this.headers,jwt:(v=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Xe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(G(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:a}}=r;if(o)throw o;const{options:u,provider:h,token:d,access_token:f,nonce:v}=e,y=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a==null?void 0:a.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:d,access_token:f,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Dt}),{data:_,error:x}=y;return x?this._returnResult({data:{user:null,session:null},error:x}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Mr}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:x}))}catch(o){if(G(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;const{data:a,error:u}=r;if(u)throw u;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await Ak(async o=>(o>0&&await Ik(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Dt})),(o,a)=>{const u=200*Math.pow(2,o);return a&&Pu(a)&&Date.now()+u-i<Wr})}catch(i){if(this._debug(r,"error",i),G(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Xe()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await ir(this.storage,this.storageKey);if(o&&this.userStorage){let u=await ir(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Zr(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Cu()}else if(o&&!o.user&&!o.user){const u=await ir(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await Tn(this.storage,this.storageKey+"-user"),await Zr(this.storage,this.storageKey,o)):o.user=Cu()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const a=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ku;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${ku}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Pu(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new cl;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new $t;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={data:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),G(a)){const u={data:null,error:a};return Pu(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,r)}catch(d){a.push(d)}});if(await Promise.all(u),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Zr(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const a=om(o);await Zr(this.storage,this.storageKey,a)}else{const o=om(r);await Zr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Tn(this.storage,this.storageKey),await Tn(this.storage,this.storageKey+"-code-verifier"),await Tn(this.storage,this.storageKey+"-user"),this.userStorage&&await Tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Wr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Wr}ms, refresh threshold is ${$c} ticks`),o<=$c&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof m_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,u]=await $r(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:o,error:a}=r;return a?this._returnResult({data:null,error:a}):await Y(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;const{data:a,error:u}=r;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?hP(e.webauthn.credential_response):dP(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:d}=await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:d}))})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:uP(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:cP(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Eu(i.access_token);let u=null;a.aal&&(u=a.aal);let h=u;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const f=a.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await Y(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new $t})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new $t});const u=await Y(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Xe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(G(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new $t});const u=await Y(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Xe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(G(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(h=>h.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+wk>o)return i;const{data:a,error:u}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,i=a.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});i=x.session.access_token}const{header:o,payload:a,signature:u,raw:{header:h,payload:d}}=Eu(i);r!=null&&r.allowExpired||Fk(a.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!f){const{error:x}=await this.getUser(i);if(x)throw x;return{data:{claims:a,header:o,signature:u},error:null}}const v=Hk(o.alg),y=await crypto.subtle.importKey("jwk",f,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,u,Ok(`${h}.${d}`)))throw new Bc("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(i){if(G(i))return this._returnResult({data:null,error:i});throw i}}}Bs.nextInstanceID={};const xP=Bs;class bP extends xP{constructor(e){super(e)}}class SP{constructor(e,r,i){var o,a,u;this.supabaseUrl=e,this.supabaseKey=r;const h=mk(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,f={db:ak,realtime:uk,auth:Object.assign(Object.assign({},lk),{storageKey:d}),global:ok},v=pk(i??{},f);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=v.global.headers)!==null&&a!==void 0?a:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=dk(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new gS(new URL("rest/v1",h).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new rk(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new fS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,i)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(r=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:a,storageKey:u,flowType:h,lock:d,debug:f,throwOnError:v},y,_){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bP({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),y),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:a,flowType:h,lock:d,debug:f,throwOnError:v,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new RS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,r,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kP=(n,e,r)=>new SP(n,e,r);function PP(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}PP()&&console.warn("âš ï¸  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ne=kP("http://placeholder.url","placeholder_key"),y_=T.createContext(void 0),EP=({children:n})=>{const[e,r]=T.useState(null),[i,o]=T.useState(null),[a,u]=T.useState(null),[h,d]=T.useState(!0);T.useEffect(()=>{Ne.auth.getSession().then(({data:{session:S}})=>{u(S),r((S==null?void 0:S.user)??null),S!=null&&S.user?f(S.user.id):d(!1)});const{data:{subscription:x}}=Ne.auth.onAuthStateChange((S,E)=>{u(E),r((E==null?void 0:E.user)??null),E!=null&&E.user?f(E.user.id):(o(null),d(!1))});return()=>x.unsubscribe()},[]);const f=async x=>{try{const{data:S,error:E}=await Ne.from("profiles").select("*").eq("id",x).maybeSingle();if(E)throw E;o(S)}catch(S){console.error("Error loading profile:",S)}finally{d(!1)}},v=async(x,S)=>{try{const{error:E}=await Ne.auth.signInWithPassword({email:x,password:S});return{error:E}}catch(E){return{error:E}}},y=async(x,S,E,O)=>{try{const{data:P,error:b}=await Ne.auth.signUp({email:x,password:S});if(b)return{error:b};if(P.user){const{error:k}=await Ne.from("profiles").insert([{id:P.user.id,full_name:E,role:O}]);if(k)return{error:k}}return{error:null}}catch(P){return{error:P}}},_=async()=>{await Ne.auth.signOut(),r(null),o(null),u(null)};return m.jsx(y_.Provider,{value:{user:e,profile:i,session:a,loading:h,signIn:v,signUp:y,signOut:_},children:n})},Li=()=>{const n=T.useContext(y_);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},X=n=>typeof n=="string",ts=()=>{let n,e;const r=new Promise((i,o)=>{n=i,e=o});return r.resolve=n,r.reject=e,r},fm=n=>n==null?"":""+n,CP=(n,e,r)=>{n.forEach(i=>{e[i]&&(r[i]=e[i])})},TP=/###/g,pm=n=>n&&n.indexOf("###")>-1?n.replace(TP,"."):n,mm=n=>!n||X(n),_s=(n,e,r)=>{const i=X(e)?e.split("."):e;let o=0;for(;o<i.length-1;){if(mm(n))return{};const a=pm(i[o]);!n[a]&&r&&(n[a]=new r),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++o}return mm(n)?{}:{obj:n,k:pm(i[o])}},gm=(n,e,r)=>{const{obj:i,k:o}=_s(n,e,Object);if(i!==void 0||e.length===1){i[o]=r;return}let a=e[e.length-1],u=e.slice(0,e.length-1),h=_s(n,u,Object);for(;h.obj===void 0&&u.length;)a=`${u[u.length-1]}.${a}`,u=u.slice(0,u.length-1),h=_s(n,u,Object),h!=null&&h.obj&&typeof h.obj[`${h.k}.${a}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${a}`]=r},OP=(n,e,r,i)=>{const{obj:o,k:a}=_s(n,e,Object);o[a]=o[a]||[],o[a].push(r)},Ba=(n,e)=>{const{obj:r,k:i}=_s(n,e);if(r&&Object.prototype.hasOwnProperty.call(r,i))return r[i]},jP=(n,e,r)=>{const i=Ba(n,r);return i!==void 0?i:Ba(e,r)},__=(n,e,r)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?X(n[i])||n[i]instanceof String||X(e[i])||e[i]instanceof String?r&&(n[i]=e[i]):__(n[i],e[i],r):n[i]=e[i]);return n},Ur=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var LP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const NP=n=>X(n)?n.replace(/[&<>"'\/]/g,e=>LP[e]):n;class RP{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const IP=[" ",",","?","!",";"],AP=new RP(20),MP=(n,e,r)=>{e=e||"",r=r||"";const i=IP.filter(u=>e.indexOf(u)<0&&r.indexOf(u)<0);if(i.length===0)return!0;const o=AP.getRegExp(`(${i.map(u=>u==="?"?"\\?":u).join("|")})`);let a=!o.test(n);if(!a){const u=n.indexOf(r);u>0&&!o.test(n.substring(0,u))&&(a=!0)}return a},Uc=(n,e,r=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(r);let o=n;for(let a=0;a<i.length;){if(!o||typeof o!="object")return;let u,h="";for(let d=a;d<i.length;++d)if(d!==a&&(h+=r),h+=i[d],u=o[h],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&d<i.length-1)continue;a+=d-a+1;break}o=u}return o},Us=n=>n==null?void 0:n.replace("_","-"),$P={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var r,i;(i=(r=console==null?void 0:console[n])==null?void 0:r.apply)==null||i.call(r,console,e)}};class Ua{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||$P,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,i,o){return o&&!this.debug?null:(X(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Ua(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Ua(this.logger,e)}}var nn=new Ua;class hl{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const o=this.observers[i].get(r)||0;this.observers[i].set(r,o+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,a])=>{for(let u=0;u<a;u++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,a])=>{for(let u=0;u<a;u++)o.apply(o,[e,...r])})}}class vm extends hl{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,i,o={}){var f,v;const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,r],i&&(Array.isArray(i)?h.push(...i):X(i)&&a?h.push(...i.split(a)):h.push(i)));const d=Ba(this.data,h);return!d&&!r&&!i&&e.indexOf(".")>-1&&(e=h[0],r=h[1],i=h.slice(2).join(".")),d||!u||!X(i)?d:Uc((v=(f=this.data)==null?void 0:f[e])==null?void 0:v[r],i,a)}addResource(e,r,i,o,a={silent:!1}){const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let h=[e,r];i&&(h=h.concat(u?i.split(u):i)),e.indexOf(".")>-1&&(h=e.split("."),o=r,r=h[1]),this.addNamespaces(r),gm(this.data,h,o),a.silent||this.emit("added",e,r,i,o)}addResources(e,r,i,o={silent:!1}){for(const a in i)(X(i[a])||Array.isArray(i[a]))&&this.addResource(e,r,a,i[a],{silent:!0});o.silent||this.emit("added",e,r,i)}addResourceBundle(e,r,i,o,a,u={silent:!1,skipCopy:!1}){let h=[e,r];e.indexOf(".")>-1&&(h=e.split("."),o=i,i=r,r=h[1]),this.addNamespaces(r);let d=Ba(this.data,h)||{};u.skipCopy||(i=JSON.parse(JSON.stringify(i))),o?__(d,i,a):d={...d,...i},gm(this.data,h,d),u.silent||this.emit("added",e,r,i)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(o=>r[o]&&Object.keys(r[o]).length>0)}toJSON(){return this.data}}var w_={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,r,i,o){return n.forEach(a=>{var u;e=((u=this.processors[a])==null?void 0:u.process(e,r,i,o))??e}),e}};const x_=Symbol("i18next/PATH_KEY");function DP(){const n=[],e=Object.create(null);let r;return e.get=(i,o)=>{var a;return(a=r==null?void 0:r.revoke)==null||a.call(r),o===x_?n:(n.push(o),r=Proxy.revocable(i,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Fc(n,e){const{[x_]:r}=n(DP());return r.join((e==null?void 0:e.keySeparator)??".")}const ym={},Ou=n=>!X(n)&&typeof n!="boolean"&&typeof n!="number";class Fa extends hl{constructor(e,r={}){super(),CP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=nn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const i={...r};if(e==null)return!1;const o=this.resolve(e,i);if((o==null?void 0:o.res)===void 0)return!1;const a=Ou(o.res);return!(i.returnObjects===!1&&a)}extractFromKey(e,r){let i=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const u=i&&e.indexOf(i)>-1,h=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!MP(e,i,o);if(u&&!h){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:X(a)?[a]:a};const f=e.split(i);(i!==o||i===o&&this.options.ns.indexOf(f[0])>-1)&&(a=f.shift()),e=f.join(o)}return{key:e,namespaces:X(a)?[a]:a}}translate(e,r,i){let o=typeof r=="object"?{...r}:r;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),e==null)return"";typeof e=="function"&&(e=Fc(e,{...this.options,...o})),Array.isArray(e)||(e=[String(e)]);const a=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:h,namespaces:d}=this.extractFromKey(e[e.length-1],o),f=d[d.length-1];let v=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;v===void 0&&(v=":");const y=o.lng||this.language,_=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((y==null?void 0:y.toLowerCase())==="cimode")return _?a?{res:`${f}${v}${h}`,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:f,usedParams:this.getUsedParamsDetails(o)}:`${f}${v}${h}`:a?{res:h,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:f,usedParams:this.getUsedParamsDetails(o)}:h;const x=this.resolve(e,o);let S=x==null?void 0:x.res;const E=(x==null?void 0:x.usedKey)||h,O=(x==null?void 0:x.exactUsedKey)||h,P=["[object Number]","[object Function]","[object RegExp]"],b=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,j=o.count!==void 0&&!X(o.count),A=Fa.hasDefaultValue(o),I=j?this.pluralResolver.getSuffix(y,o.count,o):"",M=o.ordinal&&j?this.pluralResolver.getSuffix(y,o.count,{ordinal:!1}):"",U=j&&!o.ordinal&&o.count===0,F=U&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${I}`]||o[`defaultValue${M}`]||o.defaultValue;let V=S;k&&!S&&A&&(V=F);const ae=Ou(V),Oe=Object.prototype.toString.apply(V);if(k&&V&&ae&&P.indexOf(Oe)<0&&!(X(b)&&Array.isArray(V))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const He=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,V,{...o,ns:d}):`key '${h} (${this.language})' returned an object instead of string.`;return a?(x.res=He,x.usedParams=this.getUsedParamsDetails(o),x):He}if(u){const He=Array.isArray(V),xe=He?[]:{},Pr=He?O:E;for(const fe in V)if(Object.prototype.hasOwnProperty.call(V,fe)){const De=`${Pr}${u}${fe}`;A&&!S?xe[fe]=this.translate(De,{...o,defaultValue:Ou(F)?F[fe]:void 0,joinArrays:!1,ns:d}):xe[fe]=this.translate(De,{...o,joinArrays:!1,ns:d}),xe[fe]===De&&(xe[fe]=V[fe])}S=xe}}else if(k&&X(b)&&Array.isArray(S))S=S.join(b),S&&(S=this.extendTranslation(S,e,o,i));else{let He=!1,xe=!1;!this.isValidLookup(S)&&A&&(He=!0,S=F),this.isValidLookup(S)||(xe=!0,S=h);const fe=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&xe?void 0:S,De=A&&F!==S&&this.options.updateMissing;if(xe||He||De){if(this.logger.log(De?"updateKey":"missingKey",y,f,h,De?F:S),u){const q=this.resolve(h,{...o,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $=[];const J=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&J&&J[0])for(let q=0;q<J.length;q++)$.push(J[q]);else this.options.saveMissingTo==="all"?$=this.languageUtils.toResolveHierarchy(o.lng||this.language):$.push(o.lng||this.language);const B=(q,ne,ye)=>{var oe;const he=A&&ye!==S?ye:fe;this.options.missingKeyHandler?this.options.missingKeyHandler(q,f,ne,he,De,o):(oe=this.backendConnector)!=null&&oe.saveMissing&&this.backendConnector.saveMissing(q,f,ne,he,De,o),this.emit("missingKey",q,f,ne,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?$.forEach(q=>{const ne=this.pluralResolver.getSuffixes(q,o);U&&o[`defaultValue${this.options.pluralSeparator}zero`]&&ne.indexOf(`${this.options.pluralSeparator}zero`)<0&&ne.push(`${this.options.pluralSeparator}zero`),ne.forEach(ye=>{B([q],h+ye,o[`defaultValue${ye}`]||F)})}):B($,h,F))}S=this.extendTranslation(S,e,o,x,i),xe&&S===h&&this.options.appendNamespaceToMissingKey&&(S=`${f}${v}${h}`),(xe||He)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${v}${h}`:h,He?S:void 0,o))}return a?(x.res=S,x.usedParams=this.getUsedParamsDetails(o),x):S}extendTranslation(e,r,i,o,a){var d,f;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const v=X(e)&&(((f=i==null?void 0:i.interpolation)==null?void 0:f.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(v){const x=e.match(this.interpolator.nestingRegexp);y=x&&x.length}let _=i.replace&&!X(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),e=this.interpolator.interpolate(e,_,i.lng||this.language||o.usedLng,i),v){const x=e.match(this.interpolator.nestingRegexp),S=x&&x.length;y<S&&(i.nest=!1)}!i.lng&&o&&o.res&&(i.lng=this.language||o.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...x)=>(a==null?void 0:a[0])===x[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${r[0]}`),null):this.translate(...x,r),i)),i.interpolation&&this.interpolator.reset()}const u=i.postProcess||this.options.postProcess,h=X(u)?[u]:u;return e!=null&&(h!=null&&h.length)&&i.applyPostProcessor!==!1&&(e=w_.handle(h,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,r={}){let i,o,a,u,h;return X(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(i))return;const f=this.extractFromKey(d,r),v=f.key;o=v;let y=f.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const _=r.count!==void 0&&!X(r.count),x=_&&!r.ordinal&&r.count===0,S=r.context!==void 0&&(X(r.context)||typeof r.context=="number")&&r.context!=="",E=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);y.forEach(O=>{var P,b;this.isValidLookup(i)||(h=O,!ym[`${E[0]}-${O}`]&&((P=this.utils)!=null&&P.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(h))&&(ym[`${E[0]}-${O}`]=!0,this.logger.warn(`key "${o}" for languages "${E.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(k=>{var I;if(this.isValidLookup(i))return;u=k;const j=[v];if((I=this.i18nFormat)!=null&&I.addLookupKeys)this.i18nFormat.addLookupKeys(j,v,k,O,r);else{let M;_&&(M=this.pluralResolver.getSuffix(k,r.count,r));const U=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(r.ordinal&&M.indexOf(F)===0&&j.push(v+M.replace(F,this.options.pluralSeparator)),j.push(v+M),x&&j.push(v+U)),S){const V=`${v}${this.options.contextSeparator||"_"}${r.context}`;j.push(V),_&&(r.ordinal&&M.indexOf(F)===0&&j.push(V+M.replace(F,this.options.pluralSeparator)),j.push(V+M),x&&j.push(V+U))}}let A;for(;A=j.pop();)this.isValidLookup(i)||(a=A,i=this.getResource(k,O,A,r))}))})}),{res:i,usedKey:o,exactUsedKey:a,usedLng:u,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,i,o={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,r,i,o):this.resourceStore.getResource(e,r,i,o)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!X(e.replace);let o=i?e.replace:e;if(i&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!i){o={...o};for(const a of r)delete o[a]}return o}static hasDefaultValue(e){const r="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&r===i.substring(0,r.length)&&e[i]!==void 0)return!0;return!1}}class _m{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=nn.create("languageUtils")}getScriptPartFromCode(e){if(e=Us(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Us(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(X(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(i=>{if(r)return;const o=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(o))&&(r=o)}),!r&&this.options.supportedLngs&&e.forEach(i=>{if(r)return;const o=this.getScriptPartFromCode(i);if(this.isSupportedCode(o))return r=o;const a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(u=>{if(u===a)return u;if(!(u.indexOf("-")<0&&a.indexOf("-")<0)&&(u.indexOf("-")>0&&a.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===a||u.indexOf(a)===0&&a.length>1))return u})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),X(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let i=e[r];return i||(i=e[this.getScriptPartFromCode(r)]),i||(i=e[this.formatLanguageCode(r)]),i||(i=e[this.getLanguagePartFromCode(r)]),i||(i=e.default),i||[]}toResolveHierarchy(e,r){const i=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),o=[],a=u=>{u&&(this.isSupportedCode(u)?o.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return X(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):X(e)&&a(this.formatLanguageCode(e)),i.forEach(u=>{o.indexOf(u)<0&&a(this.formatLanguageCode(u))}),o}}const wm={zero:0,one:1,two:2,few:3,many:4,other:5},xm={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class zP{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=nn.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const i=Us(e==="dev"?"en":e),o=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:i,type:o});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let u;try{u=new Intl.PluralRules(i,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),xm;if(!e.match(/-|_/))return xm;const d=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(d,r)}return this.pluralRulesCache[a]=u,u}needsPlural(e,r={}){let i=this.getRule(e,r);return i||(i=this.getRule("dev",r)),(i==null?void 0:i.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,i={}){return this.getSuffixes(e,i).map(o=>`${r}${o}`)}getSuffixes(e,r={}){let i=this.getRule(e,r);return i||(i=this.getRule("dev",r)),i?i.resolvedOptions().pluralCategories.sort((o,a)=>wm[o]-wm[a]).map(o=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,r,i={}){const o=this.getRule(e,i);return o?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${o.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,i))}}const bm=(n,e,r,i=".",o=!0)=>{let a=jP(n,e,r);return!a&&o&&X(r)&&(a=Uc(n,r,i),a===void 0&&(a=Uc(e,r,i))),a},ju=n=>n.replace(/\$/g,"$$$$");class BP{constructor(e={}){var r;this.logger=nn.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(i=>i),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:i,useRawValueToEscape:o,prefix:a,prefixEscaped:u,suffix:h,suffixEscaped:d,formatSeparator:f,unescapeSuffix:v,unescapePrefix:y,nestingPrefix:_,nestingPrefixEscaped:x,nestingSuffix:S,nestingSuffixEscaped:E,nestingOptionsSeparator:O,maxReplaces:P,alwaysFormat:b}=e.interpolation;this.escape=r!==void 0?r:NP,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=a?Ur(a):u||"{{",this.suffix=h?Ur(h):d||"}}",this.formatSeparator=f||",",this.unescapePrefix=v?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=_?Ur(_):x||Ur("$t("),this.nestingSuffix=S?Ur(S):E||Ur(")"),this.nestingOptionsSeparator=O||",",this.maxReplaces=P||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,i)=>(r==null?void 0:r.source)===i?(r.lastIndex=0,r):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,i,o){var x;let a,u,h;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=S=>{if(S.indexOf(this.formatSeparator)<0){const b=bm(r,d,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,i,{...o,...r,interpolationkey:S}):b}const E=S.split(this.formatSeparator),O=E.shift().trim(),P=E.join(this.formatSeparator).trim();return this.format(bm(r,d,O,this.options.keySeparator,this.options.ignoreJSONStructure),P,i,{...o,...r,interpolationkey:O})};this.resetRegExp();const v=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,y=((x=o==null?void 0:o.interpolation)==null?void 0:x.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>ju(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?ju(this.escape(S)):ju(S)}].forEach(S=>{for(h=0;a=S.regex.exec(e);){const E=a[1].trim();if(u=f(E),u===void 0)if(typeof v=="function"){const P=v(e,a,o);u=X(P)?P:""}else if(o&&Object.prototype.hasOwnProperty.call(o,E))u="";else if(y){u=a[0];continue}else this.logger.warn(`missed to pass in variable ${E} for interpolating ${e}`),u="";else!X(u)&&!this.useRawValueToEscape&&(u=fm(u));const O=S.safeValue(u);if(e=e.replace(a[0],O),y?(S.regex.lastIndex+=u.length,S.regex.lastIndex-=a[0].length):S.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,r,i={}){let o,a,u;const h=(d,f)=>{const v=this.nestingOptionsSeparator;if(d.indexOf(v)<0)return d;const y=d.split(new RegExp(`${v}[ ]*{`));let _=`{${y[1]}`;d=y[0],_=this.interpolate(_,u);const x=_.match(/'/g),S=_.match(/"/g);(((x==null?void 0:x.length)??0)%2===0&&!S||S.length%2!==0)&&(_=_.replace(/'/g,'"'));try{u=JSON.parse(_),f&&(u={...f,...u})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,E),`${d}${v}${_}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,d};for(;o=this.nestingRegexp.exec(e);){let d=[];u={...i},u=u.replace&&!X(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const f=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(f!==-1&&(d=o[1].slice(f).split(this.formatSeparator).map(v=>v.trim()).filter(Boolean),o[1]=o[1].slice(0,f)),a=r(h.call(this,o[1].trim(),u),u),a&&o[0]===e&&!X(a))return a;X(a)||(a=fm(a)),a||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),a=""),d.length&&(a=d.reduce((v,y)=>this.format(v,y,i.lng,{...i,interpolationkey:o[1].trim()}),a.trim())),e=e.replace(o[0],a),this.regexp.lastIndex=0}return e}}const UP=n=>{let e=n.toLowerCase().trim();const r={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const o=i[1].substring(0,i[1].length-1);e==="currency"&&o.indexOf(":")<0?r.currency||(r.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?r.range||(r.range=o.trim()):o.split(";").forEach(u=>{if(u){const[h,...d]=u.split(":"),f=d.join(":").trim().replace(/^'+|'+$/g,""),v=h.trim();r[v]||(r[v]=f),f==="false"&&(r[v]=!1),f==="true"&&(r[v]=!0),isNaN(f)||(r[v]=parseInt(f,10))}})}return{formatName:e,formatOptions:r}},Sm=n=>{const e={};return(r,i,o)=>{let a=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(a={...a,[o.interpolationkey]:void 0});const u=i+JSON.stringify(a);let h=e[u];return h||(h=n(Us(i),o),e[u]=h),h(r)}},FP=n=>(e,r,i)=>n(Us(r),i)(e);class HP{constructor(e={}){this.logger=nn.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const i=r.cacheInBuiltFormats?Sm:FP;this.formats={number:i((o,a)=>{const u=new Intl.NumberFormat(o,{...a});return h=>u.format(h)}),currency:i((o,a)=>{const u=new Intl.NumberFormat(o,{...a,style:"currency"});return h=>u.format(h)}),datetime:i((o,a)=>{const u=new Intl.DateTimeFormat(o,{...a});return h=>u.format(h)}),relativetime:i((o,a)=>{const u=new Intl.RelativeTimeFormat(o,{...a});return h=>u.format(h,a.range||"day")}),list:i((o,a)=>{const u=new Intl.ListFormat(o,{...a});return h=>u.format(h)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Sm(r)}format(e,r,i,o={}){const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(h=>h.indexOf(")")>-1)){const h=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,h)].join(this.formatSeparator)}return a.reduce((h,d)=>{var y;const{formatName:f,formatOptions:v}=UP(d);if(this.formats[f]){let _=h;try{const x=((y=o==null?void 0:o.formatParams)==null?void 0:y[o.interpolationkey])||{},S=x.locale||x.lng||o.locale||o.lng||i;_=this.formats[f](h,S,{...v,...o,...x})}catch(x){this.logger.warn(x)}return _}else this.logger.warn(`there was no format function for ${f}`);return h},e)}}const VP=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class WP extends hl{constructor(e,r,i,o={}){var a,u;super(),this.backend=e,this.store=r,this.services=i,this.languageUtils=i.languageUtils,this.options=o,this.logger=nn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(u=(a=this.backend)==null?void 0:a.init)==null||u.call(a,i,o.backend,o)}queueLoad(e,r,i,o){const a={},u={},h={},d={};return e.forEach(f=>{let v=!0;r.forEach(y=>{const _=`${f}|${y}`;!i.reload&&this.store.hasResourceBundle(f,y)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?u[_]===void 0&&(u[_]=!0):(this.state[_]=1,v=!1,u[_]===void 0&&(u[_]=!0),a[_]===void 0&&(a[_]=!0),d[y]===void 0&&(d[y]=!0)))}),v||(h[f]=!0)}),(Object.keys(a).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(a),pending:Object.keys(u),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(d)}}loaded(e,r,i){const o=e.split("|"),a=o[0],u=o[1];r&&this.emit("failedLoading",a,u,r),!r&&i&&this.store.addResourceBundle(a,u,i,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&i&&(this.state[e]=0);const h={};this.queue.forEach(d=>{OP(d.loaded,[a],u),VP(d,e),r&&d.errors.push(r),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(f=>{h[f]||(h[f]={});const v=d.loaded[f];v.length&&v.forEach(y=>{h[f][y]===void 0&&(h[f][y]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(d=>!d.done)}read(e,r,i,o=0,a=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:i,tried:o,wait:a,callback:u});return}this.readingCalls++;const h=(f,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(f&&v&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,i,o+1,a*2,u)},a);return}u(f,v)},d=this.backend[i].bind(this.backend);if(d.length===2){try{const f=d(e,r);f&&typeof f.then=="function"?f.then(v=>h(null,v)).catch(h):h(null,f)}catch(f){h(f)}return}return d(e,r,h)}prepareLoading(e,r,i={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();X(e)&&(e=this.languageUtils.toResolveHierarchy(e)),X(r)&&(r=[r]);const a=this.queueLoad(e,r,i,o);if(!a.toLoad.length)return a.pending.length||o(),null;a.toLoad.forEach(u=>{this.loadOne(u)})}load(e,r,i){this.prepareLoading(e,r,{},i)}reload(e,r,i){this.prepareLoading(e,r,{reload:!0},i)}loadOne(e,r=""){const i=e.split("|"),o=i[0],a=i[1];this.read(o,a,"read",void 0,void 0,(u,h)=>{u&&this.logger.warn(`${r}loading namespace ${a} for language ${o} failed`,u),!u&&h&&this.logger.log(`${r}loaded namespace ${a} for language ${o}`,h),this.loaded(e,u,h)})}saveMissing(e,r,i,o,a,u={},h=()=>{}){var d,f,v,y,_;if((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace&&!((y=(v=this.services)==null?void 0:v.utils)!=null&&y.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${i}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if((_=this.backend)!=null&&_.create){const x={...u,isUpdate:a},S=this.backend.create.bind(this.backend);if(S.length<6)try{let E;S.length===5?E=S(e,r,i,o,x):E=S(e,r,i,o),E&&typeof E.then=="function"?E.then(O=>h(null,O)).catch(h):h(null,E)}catch(E){h(E)}else S(e,r,i,o,h,x)}!e||!e[0]||this.store.addResource(e[0],r,i,o)}}}const km=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),X(n[1])&&(e.defaultValue=n[1]),X(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const r=n[3]||n[2];Object.keys(r).forEach(i=>{e[i]=r[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Pm=n=>{var e,r;return X(n.ns)&&(n.ns=[n.ns]),X(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),X(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((r=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Go=()=>{},ZP=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(r=>{typeof n[r]=="function"&&(n[r]=n[r].bind(n))})};class Fs extends hl{constructor(e={},r){if(super(),this.options=Pm(e),this.services={},this.logger=nn,this.modules={external:[]},ZP(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(X(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=km();this.options={...i,...this.options,...Pm(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const o=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?nn.init(o(this.modules.logger),this.options):nn.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=HP;const v=new _m(this.options);this.store=new vm(this.options.resources,this.options);const y=this.services;y.logger=nn,y.resourceStore=this.store,y.languageUtils=v,y.pluralResolver=new zP(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(y.formatter=o(f),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new BP(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new WP(o(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(x,...S)=>{this.emit(x,...S)}),this.modules.languageDetector&&(y.languageDetector=o(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=o(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new Fa(this.services,this.options),this.translator.on("*",(x,...S)=>{this.emit(x,...S)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Go),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...v)=>this.store[f](...v)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...v)=>(this.store[f](...v),this)});const h=ts(),d=()=>{const f=(v,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(y),r(v,y)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),h}loadResources(e,r=Go){var a,u;let i=r;const o=X(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const h=[],d=f=>{if(!f||f==="cimode")return;this.services.languageUtils.toResolveHierarchy(f).forEach(y=>{y!=="cimode"&&h.indexOf(y)<0&&h.push(y)})};o?d(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(v=>d(v)),(u=(a=this.options.preload)==null?void 0:a.forEach)==null||u.call(a,f=>d(f)),this.services.backendConnector.load(h,this.options.ns,f=>{!f&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(f)})}else i(null)}reloadResources(e,r,i){const o=ts();return typeof e=="function"&&(i=e,e=void 0),typeof r=="function"&&(i=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),i||(i=Go),this.services.backendConnector.reload(e,r,a=>{o.resolve(),i(a)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&w_.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const i=this.languages[r];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const i=ts();this.emit("languageChanging",e);const o=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},a=(h,d)=>{d?this.isLanguageChangingTo===e&&(o(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve((...f)=>this.t(...f)),r&&r(h,(...f)=>this.t(...f))},u=h=>{var v,y;!e&&!h&&this.services.languageDetector&&(h=[]);const d=X(h)?h:h&&h[0],f=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(X(h)?[h]:h);f&&(this.language||o(f),this.translator.language||this.translator.changeLanguage(f),(y=(v=this.services.languageDetector)==null?void 0:v.cacheUserLanguage)==null||y.call(v,f)),this.loadResources(f,_=>{a(_,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),i}getFixedT(e,r,i){const o=(a,u,...h)=>{let d;typeof u!="object"?d=this.options.overloadTranslationOptionHandler([a,u].concat(h)):d={...u},d.lng=d.lng||o.lng,d.lngs=d.lngs||o.lngs,d.ns=d.ns||o.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||i||o.keyPrefix);const f=this.options.keySeparator||".";let v;return d.keyPrefix&&Array.isArray(a)?v=a.map(y=>(typeof y=="function"&&(y=Fc(y,{...this.options,...u})),`${d.keyPrefix}${f}${y}`)):(typeof a=="function"&&(a=Fc(a,{...this.options,...u})),v=d.keyPrefix?`${d.keyPrefix}${f}${a}`:a),this.t(v,d)};return X(e)?o.lng=e:o.lngs=e,o.ns=r,o.keyPrefix=i,o}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=r.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const u=(h,d)=>{const f=this.services.backendConnector.state[`${h}|${d}`];return f===-1||f===0||f===2};if(r.precheck){const h=r.precheck(this,u);if(h!==void 0)return h}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(i,e)&&(!o||u(a,e)))}loadNamespaces(e,r){const i=ts();return this.options.ns?(X(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{i.resolve(),r&&r(o)}),i):(r&&r(),Promise.resolve())}loadLanguages(e,r){const i=ts();X(e)&&(e=[e]);const o=this.options.preload||[],a=e.filter(u=>o.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return a.length?(this.options.preload=o.concat(a),this.loadResources(u=>{i.resolve(),r&&r(u)}),i):(r&&r(),Promise.resolve())}dir(e){var o,a;if(e||(e=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const u=new Intl.Locale(e);if(u&&u.getTextInfo){const h=u.getTextInfo();if(h&&h.direction)return h.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=((a=this.services)==null?void 0:a.languageUtils)||new _m(km());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){return new Fs(e,r)}cloneInstance(e={},r=Go){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},a=new Fs(o);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(h=>{a[h]=this[h]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},i){const h=Object.keys(this.store.data).reduce((d,f)=>(d[f]={...this.store.data[f]},d[f]=Object.keys(d[f]).reduce((v,y)=>(v[y]={...d[f][y]},v),d[f]),d),{});a.store=new vm(h,o),a.services.resourceStore=a.store}return a.translator=new Fa(a.services,o),a.translator.on("*",(h,...d)=>{a.emit(h,...d)}),a.init(o,r),a.translator.options=o,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const nt=Fs.createInstance();nt.createInstance=Fs.createInstance;nt.createInstance;nt.dir;nt.init;nt.loadResources;nt.reloadResources;nt.use;nt.changeLanguage;nt.getFixedT;nt.t;nt.exists;nt.setDefaultNamespace;nt.hasLoadedNamespace;nt.loadNamespaces;nt.loadLanguages;const qP=(n,e,r,i)=>{var a,u,h,d;const o=[r,{code:e,...i||{}}];if((u=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&u.forward)return n.services.logger.forward(o,"warn","react-i18next::",!0);xr(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(d=(h=n==null?void 0:n.services)==null?void 0:h.logger)!=null&&d.warn?n.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},Em={},b_=(n,e,r,i)=>{xr(r)&&Em[r]||(xr(r)&&(Em[r]=new Date),qP(n,e,r,i))},S_=(n,e)=>()=>{if(n.isInitialized)e();else{const r=()=>{setTimeout(()=>{n.off("initialized",r)},0),e()};n.on("initialized",r)}},Hc=(n,e,r)=>{n.loadNamespaces(e,S_(n,r))},Cm=(n,e,r,i)=>{if(xr(r)&&(r=[r]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Hc(n,r,i);r.forEach(o=>{n.options.ns.indexOf(o)<0&&n.options.ns.push(o)}),n.loadLanguages(e,S_(n,i))},KP=(n,e,r={})=>!e.languages||!e.languages.length?(b_(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:r.lng,precheck:(i,o)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,n))return!1}}),xr=n=>typeof n=="string",GP=n=>typeof n=="object"&&n!==null,JP=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,QP={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"Â©","&#169;":"Â©","&reg;":"Â®","&#174;":"Â®","&hellip;":"â€¦","&#8230;":"â€¦","&#x2F;":"/","&#47;":"/"},YP=n=>QP[n],XP=n=>n.replace(JP,YP);let Vc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:XP};const eE=(n={})=>{Vc={...Vc,...n}},tE=()=>Vc;let k_;const nE=n=>{k_=n},rE=()=>k_,iE={type:"3rdParty",init(n){eE(n.options.react),nE(n)}},sE=T.createContext();class oE{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var P_={exports:{}},E_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=T;function aE(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var lE=typeof Object.is=="function"?Object.is:aE,uE=wi.useState,cE=wi.useEffect,hE=wi.useLayoutEffect,dE=wi.useDebugValue;function fE(n,e){var r=e(),i=uE({inst:{value:r,getSnapshot:e}}),o=i[0].inst,a=i[1];return hE(function(){o.value=r,o.getSnapshot=e,Lu(o)&&a({inst:o})},[n,r,e]),cE(function(){return Lu(o)&&a({inst:o}),n(function(){Lu(o)&&a({inst:o})})},[n]),dE(r),r}function Lu(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!lE(n,r)}catch{return!0}}function pE(n,e){return e()}var mE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pE:fE;E_.useSyncExternalStore=wi.useSyncExternalStore!==void 0?wi.useSyncExternalStore:mE;P_.exports=E_;var gE=P_.exports;const vE=(n,e)=>xr(e)?e:GP(e)&&xr(e.defaultValue)?e.defaultValue:Array.isArray(n)?n[n.length-1]:n,yE={t:vE,ready:!1},_E=()=>()=>{},Rt=(n,e={})=>{var j,A;const{i18n:r}=e,{i18n:i,defaultNS:o}=T.useContext(sE)||{},a=r||i||rE();a&&!a.reportNamespaces&&(a.reportNamespaces=new oE),a||b_(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=T.useMemo(()=>{var I;return{...tE(),...(I=a==null?void 0:a.options)==null?void 0:I.react,...e}},[a,e]),{useSuspense:h,keyPrefix:d}=u,f=T.useMemo(()=>{var M;const I=o||((M=a==null?void 0:a.options)==null?void 0:M.defaultNS);return xr(I)?[I]:I||["translation"]},[n,o,a]);(A=(j=a==null?void 0:a.reportNamespaces)==null?void 0:j.addUsedNamespaces)==null||A.call(j,f);const v=T.useRef(0),y=T.useCallback(I=>{if(!a)return _E;const{bindI18n:M,bindI18nStore:U}=u,F=()=>{v.current+=1,I()};return M&&a.on(M,F),U&&a.store.on(U,F),()=>{M&&M.split(" ").forEach(V=>a.off(V,F)),U&&U.split(" ").forEach(V=>a.store.off(V,F))}},[a,u]),_=T.useRef(),x=T.useCallback(()=>{if(!a)return yE;const I=!!(a.isInitialized||a.initializedStoreOnce)&&f.every(Oe=>KP(Oe,a,u)),M=e.lng||a.language,U=v.current,F=_.current;if(F&&F.ready===I&&F.lng===M&&F.keyPrefix===d&&F.revision===U)return F;const ae={t:a.getFixedT(M,u.nsMode==="fallback"?f:f[0],d),ready:I,lng:M,keyPrefix:d,revision:U};return _.current=ae,ae},[a,f,d,u,e.lng]),[S,E]=T.useState(0),{t:O,ready:P}=gE.useSyncExternalStore(y,x,x);T.useEffect(()=>{if(a&&!P&&!h){const I=()=>E(M=>M+1);e.lng?Cm(a,e.lng,f,I):Hc(a,f,I)}},[a,e.lng,f,P,h,S]);const b=a||{},k=T.useMemo(()=>{const I=[O,b,P];return I.t=O,I.i18n=b,I.ready=P,I},[O,b,P]);if(a&&h&&!P)throw new Promise(I=>{const M=()=>I();e.lng?Cm(a,e.lng,f,M):Hc(a,f,M)});return k},{slice:wE,forEach:xE}=[];function bE(n){return xE.call(wE.call(arguments,1),e=>{if(e)for(const r in e)n[r]===void 0&&(n[r]=e[r])}),n}function SE(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(n))}const Tm=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,kE=function(n,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let a=`${n}=${o}`;if(i.maxAge>0){const u=i.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(u)}`}if(i.domain){if(!Tm.test(i.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${i.domain}`}if(i.path){if(!Tm.test(i.path))throw new TypeError("option path is invalid");a+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(a+="; Partitioned"),a},Om={create(n,e,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+r*60*1e3)),i&&(o.domain=i),document.cookie=kE(n,e,o)},read(n){const e=`${n}=`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){let o=r[i];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var PE={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return Om.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:r,cookieMinutes:i,cookieDomain:o,cookieOptions:a}=e;r&&typeof document<"u"&&Om.create(r,n,i,o,a)}},EE={name:"querystring",lookup(n){var i;let{lookupQuerystring:e}=n,r;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((i=window.location.hash)==null?void 0:i.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const u=o.substring(1).split("&");for(let h=0;h<u.length;h++){const d=u[h].indexOf("=");d>0&&u[h].substring(0,d)===e&&(r=u[h].substring(d+1))}}return r}},CE={name:"hash",lookup(n){var o;let{lookupHash:e,lookupFromHashIndex:r}=n,i;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const u=a.substring(1);if(e){const h=u.split("&");for(let d=0;d<h.length;d++){const f=h[d].indexOf("=");f>0&&h[d].substring(0,f)===e&&(i=h[d].substring(f+1))}}if(i)return i;if(!i&&r>-1){const h=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(h)?(o=h[typeof r=="number"?r:0])==null?void 0:o.replace("/",""):void 0}}}return i}};let Fr=null;const jm=()=>{if(Fr!==null)return Fr;try{if(Fr=typeof window<"u"&&window.localStorage!==null,!Fr)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Fr=!1}return Fr};var TE={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&jm())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:r}=e;r&&jm()&&window.localStorage.setItem(r,n)}};let Hr=null;const Lm=()=>{if(Hr!==null)return Hr;try{if(Hr=typeof window<"u"&&window.sessionStorage!==null,!Hr)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Hr=!1}return Hr};var OE={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&Lm())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:r}=e;r&&Lm()&&window.sessionStorage.setItem(r,n)}},jE={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:i,language:o}=navigator;if(r)for(let a=0;a<r.length;a++)e.push(r[a]);i&&e.push(i),o&&e.push(o)}return e.length>0?e:void 0}},LE={name:"htmlTag",lookup(n){let{htmlTag:e}=n,r;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(r=i.getAttribute("lang")),r}},NE={name:"path",lookup(n){var o;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(o=r[typeof e=="number"?e:0])==null?void 0:o.replace("/",""):void 0}},RE={name:"subdomain",lookup(n){var o,a;let{lookupFromSubdomainIndex:e}=n;const r=typeof e=="number"?e+1:1,i=typeof window<"u"&&((a=(o=window.location)==null?void 0:o.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[r]}};let C_=!1;try{document.cookie,C_=!0}catch{}const T_=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];C_||T_.splice(1,1);const IE=()=>({order:T_,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class O_{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=bE(r,this.options||{},IE()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(PE),this.addDetector(EE),this.addDetector(TE),this.addDetector(OE),this.addDetector(jE),this.addDetector(LE),this.addDetector(NE),this.addDetector(RE),this.addDetector(CE)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(i=>{if(this.detectors[i]){let o=this.detectors[i].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(r=r.concat(o))}}),r=r.filter(i=>i!=null&&!SE(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}O_.type="languageDetector";function Wc(n){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(n)}function j_(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Wc(XMLHttpRequest))==="object"}function AE(n){return!!n&&typeof n.then=="function"}function ME(n){return AE(n)?n:Promise.resolve(n)}const $E="modulepreload",DE=function(n,e){return new URL(n,e).href},Nm={},zE=function(e,r,i){let o=Promise.resolve();if(r&&r.length>0){const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=Promise.allSettled(r.map(f=>{if(f=DE(f,i),f in Nm)return;Nm[f]=!0;const v=f.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(!!i)for(let S=u.length-1;S>=0;S--){const E=u[S];if(E.href===f&&(!v||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${y}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":$E,v||(x.as="script"),x.crossOrigin="",x.href=f,d&&x.setAttribute("nonce",d),document.head.appendChild(x),v)return new Promise((S,E)=>{x.addEventListener("load",S),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};function Rm(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Im(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rm(Object(r),!0).forEach(function(i){BE(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Rm(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function BE(n,e,r){return(e=UE(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function UE(n){var e=FE(n,"string");return br(e)=="symbol"?e:e+""}function FE(n,e){if(br(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(br(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function br(n){"@babel/helpers - typeof";return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(n)}var Zn=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Zn=global.fetch:typeof window<"u"&&window.fetch&&(Zn=window.fetch);var Hs;j_()&&(typeof global<"u"&&global.XMLHttpRequest?Hs=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Hs=window.XMLHttpRequest));var Ha;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Ha=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Ha=window.ActiveXObject));typeof Zn!="function"&&(Zn=void 0);if(!Zn&&!Hs&&!Ha)try{zE(()=>import("./browser-ponyfill-DD5tZT4a.js").then(n=>n.b),[],import.meta.url).then(function(n){Zn=n.default}).catch(function(){})}catch{}var Zc=function(e,r){if(r&&br(r)==="object"){var i="";for(var o in r)i+="&"+encodeURIComponent(o)+"="+encodeURIComponent(r[o]);if(!i)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+i.slice(1)}return e},Am=function(e,r,i,o){var a=function(d){if(!d.ok)return i(d.statusText||"Error",{status:d.status});d.text().then(function(f){i(null,{status:d.status,data:f})}).catch(i)};if(o){var u=o(e,r);if(u instanceof Promise){u.then(a).catch(i);return}}typeof fetch=="function"?fetch(e,r).then(a).catch(i):Zn(e,r).then(a).catch(i)},Mm=!1,HE=function(e,r,i,o){e.queryStringParams&&(r=Zc(r,e.queryStringParams));var a=Im({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(a["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),i&&(a["Content-Type"]="application/json");var u=typeof e.requestOptions=="function"?e.requestOptions(i):e.requestOptions,h=Im({method:i?"POST":"GET",body:i?e.stringify(i):void 0,headers:a},Mm?{}:u),d=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{Am(r,h,o,d)}catch(f){if(!u||Object.keys(u).length===0||!f.message||f.message.indexOf("not implemented")<0)return o(f);try{Object.keys(u).forEach(function(v){delete h[v]}),Am(r,h,o,d),Mm=!0}catch(v){o(v)}}},VE=function(e,r,i,o){i&&br(i)==="object"&&(i=Zc("",i).slice(1)),e.queryStringParams&&(r=Zc(r,e.queryStringParams));try{var a=Hs?new Hs:new Ha("MSXML2.XMLHTTP.3.0");a.open(i?"POST":"GET",r,1),e.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!e.withCredentials,i&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var u=e.customHeaders;if(u=typeof u=="function"?u():u,u)for(var h in u)a.setRequestHeader(h,u[h]);a.onreadystatechange=function(){a.readyState>3&&o(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(i)}catch(d){console&&console.log(d)}},WE=function(e,r,i,o){if(typeof i=="function"&&(o=i,i=void 0),o=o||function(){},Zn&&r.indexOf("file:")!==0)return HE(e,r,i,o);if(j_()||typeof ActiveXObject=="function")return VE(e,r,i,o);o(new Error("No fetch and no xhr implementation found!"))};function xi(n){"@babel/helpers - typeof";return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xi(n)}function $m(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Nu(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$m(Object(r),!0).forEach(function(i){L_(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):$m(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function ZE(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qE(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,N_(i.key),i)}}function KE(n,e,r){return e&&qE(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function L_(n,e,r){return(e=N_(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function N_(n){var e=GE(n,"string");return xi(e)=="symbol"?e:e+""}function GE(n,e){if(xi(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(xi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var JE=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,i,o){return L_({},i,o||"")},parseLoadPayload:function(r,i){},request:WE,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},R_=function(){function n(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ZE(this,n),this.services=e,this.options=r,this.allOptions=i,this.type="backend",this.init(e,r,i)}return KE(n,[{key:"init",value:function(r){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=r,this.options=Nu(Nu(Nu({},JE()),this.options||{}),o),this.allOptions=a,this.services&&this.options.reloadInterval){var u=setInterval(function(){return i.reload()},this.options.reloadInterval);xi(u)==="object"&&typeof u.unref=="function"&&u.unref()}}},{key:"readMulti",value:function(r,i,o){this._readAny(r,r,i,i,o)}},{key:"read",value:function(r,i,o){this._readAny([r],r,[i],i,o)}},{key:"_readAny",value:function(r,i,o,a,u){var h=this,d=this.options.loadPath;typeof this.options.loadPath=="function"&&(d=this.options.loadPath(r,o)),d=ME(d),d.then(function(f){if(!f)return u(null,{});var v=h.services.interpolator.interpolate(f,{lng:r.join("+"),ns:o.join("+")});h.loadUrl(v,u,i,a)})}},{key:"loadUrl",value:function(r,i,o,a){var u=this,h=typeof o=="string"?[o]:o,d=typeof a=="string"?[a]:a,f=this.options.parseLoadPayload(h,d);this.options.request(this.options,r,f,function(v,y){if(y&&(y.status>=500&&y.status<600||!y.status))return i("failed loading "+r+"; status code: "+y.status,!0);if(y&&y.status>=400&&y.status<500)return i("failed loading "+r+"; status code: "+y.status,!1);if(!y&&v&&v.message){var _=v.message.toLowerCase(),x=["failed","fetch","network","load"].find(function(O){return _.indexOf(O)>-1});if(x)return i("failed loading "+r+": "+v.message,!0)}if(v)return i(v,!1);var S,E;try{typeof y.data=="string"?S=u.options.parse(y.data,o,a):S=y.data}catch{E="failed parsing "+r+" to json"}if(E)return i(E,!1);i(null,S)})}},{key:"create",value:function(r,i,o,a,u){var h=this;if(this.options.addPath){typeof r=="string"&&(r=[r]);var d=this.options.parsePayload(i,o,a),f=0,v=[],y=[];r.forEach(function(_){var x=h.options.addPath;typeof h.options.addPath=="function"&&(x=h.options.addPath(_,i));var S=h.services.interpolator.interpolate(x,{lng:_,ns:i});h.options.request(h.options,S,d,function(E,O){f+=1,v.push(E),y.push(O),f===r.length&&typeof u=="function"&&u(v,y)})})}}},{key:"reload",value:function(){var r=this,i=this.services,o=i.backendConnector,a=i.languageUtils,u=i.logger,h=o.language;if(!(h&&h.toLowerCase()==="cimode")){var d=[],f=function(y){var _=a.toResolveHierarchy(y);_.forEach(function(x){d.indexOf(x)<0&&d.push(x)})};f(h),this.allOptions.preload&&this.allOptions.preload.forEach(function(v){return f(v)}),d.forEach(function(v){r.allOptions.ns.forEach(function(y){o.read(v,y,"read",null,null,function(_,x){_&&u.warn("loading namespace ".concat(y," for language ").concat(v," failed"),_),!_&&x&&u.log("loaded namespace ".concat(y," for language ").concat(v),x),o.loaded("".concat(v,"|").concat(y),_,x)})})})}}}])}();R_.type="backend";nt.use(R_).use(O_).use(iE).init({fallbackLng:"pt",debug:!0,interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}/translation.json"}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(n,e)=>{const r=T.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:h="",children:d,...f},v)=>T.createElement("svg",{ref:v,...QE,width:o,height:o,stroke:i,strokeWidth:u?Number(a)*24/Number(o):a,className:["lucide",`lucide-${YE(n)}`,h].join(" "),...f},[...e.map(([y,_])=>T.createElement(y,_)),...Array.isArray(d)?d:[d]]));return r.displayName=`${n}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=pe("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=pe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=pe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),fC=({onShowRegister:n})=>{const[e,r]=T.useState(""),[i,o]=T.useState(""),[a,u]=T.useState(""),[h,d]=T.useState(!1),{signIn:f}=Li(),v=async y=>{y.preventDefault(),u(""),d(!0);const{error:_}=await f(e,i);_&&u(_.message||"Failed to sign in"),d(!1)};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4",children:m.jsx("div",{className:"max-w-md w-full",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:m.jsx(rC,{className:"w-8 h-8 text-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"LogiSync"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Logistics & Route Optimization"})]}),m.jsxs("form",{onSubmit:v,className:"space-y-6",children:[a&&m.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:a}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),m.jsx("input",{id:"email",type:"email",value:e,onChange:y=>r(y.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"you@example.com"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),m.jsx("input",{id:"password",type:"password",value:i,onChange:y=>o(y.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),m.jsx("button",{type:"submit",disabled:h,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition",children:h?"Signing in...":"Sign In"})]}),m.jsxs("div",{className:"mt-6 text-center space-y-3",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Demo accounts: admin@logisync.com / manager@logisync.com / driver@logisync.com"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Password: password123"}),m.jsx("div",{className:"pt-3 border-t border-gray-200",children:m.jsx("button",{onClick:n,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Create a new account"})})]})]})})})},pC=({onBackToLogin:n})=>{const[e,r]=T.useState(""),[i,o]=T.useState(""),[a,u]=T.useState(""),[h,d]=T.useState("manager"),[f,v]=T.useState(""),[y,_]=T.useState(!1),[x,S]=T.useState(!1),{signUp:E}=Li(),O=async P=>{P.preventDefault(),v(""),S(!0);const{error:b}=await E(e,i,a,h);b?v(b.message||"Failed to create account"):(_(!0),setTimeout(()=>{n()},2e3)),S(!1)};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4",children:m.jsx("div",{className:"max-w-md w-full",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:m.jsx(cC,{className:"w-8 h-8 text-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Join LogiSync Platform"})]}),y?m.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-center",children:[m.jsx("p",{className:"font-medium",children:"Account created successfully!"}),m.jsx("p",{className:"text-sm mt-1",children:"Redirecting to login..."})]}):m.jsxs("form",{onSubmit:O,className:"space-y-6",children:[f&&m.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:f}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),m.jsx("input",{id:"fullName",type:"text",value:a,onChange:P=>u(P.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"John Doe"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),m.jsx("input",{id:"email",type:"email",value:e,onChange:P=>r(P.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"you@example.com"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),m.jsx("input",{id:"password",type:"password",value:i,onChange:P=>o(P.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),m.jsxs("select",{id:"role",value:h,onChange:P=>d(P.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",children:[m.jsx("option",{value:"admin",children:"Admin"}),m.jsx("option",{value:"manager",children:"Manager"}),m.jsx("option",{value:"driver",children:"Driver"})]})]}),m.jsx("button",{type:"submit",disabled:x,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition",children:x?"Creating account...":"Create Account"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("button",{onClick:n,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Already have an account? Sign in"})})]})})})},mC=()=>{const[n,e]=T.useState(!1);return n?m.jsx(pC,{onBackToLogin:()=>e(!1)}):m.jsx(fC,{onShowRegister:()=>e(!0)})},gC=()=>{const{t:n}=Rt(),{profile:e,signOut:r}=Li(),i=[{id:"dashboard",label:n("dashboard"),icon:tC,path:"/dashboard"},{id:"routes",label:n("routes"),icon:aC,path:"/routes"},{id:"deliveries",label:n("deliveries"),icon:Vs,path:"/deliveries"},{id:"fleet",label:n("fleet"),icon:Ws,path:"/fleet"},{id:"clients",label:n("clients"),icon:Jc,path:"/clients"},{id:"reports",label:n("reports"),icon:Kc,path:"/reports"},{id:"notifications",label:n("notifications"),icon:Va,path:"/notifications"},{id:"settings",label:n("settings"),icon:Gc,path:"/settings"}];return m.jsxs("div",{className:"bg-slate-900 text-white w-64 min-h-screen flex flex-col",children:[m.jsxs("div",{className:"p-6 border-b border-slate-800",children:[m.jsx("h1",{className:"text-2xl font-bold",children:n("app_name")}),m.jsx("p",{className:"text-sm text-slate-400 mt-1",children:n("app_tagline")})]}),m.jsx("div",{className:"flex-1 py-6",children:m.jsx("nav",{className:"space-y-1 px-3",children:i.map(o=>{const a=o.icon;return m.jsxs(cg,{to:o.path,className:({isActive:u})=>`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition ${u?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[m.jsx(a,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium",children:o.label})]},o.id)})})}),m.jsxs("div",{className:"p-6 border-t border-slate-800",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[m.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-sm font-semibold",children:e==null?void 0:e.full_name.charAt(0).toUpperCase()})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-medium",children:e==null?void 0:e.full_name}),m.jsx("p",{className:"text-xs text-slate-400 capitalize",children:e==null?void 0:e.role})]})]}),m.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg transition text-sm",children:[m.jsx(iC,{className:"w-4 h-4"}),m.jsx("span",{children:n("sign_out")})]})]})]})},Vr=({title:n,value:e,change:r,icon:i,trend:o})=>m.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:t(n.toLowerCase().replace(/ /g,"_"))}),m.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:e}),r!==void 0&&m.jsxs("div",{className:`flex items-center space-x-1 mt-2 text-sm ${o==="up"?"text-green-600":"text-red-600"}`,children:[o==="up"?m.jsx(cd,{className:"w-4 h-4"}):m.jsx(uC,{className:"w-4 h-4"}),m.jsxs("span",{children:[Math.abs(r),"%"]})]})]}),m.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600",children:i})]})}),vC=()=>{const{t:n}=Rt(),[e,r]=T.useState({totalRoutes:0,activeDeliveries:0,activeVehicles:0,avgDeliveryTime:0,totalFuelCost:0,onTimeRate:0});T.useEffect(()=>{i()},[]);const i=async()=>{try{const o=new Date().toISOString().split("T")[0],[a,u,h,d]=await Promise.all([Ne.from("routes").select("*",{count:"exact"}).eq("status","in_progress"),Ne.from("deliveries").select("*",{count:"exact"}).in("status",["pending","in_transit"]),Ne.from("vehicles").select("*",{count:"exact"}).eq("status","in_use"),Ne.from("analytics_snapshots").select("*").eq("snapshot_date",o).maybeSingle()]),f=d.data;r({totalRoutes:a.count||0,activeDeliveries:u.count||0,activeVehicles:h.count||0,avgDeliveryTime:(f==null?void 0:f.average_delivery_time_minutes)||0,totalFuelCost:(f==null?void 0:f.total_fuel_cost)||0,onTimeRate:f&&f.on_time_deliveries/(f.on_time_deliveries+f.delayed_deliveries)*100||0})}catch(o){console.error("Error loading dashboard data:",o)}};return m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n("dashboard")}),m.jsx("p",{className:"text-gray-600 mt-1",children:n("welcome_message")})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[m.jsx(Vr,{title:"active_routes",value:e.totalRoutes,change:8,trend:"up",icon:m.jsx(Vs,{className:"w-6 h-6"})}),m.jsx(Vr,{title:"active_deliveries",value:e.activeDeliveries,icon:m.jsx(Vs,{className:"w-6 h-6"})}),m.jsx(Vr,{title:"active_vehicles",value:e.activeVehicles,icon:m.jsx(Ws,{className:"w-6 h-6"})}),m.jsx(Vr,{title:"avg_delivery_time",value:`${Math.round(e.avgDeliveryTime)} min`,change:5,trend:"down",icon:m.jsx(ld,{className:"w-6 h-6"})}),m.jsx(Vr,{title:"total_fuel_cost",value:`$${e.totalFuelCost.toFixed(2)}`,icon:m.jsx(A_,{className:"w-6 h-6"})}),m.jsx(Vr,{title:"on_time_rate",value:`${e.onTimeRate.toFixed(1)}%`,change:12,trend:"up",icon:m.jsx(cd,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:n("recent_activity")}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[m.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),m.jsx("p",{className:"text-sm text-gray-700",children:"Route #1234 completed successfully"}),m.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"2 min ago"})]}),m.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[m.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),m.jsx("p",{className:"text-sm text-gray-700",children:"New delivery assigned to Driver #5"}),m.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"15 min ago"})]}),m.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[m.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),m.jsx("p",{className:"text-sm text-gray-700",children:"Vehicle #AB-123 scheduled for maintenance"}),m.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"1 hour ago"})]})]})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:n("quick_stats")}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[m.jsx("span",{className:"text-gray-600",children:n("routes_efficiency")}),m.jsx("span",{className:"font-medium text-gray-900",children:"87%"})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"87%"}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[m.jsx("span",{className:"text-gray-600",children:n("fleet_utilization")}),m.jsx("span",{className:"font-medium text-gray-900",children:"72%"})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"72%"}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[m.jsx("span",{className:"text-gray-600",children:n("driver_availability")}),m.jsx("span",{className:"font-medium text-gray-900",children:"64%"})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:"64%"}})})]})]})]})]})]})},yC=()=>{const{t:n}=Rt(),e=Ks(),[r,i]=T.useState([]),[o,a]=T.useState([]),[u,h]=T.useState([]),[d,f]=T.useState(!1);T.useEffect(()=>{v()},[]);const v=async()=>{const[_,x,S]=await Promise.all([Ne.from("routes").select("*").order("created_at",{ascending:!1}).limit(10),Ne.from("vehicles").select("*"),Ne.from("drivers").select("*")]);_.data&&i(_.data),x.data&&a(x.data),S.data&&h(S.data)},y=_=>{switch(_){case"planned":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n("route_planning")}),m.jsx("p",{className:"text-gray-600 mt-1",children:n("create_and_optimize_routes")})]}),m.jsxs("button",{onClick:()=>e("/routes/create"),className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:[m.jsx(ud,{className:"w-5 h-5"}),m.jsx("span",{children:n("create_route")})]})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[m.jsx("div",{className:"p-6 border-b border-gray-100",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n("recent_routes")})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("route_name")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("status")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("distance")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("duration")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("fuel_cost")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("actions")})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:n("no_routes_found")})}):r.map(_=>m.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(Ws,{className:"w-5 h-5 text-gray-400 mr-3"}),m.jsx("span",{className:"font-medium text-gray-900",children:_.name})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${y(_.status)}`,children:n(_.status)})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[_.total_distance_km.toFixed(1)," ",n("km")]}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 flex items-center",children:[m.jsx(ld,{className:"w-4 h-4 text-gray-400 mr-2"}),_.estimated_duration_minutes," ",n("min")]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(A_,{className:"w-4 h-4 text-gray-400"}),_.estimated_fuel_cost.toFixed(2)]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:m.jsx("button",{onClick:()=>e(`/routes/${_.id}`),className:"text-blue-600 hover:text-blue-800 font-medium",children:n("view_details")})})]},_.id))})]})})]})]})};function $_(n,e){const r=T.useRef(e);T.useEffect(function(){e!==r.current&&n.attributionControl!=null&&(r.current!=null&&n.attributionControl.removeAttribution(r.current),e!=null&&n.attributionControl.addAttribution(e)),r.current=e},[n,e])}const _C=1;function wC(n){return Object.freeze({__version:_C,map:n})}function xC(n,e){return Object.freeze({...n,...e})}const hd=T.createContext(null);function D_(){const n=T.use(hd);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function bC(n){function e(r,i){const{instance:o,context:a}=n(r).current;T.useImperativeHandle(i,()=>o);const{children:u}=r;return u==null?null:Ru.createElement(hd,{value:a},u)}return T.forwardRef(e)}function SC(n){function e(r,i){const[o,a]=T.useState(!1),{instance:u}=n(r,a).current;T.useImperativeHandle(i,()=>u),T.useEffect(function(){o&&u.update()},[u,o,r.children]);const h=u._contentNode;return h?fy.createPortal(r.children,h):null}return T.forwardRef(e)}function kC(n){function e(r,i){const{instance:o}=n(r).current;return T.useImperativeHandle(i,()=>o),null}return T.forwardRef(e)}function z_(n,e){const r=T.useRef(void 0);T.useEffect(function(){return e!=null&&n.instance.on(e),r.current=e,function(){r.current!=null&&n.instance.off(r.current),r.current=null}},[n,e])}function dd(n,e){const r=n.pane??e.pane;return r?{...n,pane:r}:n}function PC(n,e){return function(i,o){const a=D_(),u=n(dd(i,a),a);return $_(a.map,i.attribution),z_(u.current,i.eventHandlers),e(u.current,a,i,o),u}}var Qc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,e){(function(r,i){i(e)})(fw,function(r){var i="1.9.4";function o(s){var l,c,p,g;for(c=1,p=arguments.length;c<p;c++){g=arguments[c];for(l in g)s[l]=g[l]}return s}var a=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function u(s,l){var c=Array.prototype.slice;if(s.bind)return s.bind.apply(s,c.call(arguments,1));var p=c.call(arguments,2);return function(){return s.apply(l,p.length?p.concat(c.call(arguments)):arguments)}}var h=0;function d(s){return"_leaflet_id"in s||(s._leaflet_id=++h),s._leaflet_id}function f(s,l,c){var p,g,w,C;return C=function(){p=!1,g&&(w.apply(c,g),g=!1)},w=function(){p?g=arguments:(s.apply(c,arguments),setTimeout(C,l),p=!0)},w}function v(s,l,c){var p=l[1],g=l[0],w=p-g;return s===p&&c?s:((s-g)%w+w)%w+g}function y(){return!1}function _(s,l){if(l===!1)return s;var c=Math.pow(10,l===void 0?6:l);return Math.round(s*c)/c}function x(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function S(s){return x(s).split(/\s+/)}function E(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?a(s.options):{});for(var c in l)s.options[c]=l[c];return s.options}function O(s,l,c){var p=[];for(var g in s)p.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(s[g]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function b(s,l){return s.replace(P,function(c,p){var g=l[p];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(l)),g})}var k=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function j(s,l){for(var c=0;c<s.length;c++)if(s[c]===l)return c;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var M=0;function U(s){var l=+new Date,c=Math.max(0,16-(l-M));return M=l+c,window.setTimeout(s,c)}var F=window.requestAnimationFrame||I("RequestAnimationFrame")||U,V=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function ae(s,l,c){if(c&&F===U)s.call(l);else return F.call(window,u(s,l))}function Oe(s){s&&V.call(window,s)}var He={__proto__:null,extend:o,create:a,bind:u,get lastId(){return h},stamp:d,throttle:f,wrapNum:v,falseFn:y,formatNum:_,trim:x,splitWords:S,setOptions:E,getParamString:O,template:b,isArray:k,indexOf:j,emptyImageUrl:A,requestFn:F,cancelFn:V,requestAnimFrame:ae,cancelAnimFrame:Oe};function xe(){}xe.extend=function(s){var l=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=l.__super__=this.prototype,p=a(c);p.constructor=l,l.prototype=p;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(l[g]=this[g]);return s.statics&&o(l,s.statics),s.includes&&(Pr(s.includes),o.apply(null,[p].concat(s.includes))),o(p,s),delete p.statics,delete p.includes,p.options&&(p.options=c.options?a(c.options):{},o(p.options,s.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,C=p._initHooks.length;w<C;w++)p._initHooks[w].call(this)}},l},xe.include=function(s){var l=this.prototype.options;return o(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},xe.mergeOptions=function(s){return o(this.prototype.options,s),this},xe.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),c=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Pr(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=k(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var fe={on:function(s,l,c){if(typeof s=="object")for(var p in s)this._on(p,s[p],l);else{s=S(s);for(var g=0,w=s.length;g<w;g++)this._on(s[g],l,c)}return this},off:function(s,l,c){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var p in s)this._off(p,s[p],l);else{s=S(s);for(var g=arguments.length===1,w=0,C=s.length;w<C;w++)g?this._off(s[w]):this._off(s[w],l,c)}return this},_on:function(s,l,c,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,c)===!1){c===this&&(c=void 0);var g={fn:l,ctx:c};p&&(g.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(g)}},_off:function(s,l,c){var p,g,w;if(this._events&&(p=this._events[s],!!p)){if(arguments.length===1){if(this._firingCount)for(g=0,w=p.length;g<w;g++)p[g].fn=y;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var C=this._listens(s,l,c);if(C!==!1){var N=p[C];this._firingCount&&(N.fn=y,this._events[s]=p=p.slice()),p.splice(C,1)}}},fire:function(s,l,c){if(!this.listens(s,c))return this;var p=o({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var g=this._events[s];if(g){this._firingCount=this._firingCount+1||1;for(var w=0,C=g.length;w<C;w++){var N=g[w],R=N.fn;N.once&&this.off(s,R,N.ctx),R.call(N.ctx||this,p)}this._firingCount--}}return c&&this._propagateEvent(p),this},listens:function(s,l,c,p){typeof s!="string"&&console.warn('"string" type argument expected');var g=l;typeof l!="function"&&(p=!!l,g=void 0,c=void 0);var w=this._events&&this._events[s];if(w&&w.length&&this._listens(s,g,c)!==!1)return!0;if(p){for(var C in this._eventParents)if(this._eventParents[C].listens(s,l,c,p))return!0}return!1},_listens:function(s,l,c){if(!this._events)return!1;var p=this._events[s]||[];if(!l)return!!p.length;c===this&&(c=void 0);for(var g=0,w=p.length;g<w;g++)if(p[g].fn===l&&p[g].ctx===c)return g;return!1},once:function(s,l,c){if(typeof s=="object")for(var p in s)this._on(p,s[p],l,!0);else{s=S(s);for(var g=0,w=s.length;g<w;g++)this._on(s[g],l,c,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[d(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[d(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,o({layer:s.target,propagatedFrom:s.target},s),!0)}};fe.addEventListener=fe.on,fe.removeEventListener=fe.clearAllEventListeners=fe.off,fe.addOneTimeEventListener=fe.once,fe.fireEvent=fe.fire,fe.hasEventListeners=fe.listens;var De=xe.extend(fe);function $(s,l,c){this.x=c?Math.round(s):s,this.y=c?Math.round(l):l}var J=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(s){return this.clone()._add(B(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(B(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new $(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new $(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=J(this.x),this.y=J(this.y),this},distanceTo:function(s){s=B(s);var l=s.x-this.x,c=s.y-this.y;return Math.sqrt(l*l+c*c)},equals:function(s){return s=B(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=B(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function B(s,l,c){return s instanceof $?s:k(s)?new $(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new $(s.x,s.y):new $(s,l,c)}function q(s,l){if(s)for(var c=l?[s,l]:s,p=0,g=c.length;p<g;p++)this.extend(c[p])}q.prototype={extend:function(s){var l,c;if(!s)return this;if(s instanceof $||typeof s[0]=="number"||"x"in s)l=c=B(s);else if(s=ne(s),l=s.min,c=s.max,!l||!c)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=c.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(s){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,c;return typeof s[0]=="number"||s instanceof $?s=B(s):s=ne(s),s instanceof q?(l=s.min,c=s.max):l=c=s,l.x>=this.min.x&&c.x<=this.max.x&&l.y>=this.min.y&&c.y<=this.max.y},intersects:function(s){s=ne(s);var l=this.min,c=this.max,p=s.min,g=s.max,w=g.x>=l.x&&p.x<=c.x,C=g.y>=l.y&&p.y<=c.y;return w&&C},overlaps:function(s){s=ne(s);var l=this.min,c=this.max,p=s.min,g=s.max,w=g.x>l.x&&p.x<c.x,C=g.y>l.y&&p.y<c.y;return w&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,c=this.max,p=Math.abs(l.x-c.x)*s,g=Math.abs(l.y-c.y)*s;return ne(B(l.x-p,l.y-g),B(c.x+p,c.y+g))},equals:function(s){return s?(s=ne(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ne(s,l){return!s||s instanceof q?s:new q(s,l)}function ye(s,l){if(s)for(var c=l?[s,l]:s,p=0,g=c.length;p<g;p++)this.extend(c[p])}ye.prototype={extend:function(s){var l=this._southWest,c=this._northEast,p,g;if(s instanceof oe)p=s,g=s;else if(s instanceof ye){if(p=s._southWest,g=s._northEast,!p||!g)return this}else return s?this.extend(ee(s)||he(s)):this;return!l&&!c?(this._southWest=new oe(p.lat,p.lng),this._northEast=new oe(g.lat,g.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(s){var l=this._southWest,c=this._northEast,p=Math.abs(l.lat-c.lat)*s,g=Math.abs(l.lng-c.lng)*s;return new ye(new oe(l.lat-p,l.lng-g),new oe(c.lat+p,c.lng+g))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof oe||"lat"in s?s=ee(s):s=he(s);var l=this._southWest,c=this._northEast,p,g;return s instanceof ye?(p=s.getSouthWest(),g=s.getNorthEast()):p=g=s,p.lat>=l.lat&&g.lat<=c.lat&&p.lng>=l.lng&&g.lng<=c.lng},intersects:function(s){s=he(s);var l=this._southWest,c=this._northEast,p=s.getSouthWest(),g=s.getNorthEast(),w=g.lat>=l.lat&&p.lat<=c.lat,C=g.lng>=l.lng&&p.lng<=c.lng;return w&&C},overlaps:function(s){s=he(s);var l=this._southWest,c=this._northEast,p=s.getSouthWest(),g=s.getNorthEast(),w=g.lat>l.lat&&p.lat<c.lat,C=g.lng>l.lng&&p.lng<c.lng;return w&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=he(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(s,l){return s instanceof ye?s:new ye(s,l)}function oe(s,l,c){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,c!==void 0&&(this.alt=+c)}oe.prototype={equals:function(s,l){if(!s)return!1;s=ee(s);var c=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return c<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+_(this.lat,s)+", "+_(this.lng,s)+")"},distanceTo:function(s){return kn.distance(this,ee(s))},wrap:function(){return kn.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,c=l/Math.cos(Math.PI/180*this.lat);return he([this.lat-l,this.lng-c],[this.lat+l,this.lng+c])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function ee(s,l,c){return s instanceof oe?s:k(s)&&typeof s[0]!="object"?s.length===3?new oe(s[0],s[1],s[2]):s.length===2?new oe(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new oe(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new oe(s,l,c)}var ut={latLngToPoint:function(s,l){var c=this.projection.project(s),p=this.scale(l);return this.transformation._transform(c,p)},pointToLatLng:function(s,l){var c=this.scale(l),p=this.transformation.untransform(s,c);return this.projection.unproject(p)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,c=this.scale(s),p=this.transformation.transform(l.min,c),g=this.transformation.transform(l.max,c);return new q(p,g)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?v(s.lng,this.wrapLng,!0):s.lng,c=this.wrapLat?v(s.lat,this.wrapLat,!0):s.lat,p=s.alt;return new oe(c,l,p)},wrapLatLngBounds:function(s){var l=s.getCenter(),c=this.wrapLatLng(l),p=l.lat-c.lat,g=l.lng-c.lng;if(p===0&&g===0)return s;var w=s.getSouthWest(),C=s.getNorthEast(),N=new oe(w.lat-p,w.lng-g),R=new oe(C.lat-p,C.lng-g);return new ye(N,R)}},kn=o({},ut,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var c=Math.PI/180,p=s.lat*c,g=l.lat*c,w=Math.sin((l.lat-s.lat)*c/2),C=Math.sin((l.lng-s.lng)*c/2),N=w*w+Math.cos(p)*Math.cos(g)*C*C,R=2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N));return this.R*R}}),md=6378137,dl={R:md,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,c=this.MAX_LATITUDE,p=Math.max(Math.min(c,s.lat),-c),g=Math.sin(p*l);return new $(this.R*s.lng*l,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(s){var l=180/Math.PI;return new oe((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=md*Math.PI;return new q([-s,-s],[s,s])}()};function fl(s,l,c,p){if(k(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=c,this._d=p}fl.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new $((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function Ni(s,l,c,p){return new fl(s,l,c,p)}var pl=o({},kn,{code:"EPSG:3857",projection:dl,transformation:function(){var s=.5/(Math.PI*dl.R);return Ni(s,.5,-s,.5)}()}),F_=o({},pl,{code:"EPSG:900913"});function gd(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function vd(s,l){var c="",p,g,w,C,N,R;for(p=0,w=s.length;p<w;p++){for(N=s[p],g=0,C=N.length;g<C;g++)R=N[g],c+=(g?"L":"M")+R.x+" "+R.y;c+=l?K.svg?"z":"x":""}return c||"M0 0"}var ml=document.documentElement.style,no="ActiveXObject"in window,H_=no&&!document.addEventListener,yd="msLaunchUri"in navigator&&!("documentMode"in document),gl=Gt("webkit"),_d=Gt("android"),wd=Gt("android 2")||Gt("android 3"),V_=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),W_=_d&&Gt("Google")&&V_<537&&!("AudioNode"in window),vl=!!window.opera,xd=!yd&&Gt("chrome"),bd=Gt("gecko")&&!gl&&!vl&&!no,Z_=!xd&&Gt("safari"),Sd=Gt("phantom"),kd="OTransition"in ml,q_=navigator.platform.indexOf("Win")===0,Pd=no&&"transition"in ml,yl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!wd,Ed="MozPerspective"in ml,K_=!window.L_DISABLE_3D&&(Pd||yl||Ed)&&!kd&&!Sd,Ri=typeof orientation<"u"||Gt("mobile"),G_=Ri&&gl,J_=Ri&&yl,Cd=!window.PointerEvent&&window.MSPointerEvent,Td=!!(window.PointerEvent||Cd),Od="ontouchstart"in window||!!window.TouchEvent,Q_=!window.L_NO_TOUCH&&(Od||Td),Y_=Ri&&vl,X_=Ri&&bd,e0=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,t0=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",y,l),window.removeEventListener("testPassiveEventSupport",y,l)}catch{}return s}(),n0=function(){return!!document.createElement("canvas").getContext}(),_l=!!(document.createElementNS&&gd("svg").createSVGRect),r0=!!_l&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),i0=!_l&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),s0=navigator.platform.indexOf("Mac")===0,o0=navigator.platform.indexOf("Linux")===0;function Gt(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var K={ie:no,ielt9:H_,edge:yd,webkit:gl,android:_d,android23:wd,androidStock:W_,opera:vl,chrome:xd,gecko:bd,safari:Z_,phantom:Sd,opera12:kd,win:q_,ie3d:Pd,webkit3d:yl,gecko3d:Ed,any3d:K_,mobile:Ri,mobileWebkit:G_,mobileWebkit3d:J_,msPointer:Cd,pointer:Td,touch:Q_,touchNative:Od,mobileOpera:Y_,mobileGecko:X_,retina:e0,passiveEvents:t0,canvas:n0,svg:_l,vml:i0,inlineSvg:r0,mac:s0,linux:o0},jd=K.msPointer?"MSPointerDown":"pointerdown",Ld=K.msPointer?"MSPointerMove":"pointermove",Nd=K.msPointer?"MSPointerUp":"pointerup",Rd=K.msPointer?"MSPointerCancel":"pointercancel",wl={touchstart:jd,touchmove:Ld,touchend:Nd,touchcancel:Rd},Id={touchstart:d0,touchmove:ro,touchend:ro,touchcancel:ro},Er={},Ad=!1;function a0(s,l,c){return l==="touchstart"&&h0(),Id[l]?(c=Id[l].bind(this,c),s.addEventListener(wl[l],c,!1),c):(console.warn("wrong event specified:",l),y)}function l0(s,l,c){if(!wl[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(wl[l],c,!1)}function u0(s){Er[s.pointerId]=s}function c0(s){Er[s.pointerId]&&(Er[s.pointerId]=s)}function Md(s){delete Er[s.pointerId]}function h0(){Ad||(document.addEventListener(jd,u0,!0),document.addEventListener(Ld,c0,!0),document.addEventListener(Nd,Md,!0),document.addEventListener(Rd,Md,!0),Ad=!0)}function ro(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var c in Er)l.touches.push(Er[c]);l.changedTouches=[l],s(l)}}function d0(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&qe(l),ro(s,l)}function f0(s){var l={},c,p;for(p in s)c=s[p],l[p]=c&&c.bind?c.bind(s):c;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var p0=200;function m0(s,l){s.addEventListener("dblclick",l);var c=0,p;function g(w){if(w.detail!==1){p=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var C=Ud(w);if(!(C.some(function(R){return R instanceof HTMLLabelElement&&R.attributes.for})&&!C.some(function(R){return R instanceof HTMLInputElement||R instanceof HTMLSelectElement}))){var N=Date.now();N-c<=p0?(p++,p===2&&l(f0(w))):p=1,c=N}}}return s.addEventListener("click",g),{dblclick:l,simDblclick:g}}function g0(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var xl=oo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ii=oo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),$d=Ii==="webkitTransition"||Ii==="OTransition"?Ii+"End":"transitionend";function Dd(s){return typeof s=="string"?document.getElementById(s):s}function Ai(s,l){var c=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!c||c==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(s,null);c=p?p[l]:null}return c==="auto"?null:c}function ce(s,l,c){var p=document.createElement(s);return p.className=l||"",c&&c.appendChild(p),p}function ke(s){var l=s.parentNode;l&&l.removeChild(s)}function io(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Cr(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function Tr(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function bl(s,l){if(s.classList!==void 0)return s.classList.contains(l);var c=so(s);return c.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(c)}function re(s,l){if(s.classList!==void 0)for(var c=S(l),p=0,g=c.length;p<g;p++)s.classList.add(c[p]);else if(!bl(s,l)){var w=so(s);Sl(s,(w?w+" ":"")+l)}}function Le(s,l){s.classList!==void 0?s.classList.remove(l):Sl(s,x((" "+so(s)+" ").replace(" "+l+" "," ")))}function Sl(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function so(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function kt(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&v0(s,l)}function v0(s,l){var c=!1,p="DXImageTransform.Microsoft.Alpha";try{c=s.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),c?(c.Enabled=l!==100,c.Opacity=l):s.style.filter+=" progid:"+p+"(opacity="+l+")"}function oo(s){for(var l=document.documentElement.style,c=0;c<s.length;c++)if(s[c]in l)return s[c];return!1}function Yn(s,l,c){var p=l||new $(0,0);s.style[xl]=(K.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(c?" scale("+c+")":"")}function Ie(s,l){s._leaflet_pos=l,K.any3d?Yn(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function Xn(s){return s._leaflet_pos||new $(0,0)}var Mi,$i,kl;if("onselectstart"in document)Mi=function(){te(window,"selectstart",qe)},$i=function(){me(window,"selectstart",qe)};else{var Di=oo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mi=function(){if(Di){var s=document.documentElement.style;kl=s[Di],s[Di]="none"}},$i=function(){Di&&(document.documentElement.style[Di]=kl,kl=void 0)}}function Pl(){te(window,"dragstart",qe)}function El(){me(window,"dragstart",qe)}var ao,Cl;function Tl(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(lo(),ao=s,Cl=s.style.outlineStyle,s.style.outlineStyle="none",te(window,"keydown",lo))}function lo(){ao&&(ao.style.outlineStyle=Cl,ao=void 0,Cl=void 0,me(window,"keydown",lo))}function zd(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ol(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var y0={__proto__:null,TRANSFORM:xl,TRANSITION:Ii,TRANSITION_END:$d,get:Dd,getStyle:Ai,create:ce,remove:ke,empty:io,toFront:Cr,toBack:Tr,hasClass:bl,addClass:re,removeClass:Le,setClass:Sl,getClass:so,setOpacity:kt,testProp:oo,setTransform:Yn,setPosition:Ie,getPosition:Xn,get disableTextSelection(){return Mi},get enableTextSelection(){return $i},disableImageDrag:Pl,enableImageDrag:El,preventOutline:Tl,restoreOutline:lo,getSizedParentNode:zd,getScale:Ol};function te(s,l,c,p){if(l&&typeof l=="object")for(var g in l)Ll(s,g,l[g],c);else{l=S(l);for(var w=0,C=l.length;w<C;w++)Ll(s,l[w],c,p)}return this}var Jt="_leaflet_events";function me(s,l,c,p){if(arguments.length===1)Bd(s),delete s[Jt];else if(l&&typeof l=="object")for(var g in l)Nl(s,g,l[g],c);else if(l=S(l),arguments.length===2)Bd(s,function(N){return j(l,N)!==-1});else for(var w=0,C=l.length;w<C;w++)Nl(s,l[w],c,p);return this}function Bd(s,l){for(var c in s[Jt]){var p=c.split(/\d/)[0];(!l||l(p))&&Nl(s,p,null,null,c)}}var jl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ll(s,l,c,p){var g=l+d(c)+(p?"_"+d(p):"");if(s[Jt]&&s[Jt][g])return this;var w=function(N){return c.call(p||s,N||window.event)},C=w;!K.touchNative&&K.pointer&&l.indexOf("touch")===0?w=a0(s,l,w):K.touch&&l==="dblclick"?w=m0(s,w):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(jl[l]||l,w,K.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(w=function(N){N=N||window.event,Il(s,N)&&C(N)},s.addEventListener(jl[l],w,!1)):s.addEventListener(l,C,!1):s.attachEvent("on"+l,w),s[Jt]=s[Jt]||{},s[Jt][g]=w}function Nl(s,l,c,p,g){g=g||l+d(c)+(p?"_"+d(p):"");var w=s[Jt]&&s[Jt][g];if(!w)return this;!K.touchNative&&K.pointer&&l.indexOf("touch")===0?l0(s,l,w):K.touch&&l==="dblclick"?g0(s,w):"removeEventListener"in s?s.removeEventListener(jl[l]||l,w,!1):s.detachEvent("on"+l,w),s[Jt][g]=null}function er(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Rl(s){return Ll(s,"wheel",er),this}function zi(s){return te(s,"mousedown touchstart dblclick contextmenu",er),s._leaflet_disable_click=!0,this}function qe(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function tr(s){return qe(s),er(s),this}function Ud(s){if(s.composedPath)return s.composedPath();for(var l=[],c=s.target;c;)l.push(c),c=c.parentNode;return l}function Fd(s,l){if(!l)return new $(s.clientX,s.clientY);var c=Ol(l),p=c.boundingClientRect;return new $((s.clientX-p.left)/c.x-l.clientLeft,(s.clientY-p.top)/c.y-l.clientTop)}var _0=K.linux&&K.chrome?window.devicePixelRatio:K.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Hd(s){return K.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/_0:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Il(s,l){var c=l.relatedTarget;if(!c)return!0;try{for(;c&&c!==s;)c=c.parentNode}catch{return!1}return c!==s}var w0={__proto__:null,on:te,off:me,stopPropagation:er,disableScrollPropagation:Rl,disableClickPropagation:zi,preventDefault:qe,stop:tr,getPropagationPath:Ud,getMousePosition:Fd,getWheelDelta:Hd,isExternalTarget:Il,addListener:te,removeListener:me},Vd=De.extend({run:function(s,l,c,p){this.stop(),this._el=s,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Xn(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ae(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,c=this._duration*1e3;l<c?this._runFrame(this._easeOut(l/c),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var c=this._startPos.add(this._offset.multiplyBy(s));l&&c._round(),Ie(this._el,c),this.fire("step")},_complete:function(){Oe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),le=De.extend({options:{crs:pl,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=E(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ee(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ii&&K.any3d&&!K.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),te(this._proxy,$d,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,c){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(ee(s),l,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=o({animate:c.animate},c.zoom),c.pan=o({animate:c.animate,duration:c.duration},c.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,c.zoom):this._tryAnimatedPan(s,c.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,c.pan&&c.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(K.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(K.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,c){var p=this.getZoomScale(l),g=this.getSize().divideBy(2),w=s instanceof $?s:this.latLngToContainerPoint(s),C=w.subtract(g).multiplyBy(1-1/p),N=this.containerPointToLatLng(g.add(C));return this.setView(N,l,{zoom:c})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():he(s);var c=B(l.paddingTopLeft||l.padding||[0,0]),p=B(l.paddingBottomRight||l.padding||[0,0]),g=this.getBoundsZoom(s,!1,c.add(p));if(g=typeof l.maxZoom=="number"?Math.min(l.maxZoom,g):g,g===1/0)return{center:s.getCenter(),zoom:g};var w=p.subtract(c).divideBy(2),C=this.project(s.getSouthWest(),g),N=this.project(s.getNorthEast(),g),R=this.unproject(C.add(N).divideBy(2).add(w),g);return{center:R,zoom:g}},fitBounds:function(s,l){if(s=he(s),!s.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(s,l);return this.setView(c.center,c.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=B(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){re(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,c,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,c){if(c=c||{},c.animate===!1||!K.any3d)return this.setView(s,l,c);this._stop();var p=this.project(this.getCenter()),g=this.project(s),w=this.getSize(),C=this._zoom;s=ee(s),l=l===void 0?C:l;var N=Math.max(w.x,w.y),R=N*this.getZoomScale(C,l),D=g.distanceTo(p)||1,H=1.42,Q=H*H;function ie(Ae){var xo=Ae?-1:1,lw=Ae?R:N,uw=R*R-N*N+xo*Q*Q*D*D,cw=2*lw*Q*D,Wl=uw/cw,Pf=Math.sqrt(Wl*Wl+1)-Wl,hw=Pf<1e-9?-18:Math.log(Pf);return hw}function rt(Ae){return(Math.exp(Ae)-Math.exp(-Ae))/2}function Ve(Ae){return(Math.exp(Ae)+Math.exp(-Ae))/2}function Et(Ae){return rt(Ae)/Ve(Ae)}var ct=ie(0);function Ir(Ae){return N*(Ve(ct)/Ve(ct+H*Ae))}function iw(Ae){return N*(Ve(ct)*Et(ct+H*Ae)-rt(ct))/Q}function sw(Ae){return 1-Math.pow(1-Ae,1.5)}var ow=Date.now(),Sf=(ie(1)-ct)/H,aw=c.duration?1e3*c.duration:1e3*Sf*.8;function kf(){var Ae=(Date.now()-ow)/aw,xo=sw(Ae)*Sf;Ae<=1?(this._flyToFrame=ae(kf,this),this._move(this.unproject(p.add(g.subtract(p).multiplyBy(iw(xo)/D)),C),this.getScaleZoom(N/Ir(xo),C),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),kf.call(this),this},flyToBounds:function(s,l){var c=this._getBoundsCenterZoom(s,l);return this.flyTo(c.center,c.zoom,l)},setMaxBounds:function(s){return s=he(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var c=this.getCenter(),p=this._limitCenter(c,this._zoom,he(s));return c.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var c=B(l.paddingTopLeft||l.padding||[0,0]),p=B(l.paddingBottomRight||l.padding||[0,0]),g=this.project(this.getCenter()),w=this.project(s),C=this.getPixelBounds(),N=ne([C.min.add(c),C.max.subtract(p)]),R=N.getSize();if(!N.contains(w)){this._enforcingBounds=!0;var D=w.subtract(N.getCenter()),H=N.extend(w).getSize().subtract(R);g.x+=D.x<0?-H.x:H.x,g.y+=D.y<0?-H.y:H.y,this.panTo(this.unproject(g),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=o({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),p=l.divideBy(2).round(),g=c.divideBy(2).round(),w=p.subtract(g);return!w.x&&!w.y?this:(s.animate&&s.pan?this.panBy(w):(s.pan&&this._rawPanBy(w),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=o({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=u(this._handleGeolocationResponse,this),c=u(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,c,s):navigator.geolocation.getCurrentPosition(l,c,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,c=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,c=s.coords.longitude,p=new oe(l,c),g=p.toBounds(s.coords.accuracy*2),w=this._locateOptions;if(w.setView){var C=this.getBoundsZoom(g);this.setView(p,w.maxZoom?Math.min(C,w.maxZoom):C)}var N={latlng:p,bounds:g,timestamp:s.timestamp};for(var R in s.coords)typeof s.coords[R]=="number"&&(N[R]=s.coords[R]);this.fire("locationfound",N)}},addHandler:function(s,l){if(!l)return this;var c=this[s]=new l(this);return this._handlers.push(c),this.options[s]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ke(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Oe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)ke(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var c="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),p=ce("div",c,l||this._mapPane);return s&&(this._panes[s]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),c=this.unproject(s.getTopRight());return new ye(l,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,c){s=he(s),c=B(c||[0,0]);var p=this.getZoom()||0,g=this.getMinZoom(),w=this.getMaxZoom(),C=s.getNorthWest(),N=s.getSouthEast(),R=this.getSize().subtract(c),D=ne(this.project(N,p),this.project(C,p)).getSize(),H=K.any3d?this.options.zoomSnap:1,Q=R.x/D.x,ie=R.y/D.y,rt=l?Math.max(Q,ie):Math.min(Q,ie);return p=this.getScaleZoom(rt,p),H&&(p=Math.round(p/(H/100))*(H/100),p=l?Math.ceil(p/H)*H:Math.floor(p/H)*H),Math.max(g,Math.min(w,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var c=this._getTopLeftPoint(s,l);return new q(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var c=this.options.crs;return l=l===void 0?this._zoom:l,c.scale(s)/c.scale(l)},getScaleZoom:function(s,l){var c=this.options.crs;l=l===void 0?this._zoom:l;var p=c.zoom(s*c.scale(l));return isNaN(p)?1/0:p},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ee(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(B(s),l)},layerPointToLatLng:function(s){var l=B(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(ee(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ee(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(he(s))},distance:function(s,l){return this.options.crs.distance(ee(s),ee(l))},containerPointToLayerPoint:function(s){return B(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return B(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(B(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ee(s)))},mouseEventToContainerPoint:function(s){return Fd(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=Dd(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");te(l,"scroll",this._onScroll,this),this._containerId=d(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&K.any3d,re(s,"leaflet-container"+(K.touch?" leaflet-touch":"")+(K.retina?" leaflet-retina":"")+(K.ielt9?" leaflet-oldie":"")+(K.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ai(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ie(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(re(s.markerPane,"leaflet-zoom-hide"),re(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,c){Ie(this._mapPane,new $(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var g=this._zoom!==l;this._moveStart(g,c)._move(s,l)._moveEnd(g),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,c,p){l===void 0&&(l=this._zoom);var g=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),p?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Oe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Ie(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[d(this._container)]=this;var l=s?me:te;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),K.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Oe(this._resizeRequest),this._resizeRequest=ae(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var c=[],p,g=l==="mouseout"||l==="mouseover",w=s.target||s.srcElement,C=!1;w;){if(p=this._targets[d(w)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){C=!0;break}if(p&&p.listens(l,!0)&&(g&&!Il(w,s)||(c.push(p),g))||w===this._container)break;w=w.parentNode}return!c.length&&!C&&!g&&this.listens(l,!0)&&(c=[this]),c},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var c=s.type;c==="mousedown"&&Tl(l),this._fireDOMEvent(s,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,c){if(s.type==="click"){var p=o({},s);p.type="preclick",this._fireDOMEvent(p,p.type,c)}var g=this._findEventTargets(s,l);if(c){for(var w=[],C=0;C<c.length;C++)c[C].listens(l,!0)&&w.push(c[C]);g=w.concat(g)}if(g.length){l==="contextmenu"&&qe(s);var N=g[0],R={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var D=N.getLatLng&&(!N._radius||N._radius<=10);R.containerPoint=D?this.latLngToContainerPoint(N.getLatLng()):this.mouseEventToContainerPoint(s),R.layerPoint=this.containerPointToLayerPoint(R.containerPoint),R.latlng=D?N.getLatLng():this.layerPointToLatLng(R.layerPoint)}for(C=0;C<g.length;C++)if(g[C].fire(l,R,!0),R.originalEvent._stopped||g[C].options.bubblingMouseEvents===!1&&j(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return Xn(this._mapPane)||new $(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var c=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var c=this.getSize()._divideBy(2);return this.project(s,l)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,c){var p=this._getNewPixelOrigin(c,l);return this.project(s,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(s,l,c){var p=this._getNewPixelOrigin(c,l);return ne([this.project(s.getSouthWest(),l)._subtract(p),this.project(s.getNorthWest(),l)._subtract(p),this.project(s.getSouthEast(),l)._subtract(p),this.project(s.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,c){if(!c)return s;var p=this.project(s,l),g=this.getSize().divideBy(2),w=new q(p.subtract(g),p.add(g)),C=this._getBoundsOffset(w,c,l);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?s:this.unproject(p.add(C),l)},_limitOffset:function(s,l){if(!l)return s;var c=this.getPixelBounds(),p=new q(c.min.add(s),c.max.add(s));return s.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(s,l,c){var p=ne(this.project(l.getNorthEast(),c),this.project(l.getSouthWest(),c)),g=p.min.subtract(s.min),w=p.max.subtract(s.max),C=this._rebound(g.x,-w.x),N=this._rebound(g.y,-w.y);return new $(C,N)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),c=this.getMaxZoom(),p=K.any3d?this.options.zoomSnap:1;return p&&(s=Math.round(s/p)*p),Math.max(l,Math.min(c,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var c=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,l),!0)},_createAnimProxy:function(){var s=this._proxy=ce("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var c=xl,p=this._proxy.style[c];Yn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ke(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Yn(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),g=this._getCenterOffset(s)._divideBy(1-1/p);return c.animate!==!0&&!this.getSize().contains(g)?!1:(ae(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,c,p){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,re(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function x0(s,l){return new le(s,l)}var It=xe.extend({options:{position:"topright"},initialize:function(s){E(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),c=this.getPosition(),p=s._controlCorners[c];return re(l,"leaflet-control"),c.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ke(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Bi=function(s){return new It(s)};le.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",c=this._controlContainer=ce("div",l+"control-container",this._container);function p(g,w){var C=l+g+" "+l+w;s[g+w]=ce("div",C,c)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)ke(this._controlCorners[s]);ke(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Wd=It.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,c,p){return c<p?-1:p<c?1:0}},initialize:function(s,l,c){E(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in s)this._addLayer(s[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return It.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(d(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){re(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(re(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=ce("div",s),c=this.options.collapsed;l.setAttribute("aria-haspopup",!0),zi(l),Rl(l);var p=this._section=ce("section",s+"-list");c&&(this._map.on("click",this.collapse,this),te(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=ce("a",s+"-toggle",l);g.href="#",g.title="Layers",g.setAttribute("role","button"),te(g,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){qe(w),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=ce("div",s+"-base",p),this._separator=ce("div",s+"-separator",p),this._overlaysList=ce("div",s+"-overlays",p),l.appendChild(p)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&d(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,c){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:c}),this.options.sortLayers&&this._layers.sort(u(function(p,g){return this.options.sortFunction(p.layer,g.layer,p.name,g.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;io(this._baseLayersList),io(this._overlaysList),this._layerControlInputs=[];var s,l,c,p,g=0;for(c=0;c<this._layers.length;c++)p=this._layers[c],this._addItem(p),l=l||p.overlay,s=s||!p.overlay,g+=p.overlay?0:1;return this.options.hideSingleBase&&(s=s&&g>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(d(s.target)),c=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;c&&this._map.fire(c,l)},_createRadioElement:function(s,l){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=c,p.firstChild},_addItem:function(s){var l=document.createElement("label"),c=this._map.hasLayer(s.layer),p;s.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=c):p=this._createRadioElement("leaflet-base-layers_"+d(this),c),this._layerControlInputs.push(p),p.layerId=d(s.layer),te(p,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+s.name;var w=document.createElement("span");l.appendChild(w),w.appendChild(p),w.appendChild(g);var C=s.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,c,p=[],g=[];this._handlingClick=!0;for(var w=s.length-1;w>=0;w--)l=s[w],c=this._getLayer(l.layerId).layer,l.checked?p.push(c):l.checked||g.push(c);for(w=0;w<g.length;w++)this._map.hasLayer(g[w])&&this._map.removeLayer(g[w]);for(w=0;w<p.length;w++)this._map.hasLayer(p[w])||this._map.addLayer(p[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,c,p=this._map.getZoom(),g=s.length-1;g>=0;g--)l=s[g],c=this._getLayer(l.layerId).layer,l.disabled=c.options.minZoom!==void 0&&p<c.options.minZoom||c.options.maxZoom!==void 0&&p>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,te(s,"click",qe),this.expand();var l=this;setTimeout(function(){me(s,"click",qe),l._preventClick=!1})}}),b0=function(s,l,c){return new Wd(s,l,c)},Al=It.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",c=ce("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",c,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,c,p,g){var w=ce("a",c,p);return w.innerHTML=s,w.href="#",w.title=l,w.setAttribute("role","button"),w.setAttribute("aria-label",l),zi(w),te(w,"click",tr),te(w,"click",g,this),te(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";Le(this._zoomInButton,l),Le(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(re(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(re(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});le.mergeOptions({zoomControl:!0}),le.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Al,this.addControl(this.zoomControl))});var S0=function(s){return new Al(s)},Zd=It.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",c=ce("div",l),p=this.options;return this._addScales(p,l+"-line",c),s.on(p.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),c},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,c){s.metric&&(this._mScale=ce("div",l,c)),s.imperial&&(this._iScale=ce("div",l,c))},_update:function(){var s=this._map,l=s.getSize().y/2,c=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(c)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),c=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,c,l/s)},_updateImperial:function(s){var l=s*3.2808399,c,p,g;l>5280?(c=l/5280,p=this._getRoundNum(c),this._updateScale(this._iScale,p+" mi",p/c)):(g=this._getRoundNum(l),this._updateScale(this._iScale,g+" ft",g/l))},_updateScale:function(s,l,c){s.style.width=Math.round(this.options.maxWidth*c)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),c=s/l;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,l*c}}),k0=function(s){return new Zd(s)},P0='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ml=It.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(K.inlineSvg?P0+" ":"")+"Leaflet</a>"},initialize:function(s){E(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=ce("div","leaflet-control-attribution"),zi(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var c=[];this.options.prefix&&c.push(this.options.prefix),s.length&&c.push(s.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});le.mergeOptions({attributionControl:!0}),le.addInitHook(function(){this.options.attributionControl&&new Ml().addTo(this)});var E0=function(s){return new Ml(s)};It.Layers=Wd,It.Zoom=Al,It.Scale=Zd,It.Attribution=Ml,Bi.layers=b0,Bi.zoom=S0,Bi.scale=k0,Bi.attribution=E0;var Qt=xe.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qt.addTo=function(s,l){return s.addHandler(l,this),this};var C0={Events:fe},qd=K.touch?"touchstart mousedown":"mousedown",Pn=De.extend({options:{clickTolerance:3},initialize:function(s,l,c,p){E(this,p),this._element=s,this._dragStartTarget=l||s,this._preventOutline=c},enable:function(){this._enabled||(te(this._dragStartTarget,qd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pn._dragging===this&&this.finishDrag(!0),me(this._dragStartTarget,qd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!bl(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Pn._dragging===this&&this.finishDrag();return}if(!(Pn._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Pn._dragging=this,this._preventOutline&&Tl(this._element),Pl(),Mi(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,c=zd(this._element);this._startPoint=new $(l.clientX,l.clientY),this._startPos=Xn(this._element),this._parentScale=Ol(c);var p=s.type==="mousedown";te(document,p?"mousemove":"touchmove",this._onMove,this),te(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,c=new $(l.clientX,l.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,qe(s),this._moved||(this.fire("dragstart"),this._moved=!0,re(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),re(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Ie(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),me(document,"mousemove touchmove",this._onMove,this),me(document,"mouseup touchend touchcancel",this._onUp,this),El(),$i();var l=this._moved&&this._moving;this._moving=!1,Pn._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Kd(s,l,c){var p,g=[1,4,2,8],w,C,N,R,D,H,Q,ie;for(w=0,H=s.length;w<H;w++)s[w]._code=nr(s[w],l);for(N=0;N<4;N++){for(Q=g[N],p=[],w=0,H=s.length,C=H-1;w<H;C=w++)R=s[w],D=s[C],R._code&Q?D._code&Q||(ie=uo(D,R,Q,l,c),ie._code=nr(ie,l),p.push(ie)):(D._code&Q&&(ie=uo(D,R,Q,l,c),ie._code=nr(ie,l),p.push(ie)),p.push(R));s=p}return s}function Gd(s,l){var c,p,g,w,C,N,R,D,H;if(!s||s.length===0)throw new Error("latlngs not passed");Pt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Q=ee([0,0]),ie=he(s),rt=ie.getNorthWest().distanceTo(ie.getSouthWest())*ie.getNorthEast().distanceTo(ie.getNorthWest());rt<1700&&(Q=$l(s));var Ve=s.length,Et=[];for(c=0;c<Ve;c++){var ct=ee(s[c]);Et.push(l.project(ee([ct.lat-Q.lat,ct.lng-Q.lng])))}for(N=R=D=0,c=0,p=Ve-1;c<Ve;p=c++)g=Et[c],w=Et[p],C=g.y*w.x-w.y*g.x,R+=(g.x+w.x)*C,D+=(g.y+w.y)*C,N+=C*3;N===0?H=Et[0]:H=[R/N,D/N];var Ir=l.unproject(B(H));return ee([Ir.lat+Q.lat,Ir.lng+Q.lng])}function $l(s){for(var l=0,c=0,p=0,g=0;g<s.length;g++){var w=ee(s[g]);l+=w.lat,c+=w.lng,p++}return ee([l/p,c/p])}var T0={__proto__:null,clipPolygon:Kd,polygonCenter:Gd,centroid:$l};function Jd(s,l){if(!l||!s.length)return s.slice();var c=l*l;return s=L0(s,c),s=j0(s,c),s}function Qd(s,l,c){return Math.sqrt(Ui(s,l,c,!0))}function O0(s,l,c){return Ui(s,l,c)}function j0(s,l){var c=s.length,p=typeof Uint8Array<"u"?Uint8Array:Array,g=new p(c);g[0]=g[c-1]=1,Dl(s,g,l,0,c-1);var w,C=[];for(w=0;w<c;w++)g[w]&&C.push(s[w]);return C}function Dl(s,l,c,p,g){var w=0,C,N,R;for(N=p+1;N<=g-1;N++)R=Ui(s[N],s[p],s[g],!0),R>w&&(C=N,w=R);w>c&&(l[C]=1,Dl(s,l,c,p,C),Dl(s,l,c,C,g))}function L0(s,l){for(var c=[s[0]],p=1,g=0,w=s.length;p<w;p++)N0(s[p],s[g])>l&&(c.push(s[p]),g=p);return g<w-1&&c.push(s[w-1]),c}var Yd;function Xd(s,l,c,p,g){var w=p?Yd:nr(s,c),C=nr(l,c),N,R,D;for(Yd=C;;){if(!(w|C))return[s,l];if(w&C)return!1;N=w||C,R=uo(s,l,N,c,g),D=nr(R,c),N===w?(s=R,w=D):(l=R,C=D)}}function uo(s,l,c,p,g){var w=l.x-s.x,C=l.y-s.y,N=p.min,R=p.max,D,H;return c&8?(D=s.x+w*(R.y-s.y)/C,H=R.y):c&4?(D=s.x+w*(N.y-s.y)/C,H=N.y):c&2?(D=R.x,H=s.y+C*(R.x-s.x)/w):c&1&&(D=N.x,H=s.y+C*(N.x-s.x)/w),new $(D,H,g)}function nr(s,l){var c=0;return s.x<l.min.x?c|=1:s.x>l.max.x&&(c|=2),s.y<l.min.y?c|=4:s.y>l.max.y&&(c|=8),c}function N0(s,l){var c=l.x-s.x,p=l.y-s.y;return c*c+p*p}function Ui(s,l,c,p){var g=l.x,w=l.y,C=c.x-g,N=c.y-w,R=C*C+N*N,D;return R>0&&(D=((s.x-g)*C+(s.y-w)*N)/R,D>1?(g=c.x,w=c.y):D>0&&(g+=C*D,w+=N*D)),C=s.x-g,N=s.y-w,p?C*C+N*N:new $(g,w)}function Pt(s){return!k(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ef(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pt(s)}function tf(s,l){var c,p,g,w,C,N,R,D;if(!s||s.length===0)throw new Error("latlngs not passed");Pt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var H=ee([0,0]),Q=he(s),ie=Q.getNorthWest().distanceTo(Q.getSouthWest())*Q.getNorthEast().distanceTo(Q.getNorthWest());ie<1700&&(H=$l(s));var rt=s.length,Ve=[];for(c=0;c<rt;c++){var Et=ee(s[c]);Ve.push(l.project(ee([Et.lat-H.lat,Et.lng-H.lng])))}for(c=0,p=0;c<rt-1;c++)p+=Ve[c].distanceTo(Ve[c+1])/2;if(p===0)D=Ve[0];else for(c=0,w=0;c<rt-1;c++)if(C=Ve[c],N=Ve[c+1],g=C.distanceTo(N),w+=g,w>p){R=(w-p)/g,D=[N.x-R*(N.x-C.x),N.y-R*(N.y-C.y)];break}var ct=l.unproject(B(D));return ee([ct.lat+H.lat,ct.lng+H.lng])}var R0={__proto__:null,simplify:Jd,pointToSegmentDistance:Qd,closestPointOnSegment:O0,clipSegment:Xd,_getEdgeIntersection:uo,_getBitCode:nr,_sqClosestPointOnSegment:Ui,isFlat:Pt,_flat:ef,polylineCenter:tf},zl={project:function(s){return new $(s.lng,s.lat)},unproject:function(s){return new oe(s.y,s.x)},bounds:new q([-180,-90],[180,90])},Bl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,c=this.R,p=s.lat*l,g=this.R_MINOR/c,w=Math.sqrt(1-g*g),C=w*Math.sin(p),N=Math.tan(Math.PI/4-p/2)/Math.pow((1-C)/(1+C),w/2);return p=-c*Math.log(Math.max(N,1e-10)),new $(s.lng*l*c,p)},unproject:function(s){for(var l=180/Math.PI,c=this.R,p=this.R_MINOR/c,g=Math.sqrt(1-p*p),w=Math.exp(-s.y/c),C=Math.PI/2-2*Math.atan(w),N=0,R=.1,D;N<15&&Math.abs(R)>1e-7;N++)D=g*Math.sin(C),D=Math.pow((1-D)/(1+D),g/2),R=Math.PI/2-2*Math.atan(w*D)-C,C+=R;return new oe(C*l,s.x*l/c)}},I0={__proto__:null,LonLat:zl,Mercator:Bl,SphericalMercator:dl},A0=o({},kn,{code:"EPSG:3395",projection:Bl,transformation:function(){var s=.5/(Math.PI*Bl.R);return Ni(s,.5,-s,.5)}()}),nf=o({},kn,{code:"EPSG:4326",projection:zl,transformation:Ni(1/180,1,-1/180,.5)}),M0=o({},ut,{projection:zl,transformation:Ni(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var c=l.lng-s.lng,p=l.lat-s.lat;return Math.sqrt(c*c+p*p)},infinite:!0});ut.Earth=kn,ut.EPSG3395=A0,ut.EPSG3857=pl,ut.EPSG900913=F_,ut.EPSG4326=nf,ut.Simple=M0;var At=De.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[d(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[d(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var c=this.getEvents();l.on(c,this),this.once("remove",function(){l.off(c,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});le.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=d(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=d(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return d(s)in this._layers},eachLayer:function(s,l){for(var c in this._layers)s.call(l,this._layers[c]);return this},_addLayers:function(s){s=s?k(s)?s:[s]:[];for(var l=0,c=s.length;l<c;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[d(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=d(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,c=this._getZoomSpan();for(var p in this._zoomBoundLayers){var g=this._zoomBoundLayers[p].options;s=g.minZoom===void 0?s:Math.min(s,g.minZoom),l=g.maxZoom===void 0?l:Math.max(l,g.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Or=At.extend({initialize:function(s,l){E(this,l),this._layers={};var c,p;if(s)for(c=0,p=s.length;c<p;c++)this.addLayer(s[c])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),c,p;for(c in this._layers)p=this._layers[c],p[s]&&p[s].apply(p,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var c in this._layers)s.call(l,this._layers[c]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return d(s)}}),$0=function(s,l){return new Or(s,l)},an=Or.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Or.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Or.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ye;for(var l in this._layers){var c=this._layers[l];s.extend(c.getBounds?c.getBounds():c.getLatLng())}return s}}),D0=function(s,l){return new an(s,l)},jr=xe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){E(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var c=this._getIconUrl(s);if(!c){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(c,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(s,l){var c=this.options,p=c[l+"Size"];typeof p=="number"&&(p=[p,p]);var g=B(p),w=B(l==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(c.className||""),w&&(s.style.marginLeft=-w.x+"px",s.style.marginTop=-w.y+"px"),g&&(s.style.width=g.x+"px",s.style.height=g.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return K.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function z0(s){return new jr(s)}var Fi=jr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Fi.imagePath!="string"&&(Fi.imagePath=this._detectIconPath()),(this.options.imagePath||Fi.imagePath)+jr.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(c,p,g){var w=p.exec(c);return w&&w[g]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ce("div","leaflet-default-icon-path",document.body),l=Ai(s,"background-image")||Ai(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),rf=Qt.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Pn(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),re(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,c=l._map,p=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,w=Xn(l._icon),C=c.getPixelBounds(),N=c.getPixelOrigin(),R=ne(C.min._subtract(N).add(g),C.max._subtract(N).subtract(g));if(!R.contains(w)){var D=B((Math.max(R.max.x,w.x)-R.max.x)/(C.max.x-R.max.x)-(Math.min(R.min.x,w.x)-R.min.x)/(C.min.x-R.min.x),(Math.max(R.max.y,w.y)-R.max.y)/(C.max.y-R.max.y)-(Math.min(R.min.y,w.y)-R.min.y)/(C.min.y-R.min.y)).multiplyBy(p);c.panBy(D,{animate:!1}),this._draggable._newPos._add(D),this._draggable._startPos._add(D),Ie(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=ae(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Oe(this._panRequest),this._panRequest=ae(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,c=l._shadow,p=Xn(l._icon),g=l._map.layerPointToLatLng(p);c&&Ie(c,p),l._latlng=g,s.latlng=g,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Oe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),co=At.extend({options:{icon:new Fi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){E(this,l),this._latlng=ee(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=ee(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=s.icon.createIcon(this._icon),p=!1;c!==this._icon&&(this._icon&&this._removeIcon(),p=!0,s.title&&(c.title=s.title),c.tagName==="IMG"&&(c.alt=s.alt||"")),re(c,l),s.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&te(c,"focus",this._panOnFocus,this);var g=s.icon.createShadow(this._shadow),w=!1;g!==this._shadow&&(this._removeShadow(),w=!0),g&&(re(g,l),g.alt=""),this._shadow=g,s.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&w&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&me(this._icon,"focus",this._panOnFocus,this),ke(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ke(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Ie(this._icon,s),this._shadow&&Ie(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(re(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),rf)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new rf(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&kt(this._icon,s),this._shadow&&kt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,c=l.iconSize?B(l.iconSize):B(0,0),p=l.iconAnchor?B(l.iconAnchor):B(0,0);s.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:c.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function B0(s,l){return new co(s,l)}var En=At.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return E(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ho=En.extend({options:{fill:!0,radius:10},initialize:function(s,l){E(this,l),this._latlng=ee(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=ee(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return En.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,c=this._clickTolerance(),p=[s+c,l+c];this._pxBounds=new q(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function U0(s,l){return new ho(s,l)}var Ul=ho.extend({initialize:function(s,l,c){if(typeof l=="number"&&(l=o({},c,{radius:l})),E(this,l),this._latlng=ee(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:En.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,c=this._map,p=c.options.crs;if(p.distance===kn.distance){var g=Math.PI/180,w=this._mRadius/kn.R/g,C=c.project([l+w,s]),N=c.project([l-w,s]),R=C.add(N).divideBy(2),D=c.unproject(R).lat,H=Math.acos((Math.cos(w*g)-Math.sin(l*g)*Math.sin(D*g))/(Math.cos(l*g)*Math.cos(D*g)))/g;(isNaN(H)||H===0)&&(H=w/Math.cos(Math.PI/180*l)),this._point=R.subtract(c.getPixelOrigin()),this._radius=isNaN(H)?0:R.x-c.project([D,s-H]).x,this._radiusY=R.y-C.y}else{var Q=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Q).x}this._updateBounds()}});function F0(s,l,c){return new Ul(s,l,c)}var ln=En.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){E(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,c=null,p=Ui,g,w,C=0,N=this._parts.length;C<N;C++)for(var R=this._parts[C],D=1,H=R.length;D<H;D++){g=R[D-1],w=R[D];var Q=p(s,g,w,!0);Q<l&&(l=Q,c=p(s,g,w))}return c&&(c.distance=Math.sqrt(l)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=ee(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ye,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Pt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],c=Pt(s),p=0,g=s.length;p<g;p++)c?(l[p]=ee(s[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(s[p]);return l},_project:function(){var s=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new $(s,s);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,c){var p=s[0]instanceof oe,g=s.length,w,C;if(p){for(C=[],w=0;w<g;w++)C[w]=this._map.latLngToLayerPoint(s[w]),c.extend(C[w]);l.push(C)}else for(w=0;w<g;w++)this._projectLatlngs(s[w],l,c)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,c,p,g,w,C,N,R;for(c=0,g=0,w=this._rings.length;c<w;c++)for(R=this._rings[c],p=0,C=R.length;p<C-1;p++)N=Xd(R[p],R[p+1],s,p,!0),N&&(l[g]=l[g]||[],l[g].push(N[0]),(N[1]!==R[p+1]||p===C-2)&&(l[g].push(N[1]),g++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,c=0,p=s.length;c<p;c++)s[c]=Jd(s[c],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var c,p,g,w,C,N,R=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(c=0,w=this._parts.length;c<w;c++)for(N=this._parts[c],p=0,C=N.length,g=C-1;p<C;g=p++)if(!(!l&&p===0)&&Qd(s,N[g],N[p])<=R)return!0;return!1}});function H0(s,l){return new ln(s,l)}ln._flat=ef;var Lr=ln.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=ln.prototype._convertLatLngs.call(this,s),c=l.length;return c>=2&&l[0]instanceof oe&&l[0].equals(l[c-1])&&l.pop(),l},_setLatLngs:function(s){ln.prototype._setLatLngs.call(this,s),Pt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,c=new $(l,l);if(s=new q(s.min.subtract(c),s.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,g=this._rings.length,w;p<g;p++)w=Kd(this._rings[p],s,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,c,p,g,w,C,N,R,D;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(w=0,R=this._parts.length;w<R;w++)for(c=this._parts[w],C=0,D=c.length,N=D-1;C<D;N=C++)p=c[C],g=c[N],p.y>s.y!=g.y>s.y&&s.x<(g.x-p.x)*(s.y-p.y)/(g.y-p.y)+p.x&&(l=!l);return l||ln.prototype._containsPoint.call(this,s,!0)}});function V0(s,l){return new Lr(s,l)}var un=an.extend({initialize:function(s,l){E(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=k(s)?s:s.features,c,p,g;if(l){for(c=0,p=l.length;c<p;c++)g=l[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var w=this.options;if(w.filter&&!w.filter(s))return this;var C=fo(s,w);return C?(C.feature=go(s),C.defaultOptions=C.options,this.resetStyle(C),w.onEachFeature&&w.onEachFeature(s,C),this.addLayer(C)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=o({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function fo(s,l){var c=s.type==="Feature"?s.geometry:s,p=c?c.coordinates:null,g=[],w=l&&l.pointToLayer,C=l&&l.coordsToLatLng||Fl,N,R,D,H;if(!p&&!c)return null;switch(c.type){case"Point":return N=C(p),sf(w,s,N,l);case"MultiPoint":for(D=0,H=p.length;D<H;D++)N=C(p[D]),g.push(sf(w,s,N,l));return new an(g);case"LineString":case"MultiLineString":return R=po(p,c.type==="LineString"?0:1,C),new ln(R,l);case"Polygon":case"MultiPolygon":return R=po(p,c.type==="Polygon"?1:2,C),new Lr(R,l);case"GeometryCollection":for(D=0,H=c.geometries.length;D<H;D++){var Q=fo({geometry:c.geometries[D],type:"Feature",properties:s.properties},l);Q&&g.push(Q)}return new an(g);case"FeatureCollection":for(D=0,H=c.features.length;D<H;D++){var ie=fo(c.features[D],l);ie&&g.push(ie)}return new an(g);default:throw new Error("Invalid GeoJSON object.")}}function sf(s,l,c,p){return s?s(l,c):new co(c,p&&p.markersInheritOptions&&p)}function Fl(s){return new oe(s[1],s[0],s[2])}function po(s,l,c){for(var p=[],g=0,w=s.length,C;g<w;g++)C=l?po(s[g],l-1,c):(c||Fl)(s[g]),p.push(C);return p}function Hl(s,l){return s=ee(s),s.alt!==void 0?[_(s.lng,l),_(s.lat,l),_(s.alt,l)]:[_(s.lng,l),_(s.lat,l)]}function mo(s,l,c,p){for(var g=[],w=0,C=s.length;w<C;w++)g.push(l?mo(s[w],Pt(s[w])?0:l-1,c,p):Hl(s[w],p));return!l&&c&&g.length>0&&g.push(g[0].slice()),g}function Nr(s,l){return s.feature?o({},s.feature,{geometry:l}):go(l)}function go(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Vl={toGeoJSON:function(s){return Nr(this,{type:"Point",coordinates:Hl(this.getLatLng(),s)})}};co.include(Vl),Ul.include(Vl),ho.include(Vl),ln.include({toGeoJSON:function(s){var l=!Pt(this._latlngs),c=mo(this._latlngs,l?1:0,!1,s);return Nr(this,{type:(l?"Multi":"")+"LineString",coordinates:c})}}),Lr.include({toGeoJSON:function(s){var l=!Pt(this._latlngs),c=l&&!Pt(this._latlngs[0]),p=mo(this._latlngs,c?2:l?1:0,!0,s);return l||(p=[p]),Nr(this,{type:(c?"Multi":"")+"Polygon",coordinates:p})}}),Or.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(c){l.push(c.toGeoJSON(s).geometry.coordinates)}),Nr(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var c=l==="GeometryCollection",p=[];return this.eachLayer(function(g){if(g.toGeoJSON){var w=g.toGeoJSON(s);if(c)p.push(w.geometry);else{var C=go(w);C.type==="FeatureCollection"?p.push.apply(p,C.features):p.push(C)}}}),c?Nr(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function of(s,l){return new un(s,l)}var W0=of,vo=At.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,c){this._url=s,this._bounds=he(l),E(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(re(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ke(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Cr(this._image),this},bringToBack:function(){return this._map&&Tr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=he(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:ce("img");if(re(l,"leaflet-image-layer"),this._zoomAnimated&&re(l,"leaflet-zoom-animated"),this.options.className&&re(l,this.options.className),l.onselectstart=y,l.onmousemove=y,l.onload=u(this.fire,this,"load"),l.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Yn(this._image,c,l)},_reset:function(){var s=this._image,l=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=l.getSize();Ie(s,l.min),s.style.width=c.x+"px",s.style.height=c.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Z0=function(s,l,c){return new vo(s,l,c)},af=vo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:ce("video");if(re(l,"leaflet-image-layer"),this._zoomAnimated&&re(l,"leaflet-zoom-animated"),this.options.className&&re(l,this.options.className),l.onselectstart=y,l.onmousemove=y,l.onloadeddata=u(this.fire,this,"load"),s){for(var c=l.getElementsByTagName("source"),p=[],g=0;g<c.length;g++)p.push(c[g].src);this._url=c.length>0?p:[l.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var C=ce("source");C.src=this._url[w],l.appendChild(C)}}});function q0(s,l,c){return new af(s,l,c)}var lf=vo.extend({_initImage:function(){var s=this._image=this._url;re(s,"leaflet-image-layer"),this._zoomAnimated&&re(s,"leaflet-zoom-animated"),this.options.className&&re(s,this.options.className),s.onselectstart=y,s.onmousemove=y}});function K0(s,l,c){return new lf(s,l,c)}var Yt=At.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof oe||k(s))?(this._latlng=ee(s),E(this,l)):(E(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(re(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(u(ke,void 0,this._container),200)):ke(this._container),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ee(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Cr(this._container),this},bringToBack:function(){return this._map&&Tr(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof an){l=null;var c=this._source._layers;for(var p in c)if(c[p]._map){l=c[p];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=B(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ie(this._container,s.add(c)):l=l.add(s).add(c);var p=this._containerBottom=-l.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});le.include({_initOverlay:function(s,l,c,p){var g=l;return g instanceof s||(g=new s(p).setContent(l)),c&&g.setLatLng(c),g}}),At.include({_initOverlay:function(s,l,c,p){var g=c;return g instanceof s?(E(g,p),g._source=this):(g=l&&!p?l:new s(p,this),g.setContent(c)),g}});var yo=Yt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Yt.prototype.openOn.call(this,s)},onAdd:function(s){Yt.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof En||this._source.on("preclick",er))},onRemove:function(s){Yt.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof En||this._source.off("preclick",er))},getEvents:function(){var s=Yt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=ce("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=ce("div",s+"-content-wrapper",l);if(this._contentNode=ce("div",s+"-content",c),zi(l),Rl(this._contentNode),te(l,"contextmenu",er),this._tipContainer=ce("div",s+"-tip-container",l),this._tip=ce("div",s+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=ce("a",s+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',te(p,"click",function(g){qe(g),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var c=s.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),l.width=c+1+"px",l.whiteSpace="",l.height="";var p=s.offsetHeight,g=this.options.maxHeight,w="leaflet-popup-scrolled";g&&p>g?(l.height=g+"px",re(s,w)):Le(s,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),c=this._getAnchor();Ie(this._container,l.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Ai(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+l,p=this._containerWidth,g=new $(this._containerLeft,-c-this._containerBottom);g._add(Xn(this._container));var w=s.layerPointToContainerPoint(g),C=B(this.options.autoPanPadding),N=B(this.options.autoPanPaddingTopLeft||C),R=B(this.options.autoPanPaddingBottomRight||C),D=s.getSize(),H=0,Q=0;w.x+p+R.x>D.x&&(H=w.x+p-D.x+R.x),w.x-H-N.x<0&&(H=w.x-N.x),w.y+c+R.y>D.y&&(Q=w.y+c-D.y+R.y),w.y-Q-N.y<0&&(Q=w.y-N.y),(H||Q)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([H,Q]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),G0=function(s,l){return new yo(s,l)};le.mergeOptions({closePopupOnClick:!0}),le.include({openPopup:function(s,l,c){return this._initOverlay(yo,s,l,c).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),At.include({bindPopup:function(s,l){return this._popup=this._initOverlay(yo,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof an||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){tr(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof En)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var _o=Yt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Yt.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Yt.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Yt.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ce("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,c,p=this._map,g=this._container,w=p.latLngToContainerPoint(p.getCenter()),C=p.layerPointToContainerPoint(s),N=this.options.direction,R=g.offsetWidth,D=g.offsetHeight,H=B(this.options.offset),Q=this._getAnchor();N==="top"?(l=R/2,c=D):N==="bottom"?(l=R/2,c=0):N==="center"?(l=R/2,c=D/2):N==="right"?(l=0,c=D/2):N==="left"?(l=R,c=D/2):C.x<w.x?(N="right",l=0,c=D/2):(N="left",l=R+(H.x+Q.x)*2,c=D/2),s=s.subtract(B(l,c,!0)).add(H).add(Q),Le(g,"leaflet-tooltip-right"),Le(g,"leaflet-tooltip-left"),Le(g,"leaflet-tooltip-top"),Le(g,"leaflet-tooltip-bottom"),re(g,"leaflet-tooltip-"+N),Ie(g,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&kt(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),J0=function(s,l){return new _o(s,l)};le.include({openTooltip:function(s,l,c){return this._initOverlay(_o,s,l,c).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),At.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_o,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[l](c),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof an||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(te(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),te(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,c,p;this._tooltip.options.sticky&&s.originalEvent&&(c=this._map.mouseEventToContainerPoint(s.originalEvent),p=this._map.containerPointToLayerPoint(c),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var uf=jr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),c=this.options;if(c.html instanceof Element?(io(l),l.appendChild(c.html)):l.innerHTML=c.html!==!1?c.html:"",c.bgPos){var p=B(c.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Q0(s){return new uf(s)}jr.Default=Fi;var Hi=At.extend({options:{tileSize:256,opacity:1,updateWhenIdle:K.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){E(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),ke(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Cr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Tr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof $?s:new $(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,c=-s(-1/0,1/0),p=0,g=l.length,w;p<g;p++)w=l[p].style.zIndex,l[p]!==this._container&&w&&(c=s(c,+w));isFinite(c)&&(this.options.zIndex=c+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!K.ielt9){kt(this._container,this.options.opacity);var s=+new Date,l=!1,c=!1;for(var p in this._tiles){var g=this._tiles[p];if(!(!g.current||!g.loaded)){var w=Math.min(1,(s-g.loaded)/200);kt(g.el,w),w<1?l=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),l&&(Oe(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=ce("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===s?(this._levels[c].el.style.zIndex=l-Math.abs(s-c),this._onUpdateLevel(c)):(ke(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var p=this._levels[s],g=this._map;return p||(p=this._levels[s]={},p.el=ce("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=g.project(g.unproject(g.getPixelOrigin()),s).round(),p.zoom=s,this._setZoomTransform(p,g.getCenter(),g.getZoom()),y(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var s,l,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)ke(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,c,p){var g=Math.floor(s/2),w=Math.floor(l/2),C=c-1,N=new $(+g,+w);N.z=+C;var R=this._tileCoordsToKey(N),D=this._tiles[R];return D&&D.active?(D.retain=!0,!0):(D&&D.loaded&&(D.retain=!0),C>p?this._retainParent(g,w,C,p):!1)},_retainChildren:function(s,l,c,p){for(var g=2*s;g<2*s+2;g++)for(var w=2*l;w<2*l+2;w++){var C=new $(g,w);C.z=c+1;var N=this._tileCoordsToKey(C),R=this._tiles[N];if(R&&R.active){R.retain=!0;continue}else R&&R.loaded&&(R.retain=!0);c+1<p&&this._retainChildren(g,w,c+1,p)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,c,p){var g=Math.round(l);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var w=this.options.updateWhenZooming&&g!==this._tileZoom;(!p||w)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(s),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var c in this._levels)this._setZoomTransform(this._levels[c],s,l)},_setZoomTransform:function(s,l,c){var p=this._map.getZoomScale(c,s.zoom),g=s.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,c)).round();K.any3d?Yn(s.el,g,p):Ie(s.el,g)},_resetGrid:function(){var s=this._map,l=s.options.crs,c=this._tileSize=this.getTileSize(),p=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],p).x/c.x),Math.ceil(s.project([0,l.wrapLng[1]],p).x/c.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],p).y/c.x),Math.ceil(s.project([l.wrapLat[1],0],p).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,c=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(c,this._tileZoom),g=l.project(s,this._tileZoom).floor(),w=l.getSize().divideBy(p*2);return new q(g.subtract(w),g.add(w))},_update:function(s){var l=this._map;if(l){var c=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(s),g=this._pxBoundsToTileRange(p),w=g.getCenter(),C=[],N=this.options.keepBuffer,R=new q(g.getBottomLeft().subtract([N,-N]),g.getTopRight().add([N,-N]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var D in this._tiles){var H=this._tiles[D].coords;(H.z!==this._tileZoom||!R.contains(new $(H.x,H.y)))&&(this._tiles[D].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(s,c);return}for(var Q=g.min.y;Q<=g.max.y;Q++)for(var ie=g.min.x;ie<=g.max.x;ie++){var rt=new $(ie,Q);if(rt.z=this._tileZoom,!!this._isValidTile(rt)){var Ve=this._tiles[this._tileCoordsToKey(rt)];Ve?Ve.current=!0:C.push(rt)}}if(C.sort(function(ct,Ir){return ct.distanceTo(w)-Ir.distanceTo(w)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Et=document.createDocumentFragment();for(ie=0;ie<C.length;ie++)this._addTile(C[ie],Et);this._level.el.appendChild(Et)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var c=this._globalTileRange;if(!l.wrapLng&&(s.x<c.min.x||s.x>c.max.x)||!l.wrapLat&&(s.y<c.min.y||s.y>c.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(s);return he(this.options.bounds).overlaps(p)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,c=this.getTileSize(),p=s.scaleBy(c),g=p.add(c),w=l.unproject(p,s.z),C=l.unproject(g,s.z);return[w,C]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),c=new ye(l[0],l[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),c=new $(+l[0],+l[1]);return c.z=+l[2],c},_removeTile:function(s){var l=this._tiles[s];l&&(ke(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){re(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=y,s.onmousemove=y,K.ielt9&&this.options.opacity<1&&kt(s,this.options.opacity)},_addTile:function(s,l){var c=this._getTilePos(s),p=this._tileCoordsToKey(s),g=this.createTile(this._wrapCoords(s),u(this._tileReady,this,s));this._initTile(g),this.createTile.length<2&&ae(u(this._tileReady,this,s,null,g)),Ie(g,c),this._tiles[p]={el:g,coords:s,current:!0},l.appendChild(g),this.fire("tileloadstart",{tile:g,coords:s})},_tileReady:function(s,l,c){l&&this.fire("tileerror",{error:l,tile:c,coords:s});var p=this._tileCoordsToKey(s);c=this._tiles[p],c&&(c.loaded=+new Date,this._map._fadeAnimated?(kt(c.el,0),Oe(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),l||(re(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),K.ielt9||!this._map._fadeAnimated?ae(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new $(this._wrapX?v(s.x,this._wrapX):s.x,this._wrapY?v(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new q(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Y0(s){return new Hi(s)}var Rr=Hi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=E(this,l),l.detectRetina&&K.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var c=document.createElement("img");return te(c,"load",u(this._tileOnLoad,this,l,c)),te(c,"error",u(this._tileOnError,this,l,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(s),c},getTileUrl:function(s){var l={r:K.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=c),l["-y"]=c}return b(this._url,o(l,this.options))},_tileOnLoad:function(s,l){K.ielt9?setTimeout(u(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,c){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),s(c,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,c=this.options.zoomReverse,p=this.options.zoomOffset;return c&&(s=l-s),s+p},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=y,l.onerror=y,!l.complete)){l.src=A;var c=this._tiles[s].coords;ke(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:c})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",A),Hi.prototype._removeTile.call(this,s)},_tileReady:function(s,l,c){if(!(!this._map||c&&c.getAttribute("src")===A))return Hi.prototype._tileReady.call(this,s,l,c)}});function cf(s,l){return new Rr(s,l)}var hf=Rr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var c=o({},this.defaultWmsParams);for(var p in l)p in this.options||(c[p]=l[p]);l=E(this,l);var g=l.detectRetina&&K.retina?2:1,w=this.getTileSize();c.width=w.x*g,c.height=w.y*g,this.wmsParams=c},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Rr.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),c=this._crs,p=ne(c.project(l[0]),c.project(l[1])),g=p.min,w=p.max,C=(this._wmsVersion>=1.3&&this._crs===nf?[g.y,g.x,w.y,w.x]:[g.x,g.y,w.x,w.y]).join(","),N=Rr.prototype.getTileUrl.call(this,s);return N+O(this.wmsParams,N,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(s,l){return o(this.wmsParams,s),l||this.redraw(),this}});function X0(s,l){return new hf(s,l)}Rr.WMS=hf,cf.wms=X0;var cn=At.extend({options:{padding:.1},initialize:function(s){E(this,s),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),re(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var c=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,l),w=p.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(s,l));K.any3d?Yn(this._container,w,c):Ie(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),c=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new q(c,c.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),df=cn.extend({options:{tolerance:0},getEvents:function(){var s=cn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){cn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");te(s,"mousemove",this._onMouseMove,this),te(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),te(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Oe(this._redrawRequest),delete this._ctx,ke(this._container),me(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){cn.prototype._update.call(this);var s=this._bounds,l=this._container,c=s.getSize(),p=K.retina?2:1;Ie(l,s.min),l.width=p*c.x,l.height=p*c.y,l.style.width=c.x+"px",l.style.height=c.y+"px",K.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){cn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[d(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,c=l.next,p=l.prev;c?c.prev=p:this._drawLast=p,p?p.next=c:this._drawFirst=c,delete s._order,delete this._layers[d(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),c=[],p,g;for(g=0;g<l.length;g++){if(p=Number(l[g]),isNaN(p))return;c.push(p)}s.options._dashArray=c}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||ae(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var c=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)s=p.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var c,p,g,w,C=s._parts,N=C.length,R=this._ctx;if(N){for(R.beginPath(),c=0;c<N;c++){for(p=0,g=C[c].length;p<g;p++)w=C[c][p],R[p?"lineTo":"moveTo"](w.x,w.y);l&&R.closePath()}this._fillStroke(R,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,c=this._ctx,p=Math.max(Math.round(s._radius),1),g=(Math.max(Math.round(s._radiusY),1)||p)/p;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(l.x,l.y/g,p,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,s)}},_fillStroke:function(s,l){var c=l.options;c.fill&&(s.globalAlpha=c.fillOpacity,s.fillStyle=c.fillColor||c.color,s.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=c.opacity,s.lineWidth=c.weight,s.strokeStyle=c.color,s.lineCap=c.lineCap,s.lineJoin=c.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),c,p,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(c))&&(p=c);this._fireEvent(p?[p]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(Le(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var c,p,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(l)&&(p=c);p!==this._hoveredLayer&&(this._handleMouseOut(s),p&&(re(this._container,"leaflet-interactive"),this._fireEvent([p],s,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,c){this._map._fireDOMEvent(l,c||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var c=l.next,p=l.prev;if(c)c.prev=p;else return;p?p.next=c:c&&(this._drawFirst=c),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var c=l.next,p=l.prev;if(p)p.next=c;else return;c?c.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function ff(s){return K.canvas?new df(s):null}var Vi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ew={_initContainer:function(){this._container=ce("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(cn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Vi("shape");re(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Vi("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;ke(l),s.removeInteractiveTarget(l),delete this._layers[d(s)]},_updateStyle:function(s){var l=s._stroke,c=s._fill,p=s.options,g=s._container;g.stroked=!!p.stroke,g.filled=!!p.fill,p.stroke?(l||(l=s._stroke=Vi("stroke")),g.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=k(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(g.removeChild(l),s._stroke=null),p.fill?(c||(c=s._fill=Vi("fill")),g.appendChild(c),c.color=p.fillColor||p.color,c.opacity=p.fillOpacity):c&&(g.removeChild(c),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),c=Math.round(s._radius),p=Math.round(s._radiusY||c);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+c+","+p+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){Cr(s._container)},_bringToBack:function(s){Tr(s._container)}},wo=K.vml?Vi:gd,Wi=cn.extend({_initContainer:function(){this._container=wo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ke(this._container),me(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){cn.prototype._update.call(this);var s=this._bounds,l=s.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,c.setAttribute("width",l.x),c.setAttribute("height",l.y)),Ie(c,s.min),c.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=wo("path");s.options.className&&re(l,s.options.className),s.options.interactive&&re(l,"leaflet-interactive"),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){ke(s._path),s.removeInteractiveTarget(s._path),delete this._layers[d(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,c=s.options;l&&(c.stroke?(l.setAttribute("stroke",c.color),l.setAttribute("stroke-opacity",c.opacity),l.setAttribute("stroke-width",c.weight),l.setAttribute("stroke-linecap",c.lineCap),l.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?l.setAttribute("stroke-dasharray",c.dashArray):l.removeAttribute("stroke-dasharray"),c.dashOffset?l.setAttribute("stroke-dashoffset",c.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),c.fill?(l.setAttribute("fill",c.fillColor||c.color),l.setAttribute("fill-opacity",c.fillOpacity),l.setAttribute("fill-rule",c.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,vd(s._parts,l))},_updateCircle:function(s){var l=s._point,c=Math.max(Math.round(s._radius),1),p=Math.max(Math.round(s._radiusY),1)||c,g="a"+c+","+p+" 0 1,0 ",w=s._empty()?"M0 0":"M"+(l.x-c)+","+l.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(s,w)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){Cr(s._path)},_bringToBack:function(s){Tr(s._path)}});K.vml&&Wi.include(ew);function pf(s){return K.svg||K.vml?new Wi(s):null}le.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&ff(s)||pf(s)}});var mf=Lr.extend({initialize:function(s,l){Lr.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=he(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function tw(s,l){return new mf(s,l)}Wi.create=wo,Wi.pointsToPath=vd,un.geometryToLayer=fo,un.coordsToLatLng=Fl,un.coordsToLatLngs=po,un.latLngToCoords=Hl,un.latLngsToCoords=mo,un.getFeature=Nr,un.asFeature=go,le.mergeOptions({boxZoom:!0});var gf=Qt.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){me(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ke(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mi(),Pl(),this._startPoint=this._map.mouseEventToContainerPoint(s),te(document,{contextmenu:tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ce("div","leaflet-zoom-box",this._container),re(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new q(this._point,this._startPoint),c=l.getSize();Ie(this._box,l.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(ke(this._box),Le(this._container,"leaflet-crosshair")),$i(),El(),me(document,{contextmenu:tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var l=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});le.addInitHook("addHandler","boxZoom",gf),le.mergeOptions({doubleClickZoom:!0});var vf=Qt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,c=l.getZoom(),p=l.options.zoomDelta,g=s.originalEvent.shiftKey?c-p:c+p;l.options.doubleClickZoom==="center"?l.setZoom(g):l.setZoomAround(s.containerPoint,g)}});le.addInitHook("addHandler","doubleClickZoom",vf),le.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yf=Qt.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Pn(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}re(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=he(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),c=this._initialWorldOffset,p=this._draggable._newPos.x,g=(p-l+c)%s+l-c,w=(p+l+c)%s-l-c,C=Math.abs(g+c)<Math.abs(w+c)?g:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(s){var l=this._map,c=l.options,p=!c.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),p)l.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,C=c.easeLinearity,N=g.multiplyBy(C/w),R=N.distanceTo([0,0]),D=Math.min(c.inertiaMaxSpeed,R),H=N.multiplyBy(D/R),Q=D/(c.inertiaDeceleration*C),ie=H.multiplyBy(-Q/2).round();!ie.x&&!ie.y?l.fire("moveend"):(ie=l._limitOffset(ie,l.options.maxBounds),ae(function(){l.panBy(ie,{duration:Q,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});le.addInitHook("addHandler","dragging",yf),le.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _f=Qt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),te(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),me(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,c=s.scrollTop||l.scrollTop,p=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},c=this.keyCodes,p,g;for(p=0,g=c.left.length;p<g;p++)l[c.left[p]]=[-1*s,0];for(p=0,g=c.right.length;p<g;p++)l[c.right[p]]=[s,0];for(p=0,g=c.down.length;p<g;p++)l[c.down[p]]=[0,s];for(p=0,g=c.up.length;p<g;p++)l[c.up[p]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},c=this.keyCodes,p,g;for(p=0,g=c.zoomIn.length;p<g;p++)l[c.zoomIn[p]]=s;for(p=0,g=c.zoomOut.length;p<g;p++)l[c.zoomOut[p]]=-s},_addHooks:function(){te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){me(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,c=this._map,p;if(l in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(p=this._panKeys[l],s.shiftKey&&(p=B(p).multiplyBy(3)),c.options.maxBounds&&(p=c._limitOffset(B(p),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(p)));c.panTo(g)}else c.panBy(p)}else if(l in this._zoomKeys)c.setZoom(c.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;tr(s)}}});le.addInitHook("addHandler","keyboard",_f),le.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wf=Qt.extend({addHooks:function(){te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){me(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=Hd(s),c=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var p=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),p),tr(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),c=this._map.options.zoomSnap||0;s._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,w=c?Math.ceil(g/c)*c:g,C=s._limitZoom(l+(this._delta>0?w:-w))-l;this._delta=0,this._startTime=null,C&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+C):s.setZoomAround(this._lastMousePos,l+C))}});le.addInitHook("addHandler","scrollWheelZoom",wf);var nw=600;le.mergeOptions({tapHold:K.touchNative&&K.safari&&K.mobile,tapTolerance:15});var xf=Qt.extend({addHooks:function(){te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){me(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new $(l.clientX,l.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(te(document,"touchend",qe),te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),nw),te(document,"touchend touchcancel contextmenu",this._cancel,this),te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){me(document,"touchend",qe),me(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),me(document,"touchend touchcancel contextmenu",this._cancel,this),me(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new $(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var c=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});c._simulated=!0,l.target.dispatchEvent(c)}});le.addInitHook("addHandler","tapHold",xf),le.mergeOptions({touchZoom:K.touch,bounceAtZoomLimits:!0});var bf=Qt.extend({addHooks:function(){re(this._map._container,"leaflet-touch-zoom"),te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),me(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var c=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(c.add(p)._divideBy(2))),this._startDist=c.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),te(document,"touchmove",this._onTouchMove,this),te(document,"touchend touchcancel",this._onTouchEnd,this),qe(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,c=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]),g=c.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(g,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&g<1||this._zoom>l.getMaxZoom()&&g>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var w=c._add(p)._divideBy(2)._subtract(this._centerPoint);if(g===1&&w.x===0&&w.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Oe(this._animRequest);var C=u(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ae(C,this,!0),qe(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Oe(this._animRequest),me(document,"touchmove",this._onTouchMove,this),me(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});le.addInitHook("addHandler","touchZoom",bf),le.BoxZoom=gf,le.DoubleClickZoom=vf,le.Drag=yf,le.Keyboard=_f,le.ScrollWheelZoom=wf,le.TapHold=xf,le.TouchZoom=bf,r.Bounds=q,r.Browser=K,r.CRS=ut,r.Canvas=df,r.Circle=Ul,r.CircleMarker=ho,r.Class=xe,r.Control=It,r.DivIcon=uf,r.DivOverlay=Yt,r.DomEvent=w0,r.DomUtil=y0,r.Draggable=Pn,r.Evented=De,r.FeatureGroup=an,r.GeoJSON=un,r.GridLayer=Hi,r.Handler=Qt,r.Icon=jr,r.ImageOverlay=vo,r.LatLng=oe,r.LatLngBounds=ye,r.Layer=At,r.LayerGroup=Or,r.LineUtil=R0,r.Map=le,r.Marker=co,r.Mixin=C0,r.Path=En,r.Point=$,r.PolyUtil=T0,r.Polygon=Lr,r.Polyline=ln,r.Popup=yo,r.PosAnimation=Vd,r.Projection=I0,r.Rectangle=mf,r.Renderer=cn,r.SVG=Wi,r.SVGOverlay=lf,r.TileLayer=Rr,r.Tooltip=_o,r.Transformation=fl,r.Util=He,r.VideoOverlay=af,r.bind=u,r.bounds=ne,r.canvas=ff,r.circle=F0,r.circleMarker=U0,r.control=Bi,r.divIcon=Q0,r.extend=o,r.featureGroup=D0,r.geoJSON=of,r.geoJson=W0,r.gridLayer=Y0,r.icon=z0,r.imageOverlay=Z0,r.latLng=ee,r.latLngBounds=he,r.layerGroup=$0,r.map=x0,r.marker=B0,r.point=B,r.polygon=V0,r.polyline=H0,r.popup=G0,r.rectangle=tw,r.setOptions=E,r.stamp=d,r.svg=pf,r.svgOverlay=K0,r.tileLayer=cf,r.tooltip=J0,r.transformation=Ni,r.version=i,r.videoOverlay=q0;var rw=window.L;r.noConflict=function(){return window.L=rw,this},window.L=r})})(Qc,Qc.exports);var to=Qc.exports;const B_=Dm(to);function fd(n,e,r){return Object.freeze({instance:n,context:e,container:r})}function pd(n,e){return e==null?function(i,o){const a=T.useRef(void 0);return a.current||(a.current=n(i,o)),a}:function(i,o){const a=T.useRef(void 0);a.current||(a.current=n(i,o));const u=T.useRef(i),{instance:h}=a.current;return T.useEffect(function(){u.current!==i&&(e(h,i,u.current),u.current=i)},[h,i,e]),a}}function EC(n,e){T.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function U_(n){return function(r){const i=D_(),o=n(dd(r,i),i);return $_(i.map,r.attribution),z_(o.current,r.eventHandlers),EC(o.current,i),o}}function CC(n,e){const r=pd(n,e),i=U_(r);return bC(i)}function TC(n,e){const r=pd(n),i=PC(r,e);return SC(i)}function OC(n,e){const r=pd(n,e),i=U_(r);return kC(i)}function jC(n,e,r){const{opacity:i,zIndex:o}=e;i!=null&&i!==r.opacity&&n.setOpacity(i),o!=null&&o!==r.zIndex&&n.setZIndex(o)}function LC({bounds:n,boundsOptions:e,center:r,children:i,className:o,id:a,placeholder:u,style:h,whenReady:d,zoom:f,...v},y){const[_]=T.useState({className:o,id:a,style:h}),[x,S]=T.useState(null),E=T.useRef(void 0);T.useImperativeHandle(y,()=>(x==null?void 0:x.map)??null,[x]);const O=T.useCallback(b=>{if(b!==null&&!E.current){const k=new to.Map(b,v);E.current=k,r!=null&&f!=null?k.setView(r,f):n!=null&&k.fitBounds(n,e),d!=null&&k.whenReady(d),S(wC(k))}},[]);T.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const P=x?Ru.createElement(hd,{value:x},i):u??null;return Ru.createElement("div",{..._,ref:O},P)}const NC=T.forwardRef(LC),RC=CC(function({position:e,...r},i){const o=new to.Marker(e,r);return fd(o,xC(i,{overlayContainer:o}))},function(e,r,i){r.position!==i.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==i.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==i.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==i.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),IC=TC(function(e,r){const i=new to.Popup(e,r.overlayContainer);return fd(i,r)},function(e,r,{position:i},o){T.useEffect(function(){const{instance:u}=e;function h(f){f.popup===u&&(u.update(),o(!0))}function d(f){f.popup===u&&o(!1)}return r.map.on({popupopen:h,popupclose:d}),r.overlayContainer==null?(i!=null&&u.setLatLng(i),u.openOn(r.map)):r.overlayContainer.bindPopup(u),function(){var v;r.map.off({popupopen:h,popupclose:d}),(v=r.overlayContainer)==null||v.unbindPopup(),r.map.removeLayer(u)}},[e,r,o,i])}),AC=OC(function({url:e,...r},i){const o=new to.TileLayer(e,dd(r,i));return fd(o,i)},function(e,r,i){jC(e,r,i);const{url:o}=r;o!=null&&o!==i.url&&e.setUrl(o)});delete B_.Icon.Default.prototype._getIconUrl;B_.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});const MC=[{id:1,lat:-23.5505,lng:-46.6333,name:"Hub SÃ£o Paulo",status:"Active",details:"Main distribution center"},{id:2,lat:-22.9068,lng:-43.1729,name:"Shipment 1001",status:"In Transit",details:"Delivery to Rio de Janeiro"},{id:3,lat:-15.7801,lng:-47.9292,name:"Shipment 1002",status:"Delayed",details:"Waiting for customs clearance"},{id:4,lat:-30.0346,lng:-51.2177,name:"Hub Porto Alegre",status:"Maintenance",details:"Secondary hub"}],$C=()=>{const{t:n}=Rt(),e=[-23.5505,-46.6333];return m.jsxs(NC,{center:e,zoom:5,scrollWheelZoom:!0,style:{height:"100%",width:"100%",borderRadius:"0.75rem"},children:[m.jsx(AC,{attribution:'Â© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),MC.map(r=>m.jsx(RC,{position:[r.lat,r.lng],children:m.jsxs(IC,{children:[m.jsx("div",{className:"font-semibold",children:r.name}),m.jsxs("div",{className:"text-sm",children:[n("status"),": ",n(r.status.toLowerCase().replace(" ","_"))]}),m.jsx("div",{className:"text-xs text-gray-500 mt-1",children:r.details}),m.jsxs("div",{className:"text-xs text-gray-500",children:["Lat: ",r.lat.toFixed(4),", Lng: ",r.lng.toFixed(4)]})]})},r.id))]})},DC=()=>{const{t:n}=Rt(),[e,r]=T.useState([]),[i,o]=T.useState("all");T.useEffect(()=>{a()},[i]);const a=async()=>{let f=Ne.from("deliveries").select("*").order("scheduled_time",{ascending:!0});i!=="all"&&(f=f.eq("status",i));const{data:v}=await f;v&&r(v)},u=f=>{switch(f){case"delivered":return m.jsx(I_,{className:"w-5 h-5 text-green-600"});case"in_transit":return m.jsx(ld,{className:"w-5 h-5 text-blue-600"});case"delayed":return m.jsx(qc,{className:"w-5 h-5 text-yellow-600"});case"failed":return m.jsx(dC,{className:"w-5 h-5 text-red-600"});default:return m.jsx(Vs,{className:"w-5 h-5 text-gray-600"})}},h=f=>{switch(f){case"pending":return"bg-gray-100 text-gray-800";case"in_transit":return"bg-blue-100 text-blue-800";case"delivered":return"bg-green-100 text-green-800";case"delayed":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=f=>f>=4?"text-red-600 font-semibold":f===3?"text-yellow-600 font-medium":"text-gray-600";return m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n("delivery_management")}),m.jsx("p",{className:"text-gray-600 mt-1",children:n("track_and_manage_deliveries")})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsx("div",{className:"lg:col-span-1 h-[600px]",children:m.jsx($C,{})}),m.jsxs("div",{className:"lg:col-span-2",children:[m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6 p-6",children:m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[n("filter_by_status"),":"]}),["all","pending","in_transit","delivered","delayed","failed"].map(f=>m.jsx("button",{onClick:()=>o(f),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${i===f?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:n(f)},f))]})}),m.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.length===0?m.jsxs("div",{className:"col-span-1 bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[m.jsx(Vs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600 font-medium",children:n("no_deliveries_found")}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n("adjust_filters_or_create_route")})]}):e.map(f=>m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[u(f.status),m.jsxs("div",{children:[m.jsxs("h3",{className:"font-semibold text-gray-900",children:[n(f.type==="delivery"?"delivery":"pickup")," #",f.id.slice(0,8)]}),m.jsxs("span",{className:`text-xs ${d(f.priority)}`,children:[n("priority"),": ",f.priority]})]})]}),m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h(f.status)}`,children:n(f.status)})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500 mb-1",children:n("address")}),m.jsx("p",{className:"text-sm text-gray-900",children:f.address})]}),f.scheduled_time&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500 mb-1",children:n("scheduled_time")}),m.jsx("p",{className:"text-sm text-gray-900",children:new Date(f.scheduled_time).toLocaleString()})]}),f.weight_kg&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500 mb-1",children:n("weight")}),m.jsxs("p",{className:"text-sm text-gray-900",children:[f.weight_kg," kg"]})]}),f.notes&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500 mb-1",children:n("notes")}),m.jsx("p",{className:"text-sm text-gray-700 italic",children:f.notes})]})]}),m.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:m.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:n("view_details")})})]},f.id))})]})]})]})},zC=()=>{const{t:n}=Rt(),e=Ks(),[r,i]=T.useState("vehicles"),[o,a]=T.useState([]),[u,h]=T.useState([]);T.useEffect(()=>{d()},[]);const d=async()=>{const[y,_]=await Promise.all([Ne.from("vehicles").select("*").order("license_plate"),Ne.from("drivers").select("*").order("created_at",{ascending:!1})]);y.data&&a(y.data),_.data&&h(_.data)},f=y=>{switch(y){case"available":return"bg-green-100 text-green-800";case"in_use":return"bg-blue-100 text-blue-800";case"maintenance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},v=y=>{switch(y){case"available":return"bg-green-100 text-green-800";case"on_route":return"bg-blue-100 text-blue-800";case"off_duty":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n("fleet_driver_management")}),m.jsx("p",{className:"text-gray-600 mt-1",children:n("manage_vehicles_and_drivers")})]}),m.jsxs("button",{onClick:()=>e(r==="vehicles"?"/fleet/vehicles/add":"/fleet/drivers/add"),className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:[m.jsx(ud,{className:"w-5 h-5"}),m.jsxs("span",{children:[n("add")," ",n(r==="vehicles"?"vehicle":"driver")]})]})]}),m.jsx("div",{className:"mb-6",children:m.jsx("div",{className:"border-b border-gray-200",children:m.jsxs("nav",{className:"flex space-x-8",children:[m.jsxs("button",{onClick:()=>i("vehicles"),className:`py-4 px-1 border-b-2 font-medium text-sm transition ${r==="vehicles"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n("vehicles")," (",o.length,")"]}),m.jsxs("button",{onClick:()=>i("drivers"),className:`py-4 px-1 border-b-2 font-medium text-sm transition ${r==="drivers"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n("drivers")," (",u.length,")"]})]})})}),r==="vehicles"?m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.length===0?m.jsxs("div",{className:"col-span-3 bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[m.jsx(Ws,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600 font-medium",children:n("no_vehicles_found")}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n("add_first_vehicle")})]}):o.map(y=>m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:m.jsx(Ws,{className:"w-6 h-6 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:y.license_plate}),m.jsx("p",{className:"text-sm text-gray-500",children:y.model})]})]}),m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f(y.status)}`,children:y.status})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:n("capacity")}),m.jsxs("span",{className:"font-medium text-gray-900",children:[y.capacity_kg," kg"]})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:n("fuel_consumption")}),m.jsxs("span",{className:"font-medium text-gray-900",children:[y.fuel_consumption_per_km," L/km"]})]}),y.last_maintenance&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:n("last_maintenance")}),m.jsx("span",{className:"font-medium text-gray-900",children:new Date(y.last_maintenance).toLocaleDateString()})]})]}),m.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:m.jsx("button",{onClick:()=>e(`/fleet/vehicles/${y.id}`),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:n("view_details")})})]},y.id))}):m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("driver")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("license_number")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("status")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("rating")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("total_deliveries")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("actions")})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:n("no_drivers_found")})}):u.map(y=>m.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:m.jsx(M_,{className:"w-5 h-5 text-blue-600"})}),m.jsxs("span",{className:"font-medium text-gray-900",children:[n("driver")," #",y.id.slice(0,8)]})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.license_number}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${v(y.availability_status)}`,children:n(y.availability_status)})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["â­ ",y.rating.toFixed(1)]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.total_deliveries}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:m.jsx("button",{onClick:()=>e(`/fleet/drivers/${y.id}`),className:"text-blue-600 hover:text-blue-800 font-medium",children:n("view_profile")})})]},y.id))})]})})})]})},BC=()=>{const{t:n}=Rt(),e=Ks(),[r,i]=T.useState([]);T.useEffect(()=>{o()},[]);const o=async()=>{const{data:a}=await Ne.from("clients").select("*").order("name");a&&i(a)};return m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n("client_management")}),m.jsx("p",{className:"text-gray-600 mt-1",children:n("manage_clients_and_recipients")})]}),m.jsxs("button",{onClick:()=>e("/clients/add"),className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:[m.jsx(ud,{className:"w-5 h-5"}),m.jsx("span",{children:n("add_client")})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length===0?m.jsxs("div",{className:"col-span-3 bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[m.jsx(Jc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600 font-medium",children:n("no_clients_found")}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n("add_first_client")})]}):r.map(a=>m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition",children:[m.jsx("div",{className:"flex items-start justify-between mb-4",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:m.jsx(Jc,{className:"w-6 h-6 text-blue-600"})}),m.jsx("div",{children:m.jsx("h3",{className:"font-semibold text-gray-900",children:a.name})})]})}),m.jsxs("div",{className:"space-y-3",children:[a.email&&m.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[m.jsx(sC,{className:"w-4 h-4 text-gray-400"}),m.jsx("span",{className:"text-gray-700",children:a.email})]}),a.phone&&m.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[m.jsx(lC,{className:"w-4 h-4 text-gray-400"}),m.jsx("span",{className:"text-gray-700",children:a.phone})]}),m.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[m.jsx(oC,{className:"w-4 h-4 text-gray-400 mt-0.5"}),m.jsx("span",{className:"text-gray-700",children:a.address})]})]}),m.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:m.jsx("button",{onClick:()=>e(`/clients/${a.id}`),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:n("view_details")})})]},a.id))})]})},UC=()=>{const{t:n}=Rt(),[e,r]=T.useState([]);T.useEffect(()=>{i()},[]);const i=async()=>{const{data:a}=await Ne.from("analytics_snapshots").select("*").order("snapshot_date",{ascending:!1}).limit(7);a&&r(a)},o=()=>{const a=[["Date","Routes","Deliveries","Distance (km)","Fuel Cost","Avg Time (min)","On Time","Delayed"],...e.map(f=>[f.snapshot_date,f.total_routes,f.total_deliveries,f.total_distance_km,f.total_fuel_cost,f.average_delivery_time_minutes,f.on_time_deliveries,f.delayed_deliveries])].map(f=>f.join(",")).join(`
`),u=new Blob([a],{type:"text/csv"}),h=window.URL.createObjectURL(u),d=document.createElement("a");d.href=h,d.download=`logisync-report-${new Date().toISOString().split("T")[0]}.csv`,d.click()};return m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n("reports_analytics")}),m.jsx("p",{className:"text-gray-600 mt-1",children:n("view_performance_metrics")})]}),m.jsxs("button",{onClick:o,className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:[m.jsx(XE,{className:"w-5 h-5"}),m.jsx("span",{children:n("export_csv")})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n("performance_trends")}),m.jsx(cd,{className:"w-5 h-5 text-blue-600"})]}),m.jsx("div",{className:"aspect-video bg-gray-50 rounded-lg flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Kc,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),m.jsx("p",{className:"text-sm text-gray-600",children:n("performance_chart_visualization")})]})})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n("delivery_success_rate")}),m.jsx(Kc,{className:"w-5 h-5 text-green-600"})]}),m.jsx("div",{className:"aspect-video bg-gray-50 rounded-lg flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-5xl font-bold text-gray-900 mb-2",children:[e.length>0&&e[0].total_deliveries>0?(e[0].on_time_deliveries/e[0].total_deliveries*100).toFixed(1):0,"%"]}),m.jsx("p",{className:"text-sm text-gray-600",children:n("on_time_delivery_rate")})]})})]})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[m.jsx("div",{className:"p-6 border-b border-gray-100",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n("daily_analytics")})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("date")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("routes")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("deliveries")}),m.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[n("distance")," (",n("km"),")"]}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("fuel_cost")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("avg_time")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("success_rate")})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:n("no_analytics_data")})}):e.map(a=>m.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Date(a.snapshot_date).toLocaleDateString()}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.total_routes}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.total_deliveries}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.total_distance_km.toFixed(1)}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",a.total_fuel_cost.toFixed(2)]}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[a.average_delivery_time_minutes.toFixed(0)," ",n("min")]}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[a.total_deliveries>0?(a.on_time_deliveries/a.total_deliveries*100).toFixed(1):0,"%"]})]},a.id))})]})})]})]})},FC=()=>{const{t:n}=Rt(),[e,r]=T.useState([]),{user:i}=Li();T.useEffect(()=>{i&&o()},[i]);const o=async()=>{if(!i)return;const{data:d}=await Ne.from("notifications").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});d&&r(d)},a=async d=>{await Ne.from("notifications").update({is_read:!0}).eq("id",d),r(e.map(f=>f.id===d?{...f,is_read:!0}:f))},u=d=>{switch(d){case"delay":return m.jsx(qc,{className:"w-5 h-5 text-yellow-600"});case"deviation":return m.jsx(qc,{className:"w-5 h-5 text-red-600"});case"maintenance":return m.jsx(hC,{className:"w-5 h-5 text-blue-600"});case"general":return m.jsx(eC,{className:"w-5 h-5 text-gray-600"});default:return m.jsx(Va,{className:"w-5 h-5 text-gray-600"})}},h=d=>{switch(d){case"delay":return"bg-yellow-50";case"deviation":return"bg-red-50";case"maintenance":return"bg-blue-50";case"general":return"bg-gray-50";default:return"bg-gray-50"}};return m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n("notifications")}),m.jsx("p",{className:"text-gray-600 mt-1",children:n("stay_updated_with_alerts")})]}),m.jsx("div",{className:"space-y-4",children:e.length===0?m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[m.jsx(Va,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600 font-medium",children:n("no_notifications")}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n("youre_all_caught_up")})]}):e.map(d=>m.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition ${d.is_read?"":"border-l-4 border-l-blue-600"}`,children:m.jsxs("div",{className:"flex items-start space-x-4",children:[m.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${h(d.type)}`,children:u(d.type)}),m.jsx("div",{className:"flex-1",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),m.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.message}),m.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(d.created_at).toLocaleString()})]}),!d.is_read&&m.jsxs("button",{onClick:()=>a(d.id),className:"flex items-center space-x-1 text-sm text-blue-600 hover:text-blue-800 font-medium",children:[m.jsx(I_,{className:"w-4 h-4"}),m.jsx("span",{children:n("mark_as_read")})]})]})})]})},d.id))})]})},HC=({children:n})=>{const{t:e}=Rt(),{profile:r}=Li(),[i,o]=T.useState("profile");return m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e("settings")}),m.jsx("p",{className:"text-gray-600 mt-1",children:e("manage_preferences")})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[m.jsx("div",{className:"lg:col-span-1",children:m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:m.jsxs("nav",{className:"space-y-1",children:[m.jsxs("button",{onClick:()=>o("profile"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition ${i==="profile"?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[m.jsx(M_,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium",children:e("profile")})]}),m.jsxs("button",{onClick:()=>o("security"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition ${i==="security"?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[m.jsx(nC,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium",children:e("security")})]}),m.jsxs("button",{onClick:()=>o("notifications"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition ${i==="notifications"?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[m.jsx(Va,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium",children:e("notifications")})]}),m.jsxs("button",{onClick:()=>o("parameters"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition ${i==="parameters"?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[m.jsx(Gc,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium",children:e("parameters")})]}),m.jsxs("button",{onClick:()=>o("language"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition ${i==="language"?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[m.jsx(Gc,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium",children:e("language")})]})]})})}),m.jsx("div",{className:"lg:col-span-3",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[i==="profile"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:e("profile_information")}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("full_name")}),m.jsx("input",{type:"text",defaultValue:r==null?void 0:r.full_name,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("role")}),m.jsx("input",{type:"text",value:r==null?void 0:r.role,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 capitalize"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("phone")}),m.jsx("input",{type:"tel",defaultValue:(r==null?void 0:r.phone)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:e("save_changes")})]})]}),i==="security"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:e("security_settings")}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("current_password")}),m.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("new_password")}),m.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("confirm_new_password")}),m.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:e("update_password")})]})]}),i==="notifications"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:e("notification_preferences")}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:e("route_delays")}),m.jsx("p",{className:"text-sm text-gray-600",children:e("route_delays_description")})]}),m.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 text-blue-600"})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:e("route_deviations")}),m.jsx("p",{className:"text-sm text-gray-600",children:e("route_deviations_description")})]}),m.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 text-blue-600"})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:e("maintenance_alerts")}),m.jsx("p",{className:"text-sm text-gray-600",children:e("maintenance_alerts_description")})]}),m.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 text-blue-600"})]})]})]}),i==="parameters"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:e("route_parameters")}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("cost_per_kilometer")}),m.jsx("input",{type:"number",step:"0.01",defaultValue:"0.50",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("average_speed")}),m.jsx("input",{type:"number",defaultValue:"50",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("average_stop_time")}),m.jsx("input",{type:"number",defaultValue:"10",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:e("save_parameters")})]})]}),i==="language"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:e("language_settings")}),m.jsx("div",{className:"space-y-4",children:n})]})]})})]})]})},VC=()=>{const{i18n:n}=Rt(),e=r=>{n.changeLanguage(r),localStorage.setItem("i18nextLng",r)};return m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"language-select",children:[n.t("language"),": "]}),m.jsxs("select",{id:"language-select",value:n.language,onChange:r=>e(r.target.value),children:[m.jsx("option",{value:"pt",children:n.t("portuguese")}),m.jsx("option",{value:"es",children:n.t("spanish")}),m.jsx("option",{value:"en",children:n.t("english")})]})]})};function WC(){const{user:n,loading:e}=Li(),{t:r}=Rt();return e?m.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):n?m.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[m.jsx(gC,{}),m.jsx("div",{className:"flex-1 overflow-auto p-8",children:m.jsxs(Ex,{children:[m.jsx(ze,{path:"/",element:m.jsx(kx,{to:"/dashboard"})}),m.jsx(ze,{path:"/dashboard",element:m.jsx(vC,{})}),m.jsx(ze,{path:"/routes",element:m.jsx(yC,{})}),m.jsx(ze,{path:"/routes/create",element:m.jsxs("div",{children:[r("create_route")," View Placeholder"]})}),m.jsx(ze,{path:"/routes/:id",element:m.jsxs("div",{children:[r("view_details")," Route View Placeholder"]})}),m.jsx(ze,{path:"/deliveries",element:m.jsx(DC,{})}),m.jsx(ze,{path:"/fleet",element:m.jsx(zC,{})}),m.jsx(ze,{path:"/fleet/vehicles/add",element:m.jsxs("div",{children:[r("add")," ",r("vehicle")," View Placeholder"]})}),m.jsx(ze,{path:"/fleet/vehicles/:id",element:m.jsxs("div",{children:[r("view_details")," ",r("vehicle")," View Placeholder"]})}),m.jsx(ze,{path:"/fleet/drivers/add",element:m.jsxs("div",{children:[r("add")," ",r("driver")," View Placeholder"]})}),m.jsx(ze,{path:"/fleet/drivers/:id",element:m.jsxs("div",{children:[r("view_profile")," ",r("driver")," View Placeholder"]})}),m.jsx(ze,{path:"/clients",element:m.jsx(BC,{})}),m.jsx(ze,{path:"/clients/add",element:m.jsxs("div",{children:[r("add_client")," View Placeholder"]})}),m.jsx(ze,{path:"/clients/:id",element:m.jsxs("div",{children:[r("view_details")," ",r("client")," View Placeholder"]})}),m.jsx(ze,{path:"/reports",element:m.jsx(UC,{})}),m.jsx(ze,{path:"/notifications",element:m.jsx(FC,{})}),m.jsx(ze,{path:"/settings",element:m.jsx(HC,{children:m.jsx(VC,{})})}),m.jsx(ze,{path:"*",element:m.jsxs("div",{children:["404 | ",r("details")]})})]})})]}):m.jsx(mC,{})}py(document.getElementById("root")).render(m.jsx(T.StrictMode,{children:m.jsx(EP,{children:m.jsx(Gx,{children:m.jsx(WC,{})})})}));export{fw as c,Dm as g};
